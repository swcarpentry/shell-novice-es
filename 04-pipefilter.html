<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>La Terminal de Unix: Pipes y filtros</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav software"><a class="visually-hidden-focusable skip-link" href="#main-content">Ir al contenido principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Software Carpentry" src="assets/images/software-logo.svg"></div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vista de estudiante <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/04-pipefilter.html';">Vista de la instructora</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav software" aria-label="Navegación principal"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Alternar navegación">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menú</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Software Carpentry" src="assets/images/software-logo-sm.svg"></div>
    <div class="lesson-title-md">
      La Terminal de Unix
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="botón de buscar" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            La Terminal de Unix
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Puntos Clave</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glosario</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Perfiles de estudiante</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Más <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">FIXME</a></li>
          </ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Buscar" aria-label="Buscar"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="botón de buscar"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  La Terminal de Unix
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 37%" class="percentage">
    37%
  </div>
  <div class="progress software">
    <div class="progress-bar software" role="progressbar" style="width: 37%" aria-valuenow="37" aria-label="Progreso de la lección" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="Cerrar menú" alt="Cerrar menú" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cerrar " data-episodes="Episodios ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vista de estudiante
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/04-pipefilter.html">Vista de la instructora</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODIOS
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Resumen y configuración</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-intro.html">1. Introducción a la Terminal</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-filedir.html">2. Navegación de archivos y directorios</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-create.html">3. Trabajando con archivos y directorios</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        4. Pipes y filtros
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#pipeline-de-nelle-comprobaci%C3%B3n-de-archivos">Pipeline de Nelle: Comprobación de archivos</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-loop.html">5. Bucles</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-script.html">6. Scripts de la terminal</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-find.html">7. Encontrando archivos</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RECURSOS
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Puntos Clave</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glosario</a>
                      </li>
                      <li>
                        <a href="profiles.html">Perfiles de estudiante</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="reference.html">FIXME</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">Todo en una sola página</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Capítulo previo y siguiente"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="03-create.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previo</a>
        <a class="chapter-link float-end" href="05-loop.html">Siguiente<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="03-create.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previo: Trabajando con
        </a>
        <a class="chapter-link float-end" href="05-loop.html" rel="next">
          Siguiente: Bucles... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Pipes y filtros</h1>
        <p>Última actualización: 2023-04-24 |
        
        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/04-pipefilter.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul><li>¿Cómo puedo combinar comandos existentes para hacer cosas
nuevas?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul><li>Redireccionar la salida de un comando a un archivo.</li>
<li>Procesar un archivo en lugar de la entrada de teclado mediante la
redirección.</li>
<li>Construir <strong>pipelines</strong> de comandos con dos o más
etapas.</li>
<li>Explicar lo que normalmente sucede si un programa o un
<strong>pipeline</strong> no recibe ninguna entrada para procesar.</li>
<li>Explicar las filosofía de Unix de ‘pequeñas piezas, libremente
unidas’.</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>Ahora que ya sabemos algunos comandos básicos, podemos ver finalmente
la característica más poderosa de la terminal: la facilidad con la que
nos permite combinar los programas existentes de nuevas maneras.
Comenzaremos con un directorio llamado <code>molecules</code> que
contiene seis archivos que describen algunas moléculas orgánicas
simples. La extensión <code>.pdb</code> indica que estos archivos están
en formato Protein Data Bank, un formato de texto simple que especifica
el tipo y la posición de cada átomo en la molécula.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> ls molecules</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb    ethane.pdb    methane.pdb
octane.pdb    pentane.pdb   propane.pdb</code></pre>
</div>
<p>Entra a ese directorio usando el comando <code>cd</code> y ejecuta el
comando <code>wc *.pdb</code>. <code>wc</code> es el comando “word
count”: cuenta el número de líneas, palabras y caracteres de un archivo.
El <code>*</code> en <code>*.pdb</code> coincide con cero o más
caracteres, por lo que la terminal convierte <code>*.pdb</code> en una
lista de todos los archivos <code>.pdb</code> en el directorio
actual:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> cd molecules</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="pp">*</span>.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  156 1158 cubane.pdb
  12   84  622 ethane.pdb
   9   57  422 methane.pdb
  30  246 1828 octane.pdb
  21  165 1226 pentane.pdb
  15  111  825 propane.pdb
 107  819 6081 total</code></pre>
</div>
<div id="caracteres-especiales" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="caracteres-especiales" class="callout-inner">
<h3 class="callout-title">Caracteres especiales<a class="anchor" aria-label="anclaje" href="#caracteres-especiales"></a>
</h3>
<div class="callout-content">
<p><code>*</code> Es un caracter especial o <strong>wild card</strong>.
Corresponde a cero o más caracteres, así que <code>*.pdb</code> coincide
con<code>ethane.pdb</code>, <code>propane.pdb</code>, y cada archivo que
termina con ‘.pdb’. Por otro lado, <code>p*.pdb</code> sólo coincide con
<code>pentane.pdb</code> y<code>propane.pdb</code>, porque la ‘p’ al
inicio hace coincidir los nombres de archivos que comienzan con la letra
‘p’.</p>
<p><code>?</code> también es un caracter especial, pero sólo coincide
con un solo carácter. Esto significa que <code>p?.pdb</code> podría
coincidir con <code>pi.pdb</code> o<code>p5.pdb</code> (si existieran en
el directorio <code>molecules</code>), pero no<code>propane.pdb</code>.
Podemos usar cualquier número de caracteres especiales a la vez: por
ejemplo, <code>p*.p?*</code> coincide con cualquier cosa que comience
con una ‘p’ y termine con ‘.’, ‘p’, y al menos un carácter más (ya que
<code>?</code> tiene que coincidir con un carácter, y el final
<code>*</code> puede coincidir con cualquier número de caracteres). Por
lo tanto, <code>p*.p?*</code> coincidirá con
<code>preferred.practice</code>, e incluso <code>p.pi</code> (dado que
el primer <code>*</code> no coincide con ningún carácter), pero no
<code>quality.practice</code> (ya que no inicia con ‘p’) o
<code>preferred.p</code> (porque no hay al menos un carácter después de
‘.p’).</p>
<p>Cuando la terminal reconoce un caracter especial lo expande para
crear una lista de nombres de archivo coincidentes <em>antes</em> de
ejecutar el comando seleccionado. Como excepción, si una expresión con
caracteres especiales no coincide con algún archivo, la terminal pasará
la expresión como un parámetro al comando tal y como está escrita. Por
ejemplo, ejecutar <code>ls *.pdf</code> en el
directorio<code>molecules</code> (que contiene sólo los archivos con
nombres que terminan con <code>.pdb</code>) da como resultado un mensaje
de error indicando que no hay ningún archivo llamado
<code>* .pdf</code>. Sin embargo, generalmente comandos como
<code>wc</code> y<code>ls</code> ven las listas de nombres de archivo
que coinciden con estas expresiones, pero no los comodines por si solos.
Es la terminal, no los otros programas, la que se ocupa de expandir los
caracteres especiales, este es otro ejemplo de diseño ortogonal.</p>
</div>
</div>
</div>
<div id="usando-caracteres-especiales" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="usando-caracteres-especiales" class="callout-inner">
<h3 class="callout-title">Usando caracteres especiales<a class="anchor" aria-label="anclaje" href="#usando-caracteres-especiales"></a>
</h3>
<div class="callout-content">
<p>En el directorio <code>molecules</code>, ¿qué variación del
comando<code>ls</code> producirá esta salida?</p>
<p><code>ethane.pdb   methane.pdb</code></p>
<ol style="list-style-type: decimal"><li><code>ls *t*ane.pdb</code></li>
<li><code>ls *t?ne.*</code></li>
<li><code>ls *t??ne.pdb</code></li>
<li><code>ls ethane.*</code></li>
</ol></div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Solución</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>La solución es 3.</p>
<ol style="list-style-type: decimal"><li><p>muestra todos los archivos que contienen cualquier número o
combinación de caracteres seguidos de la letra <code>t</code>, otro
caracter único, y terminan con <code>ane.pdb</code>. Esto incluye
<code>octane.pdb</code> y <code>pentane.pdb</code>.</p></li>
<li><p>muestra todos los archivos que contienen cualquier número o
combinación de caracteres, <code>t</code>, otro caracter,
<code>ne.</code>, seguido de otro número o combinación de caracteres.
Esto regresaría <code>octane.pdb</code> y <code>pentane.pdb</code> pero
nad que termine con <code>thane.pdb</code>.</p></li>
<li><p>soluciona el problema de la opción 3 agregando dos caracteres
entre <code>t</code> y <code>me</code>. Esta es la opción
correcta.</p></li>
<li><p>sólo muestra archivos que comienzan con
<code>ethane.</code>.</p></li>
</ol></div>
</div>
</div>
</div>
<p>Si ejecutamos <code>wc -l</code> en lugar de<code>wc</code>, la
salida sólo muestra el número de líneas por archivo:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  cubane.pdb
  12  ethane.pdb
   9  methane.pdb
  30  octane.pdb
  21  pentane.pdb
  15  propane.pdb
 107  total</code></pre>
</div>
<p>También podemos usar <code>-w</code> para obtener sólo el número de
palabras, o <code>-c</code> para obtener sólo el número de
caracteres.</p>
<p>¿Cuál de estos archivos es el más corto? Es una pregunta fácil de
responder cuando sólo hay seis archivos, pero ¿y si hubiera 6,000?
Nuestro primer paso hacia una solución es ejecutar el comando:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="op">&gt;</span> lengths.txt</span></code></pre>
</div>
<p>El símbolo “mayor que”, <code>&gt;</code>, le dice a la terminal que
<strong>redireccione</strong> la salida del comando a un archivo en
lugar de imprimirlo en la pantalla. (Es por eso que no hay salida de
pantalla: en vez de mostrarlo, todo lo que <code>wc</code> imprime se ha
enviado al archivo <code>lengths.txt</code>.) Si no existe el archivo,
la terminal lo creará. Si el archivo existe, será sobrescrito
silenciosamente, lo que puede provocar pérdida de datos y, por lo tanto,
requiere cierta precaución. <code>ls lengths.txt</code> confirma que el
archivo existe:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> ls lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">lengths.txt</span></span></code></pre>
</div>
<p>Ahora podemos enviar el contenido de <code>lengths.txt</code> a la
pantalla usando <code>cat lengths.txt</code>. <code>cat</code> significa
“concatenate” (concatenar): imprime el contenido de los archivos uno
tras otro. En este caso sólo hay un archivo, así que <code>cat</code>
sólo nos muestra lo que éste contiene:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> cat lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  cubane.pdb
  12  ethane.pdb
   9  methane.pdb
  30  octane.pdb
  21  pentane.pdb
  15  propane.pdb
 107  total</code></pre>
</div>
<div id="salida-página-por-página" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="salida-página-por-página" class="callout-inner">
<h3 class="callout-title">Salida Página por página<a class="anchor" aria-label="anclaje" href="#salida-p%C3%A1gina-por-p%C3%A1gina"></a>
</h3>
<div class="callout-content">
<p>Continuaremos usando <code>cat</code> en esta lección, por
conveniencia y consistencia, pero tiene la desventaja de que siempre
vuelca todo el archivo en la pantalla. En la práctica es más útil el
comando <code>less</code>, que se utiliza como
<code>$ less lengths.txt</code>. Este comando muestra sólo el contenido
del archivo que cabe en una pantalla y luego se detiene. Puedes avanzar
a la siguiente pantalla presionando la barra espaciadora, o retroceder
presionando <code>b</code>. Para salir, pulsa <code>q</code>.</p>
</div>
</div>
</div>
<p>Ahora utilizemos el comando <code>sort</code> para ordenar el
contenido. También usaremos el indicador <code>-n</code> para
especificar que el tipo de orden que requerimos es numérico en lugar de
alfabético. Esto <em>no</em> cambia el archivo; sólo despliega el
resultado ordenado en la pantalla:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb
 12  ethane.pdb
 15  propane.pdb
 20  cubane.pdb
 21  pentane.pdb
 30  octane.pdb
107  total</code></pre>
</div>
<p>Podemos poner la lista de líneas ordenada en otro archivo temporal
llamado <code>sorted-lengths.txt</code> poniendo
<code>&gt; sorted-lengths.txt</code> después del comando, así como
usamos <code>&gt; lengths.txt</code> para poner la salida de
<code>wc</code> en <code>lengths.txt</code>. Una vez que hayamos hecho
eso, podemos ejecutar otro comando llamado <code>head</code> para
obtener las primeras líneas de <code>sorted-lengths.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> sorted-lengths.txt</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 1 sorted-lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb</code></pre>
</div>
<p>El parámetro <code>-n 1</code> con <code>head</code> indica que sólo
queremos la primera línea del archivo; <code>-n 20</code> conseguirá las
primeras 20, y así sucesivamente. Dado que
<code>sorted-lengths.txt</code> contiene las longitudes de nuestros
archivos ordenados de menor a mayor, la salida de <code>head</code> debe
ser el archivo con menos líneas.</p>
<div id="redirigiendo-al-mismo-archivo" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="redirigiendo-al-mismo-archivo" class="callout-inner">
<h3 class="callout-title">Redirigiendo al mismo archivo<a class="anchor" aria-label="anclaje" href="#redirigiendo-al-mismo-archivo"></a>
</h3>
<div class="callout-content">
<p>Es una mala idea intentar redireccionar la salida de un comando que
opera en un archivo, al mismo archivo. Por ejemplo:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> lengths.txt</span></code></pre>
</div>
<p>Hacer algo como esto puede regresar resultados incorrectos y/o
eliminar el contenido de <code>lengths.txt</code>.</p>
</div>
</div>
</div>
<p>Si crees que es confuso, no estás solo: incluso una vez que entiendas
lo que <code>wc</code>,<code>sort</code> y <code>head</code> hacen,
todos esos archivos intermedios hacen difícil seguir el hilo de lo que
está pasando. Podemos hacerlo más fácil de entender ejecutando
<code>sort</code> y <code>head</code> juntos:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb</code></pre>
</div>
<p>La barra vertical, <code>|</code>, entre los dos comandos se denomina
<strong>pipe</strong> (pronunciado paip). El <strong>pipe</strong> le
dice a la terminal que queremos usar la salida del comando a la
izquierda como entrada al comando de la derecha. La computadora puede
crear un archivo temporal si es necesario, copiar datos de un programa a
otro en la memoria, o cualquier otra cosa que sea necesaria; no es
necesario que lo entendamos para hacerlo funcionar.</p>
<p>Nada nos impide encadenar <strong>pipes</strong> consecutivamente.
Por ejemplo, puedes enviar la salida de <code>wc</code> directamente a
<code>sort</code>, y luego la salida resultante a <code>head</code>.
Así, primero usamos un <strong>pipe</strong> para enviar la salida de
<code>wc</code> a <code>sort</code>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   9 methane.pdb
  12 ethane.pdb
  15 propane.pdb
  20 cubane.pdb
  21 pentane.pdb
  30 octane.pdb
 107 total</code></pre>
</div>
<p>Y ahora enviamos la salida de este <strong>pipe</strong>, a través de
otro <strong>pipe</strong>, a <code>head</code>, para que el
<strong>pipeline</strong> completo se convierta en:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   9  methane.pdb</code></pre>
</div>
<p>Esto es exactamente como un matemático anidando funciones como
<em>log(3x)</em> Y diciendo “el logaritmo de tres veces <em>x</em>”. En
nuestro caso, el cálculo es “cabeza de la lista ordenada del número de
líneas de <code>*.pdb</code>”.</p>
<p>Esto es lo que realmente sucede detrás de la terminal cuando creamos
un <strong>pipe</strong>. Cuando una computadora ejecuta un programa
(cualquier programa) crea un <strong>proceso</strong> en memoria para
almacenar el software del programa y su estado actual. Cada proceso
tiene un canal de entrada llamado <strong>entrada estándar</strong>.
(Para este punto, puede sorprenderte que el nombre es tan memorable,
pero no te preocupes, la mayoría de los programadores de Unix lo llaman
“stdin”). Cada proceso también tiene un canal de salida predeterminado
llamado <strong>salida estándar</strong> (o “stdout”). Un tercer canal
de salida llamado <strong>error estándar</strong> (stderr) también
existe. Este canal suele utilizarse para mensajes de error o de
diagnóstico y permite al usuario canalizar la salida de un programa a
otro mientras sigue recibiendo mensajes de error en el terminal.</p>
<p>La terminal es realmente otro programa. Bajo circunstancias normales,
lo que ingresemos en el teclado se envía a la entrada estándar de la
terminal, y lo que produce en la salida estándar se muestra en nuestra
pantalla. Cuando le decimos a la terminal que ejecute un programa, ésta
crea un nuevo proceso y envía temporalmente lo que tecleamos en nuestro
teclado a la entrada estándar de ese proceso, y lo que el proceso envía
a la salida estándar, la terminal lo envía a la pantalla.</p>
<p>Esto es lo que ocurre cuando ejecutamos
<code>wc -l *.pdb &gt; lengths.txt</code>. La terminal comienza
diciéndole a la computadora que cree un nuevo proceso para ejecutar el
programa <code>wc</code>. Como hemos proporcionado algunos nombres de
archivo como parámetros, <code>wc</code> lee estos en vez de la entrada
estándar. Y puesto que hemos utilizado <code>&gt;</code> para redirigir
la salida a un archivo, la terminal conecta la salida estándar del
proceso a ese archivo.</p>
<p>Si ejecutamos <code>wc -l *.pdb | sort -n</code> en su lugar, la
terminal crea dos procesos (uno para cada proceso en el
<strong>pipe</strong>) de modo que <code>wc</code> y<code>sort</code>
funcionan simultáneamente. La salida estándar de <code>wc</code> es
alimentada directamente a la entrada estándar de <code>sort</code>; ya
que no hay redirección con <code>&gt;</code>, la salida de
<code>sort</code> va a la pantalla. Y si ejecutamos
<code>wc -l * .pdb | sort -n | head -n 1</code>, obtenemos tres procesos
con datos que fluyen de los archivos, a través de <code>wc</code> a
<code>sort</code>, de <code>sort</code> a<code>head</code> y finalmente
a la pantalla.</p>
<figure><img src="fig/redirects-and-pipes.png" alt="Redirects and Pipes" class="figure mx-auto d-block"></figure><p>Esta sencilla idea es la razón por la cual Unix ha tenido tanto
éxito. En lugar de crear enormes programas que tratan de hacer muchas
cosas diferentes, los programadores de Unix se centran en crear muchas
herramientas simples que hacen bien su trabajo y son capaces de cooperar
entre sí. Este modelo de programación se llama “<strong>pipes</strong> y
<strong>filtros</strong>”. Ya hemos visto <strong>pipes</strong>; un
<strong>filtro</strong> es un programa como <code>wc</code>
o<code>sort</code> que transforma una entrada en una salida. Casi todas
las herramientas estándar de Unix pueden funcionar de esta manera: a
menos que se les indique lo contrario, leen de entrada estándar, hacen
algo con lo que han leído, y escriben en la salida estándar.</p>
<p>La clave es que cualquier programa que lea líneas de texto de entrada
estándar y escriba líneas de texto en la salida estándar puede
combinarse con cualquier otro programa que se comporte de esta manera
también. Puedes <em>y debes</em> escribir tus programas de esta manera
para que tú y otras personas puedan poner esos programas en
<strong>pipes</strong> y así multiplicar su poder.</p>
<div id="redireccionamiento-de-entrada" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="redireccionamiento-de-entrada" class="callout-inner">
<h3 class="callout-title">Redireccionamiento de entrada<a class="anchor" aria-label="anclaje" href="#redireccionamiento-de-entrada"></a>
</h3>
<div class="callout-content">
<p>Además de usar <code>&gt;</code> para redirigir la salida de un
programa, podemos usar <code>&lt;</code> para redirigir su entrada, por
ejemplo, para leer un archivo en lugar de la entrada estándar. En lugar
de escribir <code>wc ammonia.pdb</code>, podríamos escribir
<code>wc &lt; ammonia.pdb</code>. En el primer caso, <code>wc</code>
obtiene un parámetro de línea de comandos diciéndole qué archivo abrir.
En el segundo, <code>wc</code> no tiene ningun parámetro de la línea de
comandos, por lo que se lee desde la entrada estándar, pero hemos
indicado al shell que envíe el contenido de <code>ammonia.pdb</code> a
la entrada estándar de <code>wc</code>, por lo que el resultado de ambos
comandos es el mismo.</p>
</div>
</div>
</div>
<section id="pipeline-de-nelle-comprobación-de-archivos"><h2 class="section-heading">Pipeline de Nelle: Comprobación de archivos<a class="anchor" aria-label="anclaje" href="#pipeline-de-nelle-comprobaci%C3%B3n-de-archivos"></a>
</h2>
<hr class="half-width"><p>Nelle ha procesado sus muestras en su máquina de ensayo, generando 17
archivos en el directorio <code>north-pacific-gyre/2012-07-03</code>
descrito anteriormente. Como un chequeo rápido, a partir de su
directorio de inicio, Nelle teclea:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> cd north-pacific-gyre/2012-07-03</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<p>La salida son 18 líneas que como estas:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>300 NENE01729A.txt
300 NENE01729B.txt
300 NENE01736A.txt
300 NENE01751A.txt
300 NENE01751B.txt
300 NENE01812A.txt
... ...</code></pre>
</div>
<p>Ahora escribe esto:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 240 NENE02018B.txt
 300 NENE01729A.txt
 300 NENE01729B.txt
 300 NENE01736A.txt
 300 NENE01751A.txt</code></pre>
</div>
<p>Ups: uno de los archivos tiene 60 líneas menos que los otros. Cuando
Nelle vuelve y lo revisa ve que hizo ese ensayo a las 8:00 un lunes por
la mañana. Alguien probablemente usó la misma máquina ese fin de semana,
y olvidó reiniciarla. Antes de volver a analizar esa muestra, decide
comprobar si algunos archivos tienen demasiados datos:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 300 NENE02040B.txt
 300 NENE02040Z.txt
 300 NENE02043A.txt
 300 NENE02043B.txt
5040 total</code></pre>
</div>
<p>Esas cifras parecen buenas pero, ¿qué es esa ‘Z’ en la antepenúltima
línea? todas sus muestras deben estar marcadas con “A” o “B”; por
convención, su laboratorio utiliza ‘Z’ para indicar muestras con
información que falta. Para encontrar a otros archivos como este, Nelle
hace lo siguiente:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>Z.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>NENE01971Z.txt    NENE02040Z.txt</code></pre>
</div>
<p>Como esperaba, cuando comprueba el registro en su computadora
portátil, no hay profundidad registrada para ninguna de esas muestras.
Ya que es demasiado tarde para obtener la información de otra manera,
ella debe excluir esos dos archivos de su análisis. Podría simplemente
borrarlos usando <code>rm</code>, pero en realidad hay algunos análisis
que podría hacer más tarde, donde la profundidad no importa, por lo que,
en vez de borrarlos, sólo tendrá cuidado al seleccionar archivos
utilizando la expresión con caracteres especiales
<code>*[AB].txt</code>. Como siempre, el <code>*</code> coincide con
cualquier número de caracteres; la expresión <code>[AB]</code> coincide
con una ‘A’ o una ‘B’, por lo que coincide con los nombres de todos los
archivos de datos válidos que tiene.</p>
<div id="qué-hace-sort--n" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-hace-sort--n" class="callout-inner">
<h3 class="callout-title">¿Qué hace<code>sort -n</code>?<a class="anchor" aria-label="anclaje" href="#qu%C3%A9-hace-sort--n"></a>
</h3>
<div class="callout-content">
<p>Si ejecutamos <code>sort</code> en este archivo:</p>
<pre class="source"><code><span><span class="fl">10</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">22</span></span>
<span><span class="fl">6</span></span></code></pre>
<p>la salida es:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">10</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">22</span></span>
<span><span class="fl">6</span></span></code></pre>
</div>
<p>Si ejecutamos <code>sort -n</code> en la misma entrada, obtendremos
esto en su lugar:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2</span></span>
<span><span class="fl">6</span></span>
<span><span class="fl">10</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">22</span></span></code></pre>
</div>
<p>Explique por qué <code>-n</code> tiene este efecto.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Solución</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>La opción <code>-n</code> indica un ordenamiento numérico, en lugar
de alfabético.</p>
</div>
</div>
</div>
</div>
<div id="qué-significa" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-significa" class="callout-inner">
<h3 class="callout-title">¿Qué significa<code>&lt;</code>?<a class="anchor" aria-label="anclaje" href="#qu%C3%A9-significa"></a>
</h3>
<div class="callout-content">
<p>Muévete al directorio <code>data-shell</code> (el directorio en el
nivel más alto del ejemplo).</p>
<p>¿Cuál es la diferencia entre:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> notes.txt</span></code></pre>
</div>
<p>y:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="op">&lt;</span> notes.txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">Solución</h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p><code>&lt;</code> se usa para redirigir la entrada a un comando.</p>
<p>En los dos ejemplos, la terminal regresa el número de líneas en la
entrada al comando <code>wc</code>. En el primer ejemplo, la entrada es
el archivo <code>notes.txt</code> y el nombre del archivo se menciona en
la salida del comando <code>wc</code>. En el segundo ejemplo, el
contenido del archivo <code>notes.txt</code> es redireccionado a la
entrada estándar. Es como si hubiéramos introducido el contenido del
archivo a mano. Por esto, el nombre del archivo no es especificado en la
salida, sólo el número de líneas. Inténtalo por tu cuenta.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="ex">this</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a><span class="ex">is</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="ex">a</span> test</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a><span class="ex">Ctrl-D</span> <span class="co"># Esto le indica a la terminal que has terminado de teclear la entrada.</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<blockquote>
<h2 id="qué-significa-1">¿Qué significa <code>&gt;&gt;</code>?</h2>
<p>Hemos visto el uso de <code>&gt;</code> pero hay un operador similar
<code>&gt;&gt;</code> que funciona un poco distinto. Aprenderemos sobre
la diferencia de estos comandos impriendo algunas cadenas de caracteres.
Podemos usar el comando <code>echo</code> para imprimir cadenas de
caracteres, e.g.:</p>
</blockquote>
<blockquote>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> echo El comando echo imprime el texto</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>El comando echo imprime el texto</code></pre>
</div>
</blockquote>
<blockquote>
<p>Ahora prueba los comandos siguientes para revelar la diferencia entre
los dos operadores.</p>
</blockquote>
<p>¿Cuál es la diferencia entre:</p>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Desafío<a class="anchor" aria-label="anclaje" href="#discussion1"></a>
</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> echo hello <span class="op">&gt;</span> testfile01.txt</span></code></pre>
</div>
<p>y:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> echo hello <span class="op">&gt;&gt;</span> testfile02.txt</span></code></pre>
</div>
<p>Pista: Intenta ejecutar cada comando dos veces seguidas y después
examinar los archivos de salida.</p>
</div>
</div>
</div>
<div id="más-información-sobre-caracteres-especiales" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="más-información-sobre-caracteres-especiales" class="callout-inner">
<h3 class="callout-title">Más información sobre caracteres
especiales<a class="anchor" aria-label="anclaje" href="#m%C3%A1s-informaci%C3%B3n-sobre-caracteres-especiales"></a>
</h3>
<div class="callout-content">
<p>Sam tiene un directorio que contiene datos de calibración, otros
datos y descripciones de estos datos:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">2015-10-23-calibration.txt</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="ex">2015-10-23-dataset1.txt</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a><span class="ex">2015-10-23-dataset2.txt</span></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a><span class="ex">2015-10-23-dataset_overview.txt</span></span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a><span class="ex">2015-10-26-calibration.txt</span></span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a><span class="ex">2015-10-26-dataset1.txt</span></span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a><span class="ex">2015-10-26-dataset2.txt</span></span>
<span id="cb42-8"><a href="#cb42-8" tabindex="-1"></a><span class="ex">2015-10-26-dataset_overview.txt</span></span>
<span id="cb42-9"><a href="#cb42-9" tabindex="-1"></a><span class="ex">2015-11-23-calibration.txt</span></span>
<span id="cb42-10"><a href="#cb42-10" tabindex="-1"></a><span class="ex">2015-11-23-dataset1.txt</span></span>
<span id="cb42-11"><a href="#cb42-11" tabindex="-1"></a><span class="ex">2015-11-23-dataset2.txt</span></span>
<span id="cb42-12"><a href="#cb42-12" tabindex="-1"></a><span class="ex">2015-11-23-dataset_overview.txt</span></span></code></pre>
</div>
<p>Antes de ir a otro viaje de campo, Sam quiere respaldar sus datos y
enviar algunos <strong>datasets</strong> a su colega Bob. Sam utiliza
los siguientes comandos para lograrlo:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>dataset<span class="pp">*</span> /backup/datasets</span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="ex">$</span> cp ____calibration____ /backup/calibration</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a><span class="ex">$</span> cp 2015-____-____ ~/send_to_bob/all_november_files/</span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a><span class="ex">$</span> cp ____ ~/send_to_bob/all_datasets_created_on_a_23rd/</span></code></pre>
</div>
<p>Ayuda a Sam rellenando los espacios en blanco.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">Solución</h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>calibration.txt /backup/calibration</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="ex">$</span> cp 2015-11-<span class="pp">*</span> ~/send_to_bob/all_november_files/</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>-23-dataset<span class="pp">*</span> ~send_to_bob/all_datasets_created_on_a_23rd/</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="uniendo-comandos-con-pipes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="uniendo-comandos-con-pipes" class="callout-inner">
<h3 class="callout-title">Uniendo comandos con pipes<a class="anchor" aria-label="anclaje" href="#uniendo-comandos-con-pipes"></a>
</h3>
<div class="callout-content">
<p>En nuestro directorio actual, queremos encontrar los 3 archivos que
tienen el menor número de líneas. ¿Cuál de los siguientes comandos
funcionaría?</p>
<ol style="list-style-type: decimal"><li><code>wc -l * &gt; sort -n &gt; head -n 3</code></li>
<li><code>wc -l * | sort -n | head -n 1-3</code></li>
<li><code>wc -l * | head -n 3 | sort -n</code></li>
<li><code>wc -l * | sort -n | head -n 3</code></li>
</ol></div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">Solución</h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>La solución es la opción 4. El caracter de <strong>pipe</strong>
<code>|</code> es usado para alimentar la entrada estándar de un proceso
con la salida estándar del anterior. <code>&gt;</code> es utilizado para
redirigir la salida estándar a un archivo. ¡Inténtalo en el directorio
<code>data-shell/molecules</code>!</p>
</div>
</div>
</div>
</div>
<div id="por-qué-uniq-sólo-elimina-duplicados-adyacentes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="por-qué-uniq-sólo-elimina-duplicados-adyacentes" class="callout-inner">
<h3 class="callout-title">¿Por qué<code>uniq</code>sólo elimina
duplicados adyacentes?<a class="anchor" aria-label="anclaje" href="#por-qu%C3%A9-uniq-s%C3%B3lo-elimina-duplicados-adyacentes"></a>
</h3>
<div class="callout-content">
<p>El comando <code>uniq</code> elimina las líneas duplicadas adyacentes
de su entrada. Por ejemplo, el archivo
<code>data-shell/salmon.txt</code> contiene:</p>
<pre class="source"><code><span><span class="va">coho</span></span>
<span><span class="va">coho</span></span>
<span><span class="va">steelhead</span></span>
<span><span class="va">coho</span></span>
<span><span class="va">steelhead</span></span>
<span><span class="va">steelhead</span></span></code></pre>
<p>El comando <code>uniq salmon.txt</code> del directorio
<code>data-shell/data</code> produce:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">coho</span></span>
<span><span class="va">steelhead</span></span>
<span><span class="va">coho</span></span>
<span><span class="va">steelhead</span></span></code></pre>
</div>
<p>¿Por qué crees que <code>uniq</code> sólo elimina <em>líneas
adyacentes</em> duplicadas? (Pista: piensa en datasets muy largos.) ¿Qué
otro comando podría combinarse con él en un <strong>pipe</strong> para
eliminar todas las líneas duplicadas?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">Solución</h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> sort salmon.txt <span class="kw">|</span> <span class="fu">uniq</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="comprensión-de-la-lectura-de-pipes" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="comprensión-de-la-lectura-de-pipes" class="callout-inner">
<h3 class="callout-title">Comprensión de la lectura de pipes<a class="anchor" aria-label="anclaje" href="#comprensi%C3%B3n-de-la-lectura-de-pipes"></a>
</h3>
<div class="callout-content">
<p>Un archivo llamado <code>animals.txt</code> (en el directorio
<code>data-shell/data</code>) contiene los siguientes datos:</p>
<pre class="source"><code>2012-11-05,deer
2012-11-05,rabbit
2012-11-05,raccoon
2012-11-06,rabbit
2012-11-06,deer
2012-11-06,fox
2012-11-07,rabbit
2012-11-07,bear</code></pre>
<p>¿Qué texto pasa a través de cada uno de los <strong>pipes</strong> y
qué incluye el redireccionamiento final en el siguiente
<strong>pipeline</strong>?</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">$</span> cat animals.txt <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5 <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 3 <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-r</span> <span class="op">&gt;</span> final.txt</span></code></pre>
</div>
<p>Pista: construye el <strong>pipeline</strong> agregando un comando a
la vez para comprobar tu respuesta.</p>
</div>
</div>
</div>
<div id="construcción-de-pipes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="construcción-de-pipes" class="callout-inner">
<h3 class="callout-title">Construcción de Pipes<a class="anchor" aria-label="anclaje" href="#construcci%C3%B3n-de-pipes"></a>
</h3>
<div class="callout-content">
<p>Para el archivo <code>animals.txt</code> del ejercicio anterior, el
comando:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.txt</span></code></pre>
</div>
<p>produce la siguiente salida:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">deer</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">raccoon</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">deer</span></span>
<span><span class="va">fox</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">bear</span></span></code></pre>
</div>
<p>¿Qué otro(s) comando(s) podría(n) agregarse a estos en un
<strong>pipeline</strong> para encontrar qué animales contiene el
archivo (sin nombres duplicados)?</p>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">Solución</h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="eliminación-de-archivos-innecesarios" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="eliminación-de-archivos-innecesarios" class="callout-inner">
<h3 class="callout-title">Eliminación de archivos innecesarios<a class="anchor" aria-label="anclaje" href="#eliminaci%C3%B3n-de-archivos-innecesarios"></a>
</h3>
<div class="callout-content">
<p>Suponte que deseas borrar tus archivos de datos procesados y sólo
conservar los archivos sin procesar y el <strong>script</strong> de
procesamiento para ahorrar espacio en disco. Los archivos sin procesar
terminan en <code>.dat</code> y los archivos procesados terminan en
<code>.txt</code>. ¿Cuál de las siguientes opciones eliminaría todos los
archivos de datos procesados, y <em>nada más que</em> los archivos de
datos procesados?</p>
<ol style="list-style-type: decimal"><li><code>rm ?.txt</code></li>
<li><code>rm *.txt</code></li>
<li><code>rm * .txt</code></li>
<li><code>rm *.*</code></li>
</ol></div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">Solución</h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>Esto eliminaría archivos con terminación <code>.txt</code> y nombres
de un caracter.</li>
<li>Esta es la respuesta correcta.</li>
<li>La terminal expandiría el <code>*</code> para coincidir con todo el
directorio actual, así que el comando intentaría eliminar todos los
archivos, más un archivo adicional llamado <code>.txt</code>.</li>
<li>La terminal expandiría <code>*.*</code> para coincidir con todos los
archivos, independientemente de su terminación. Este comando eliminaría
todos los archivos.</li>
</ol></div>
</div>
</div>
</div>
<div id="expresiones-con-caracteres-especiales" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="expresiones-con-caracteres-especiales" class="callout-inner">
<h3 class="callout-title">Expresiones con Caracteres Especiales<a class="anchor" aria-label="anclaje" href="#expresiones-con-caracteres-especiales"></a>
</h3>
<div class="callout-content">
<p>Las expresiones con caracteres especiales pueden llegar a ser muy
complejas, sin embargo a veces es posible escribirlas de forma que
utilicen una sintaxis muy sencilla y sean un poco más elocuentes.
Considera el directorio
<code>data-shell/north-pacific-gyre/2012-07-03</code> : la expresión
<code>*[AB].txt</code> coincide con todos los archivos que terminan en
<code>A.txt</code> o <code>B.txt</code>. Imagina que ignoras esto.</p>
<ol style="list-style-type: decimal"><li><p>¿Podrías hacer coincidir el mismo set de archivos con una
expresión que incluya caracteres especiales, pero no <code>[]</code>?
<em>Pista:</em> Podrías necesitar más de una expresión.</p></li>
<li><p>La expresión que encontraste y la expresión usada en la lección
coinciden con el mismo grupo de archivos en el ejemplo. ¿Puedes
identificar la ligera diferencia en la salida de ambos
comandos?</p></li>
<li><p>¿Bajo qué circunstancias tu nueva expresión produciría un mensaje
de error y la expresión original no?</p></li>
</ol></div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9">Solución</h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" aria-labelledby="headingSolution9" data-bs-parent="#accordionSolution9">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>
</li></ol><div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>A.txt</span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>B.txt</span>
<span id="cb53-4"><a href="#cb53-4" tabindex="-1"></a><span class="ex">...</span></span></code></pre>
</div>
<ol start="2" style="list-style-type: decimal"><li><p>La salida de la nueva expresión aparece separada porque son dos
comandos independientes.</p></li>
<li><p>Cuando no haya archivos que terminen en <code>A.txt</code>, o en
<code>B.txt</code>.</p></li>
</ol></div>
</div>
</div>
</div>
<div id="qué-tubería" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-tubería" class="callout-inner">
<h3 class="callout-title">¿Qué tubería?<a class="anchor" aria-label="anclaje" href="#qu%C3%A9-tuber%C3%ADa"></a>
</h3>
<div class="callout-content">
<p>El archivo <code>data-shell/data/animals.txt</code> contiene 586
líneas de datos en el siguiente formato:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2012-11-05,deer
2012-11-05,rabbit
2012-11-05,raccoon
2012-11-06,rabbit
...</code></pre>
</div>
<p>Asumiendo que tu directorio actual sea <code>data-shell/data/</code>,
¿qué comando usarías para producir una tabla que muestre el recuento
total de cada tipo de animal en el archivo?</p>
<ol style="list-style-type: decimal"><li><code>grep {deer, rabbit, raccoon, deer, fox, bear} animals.txt | wc -l</code></li>
<li><code>sort animals.txt | uniq -c</code></li>
<li><code>sort -t, -k2,2 animals.txt | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.txt | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.txt | sort | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.txt | sort | uniq -c | wc -l</code></li>
</ol></div>
</div>
</div>
<div id="accordionSolution10" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution10" aria-expanded="false" aria-controls="collapseSolution10">
  <h4 class="accordion-header" id="headingSolution10">Solución</h4>
</button>
<div id="collapseSolution10" class="accordion-collapse collapse" aria-labelledby="headingSolution10" data-bs-parent="#accordionSolution10">
<div class="accordion-body">
<p>La opción 5 es la respuesta correcta. Si se te dificulta entender por
qué, intenta probar los comandos, o las subsecciones de los
<strong>pipelines</strong> (sólo asegúrate de estar en el directorio
<code>data-shell/data</code>).</p>
</div>
</div>
</div>
</div>
<div id="adición-de-datos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="adición-de-datos" class="callout-inner">
<h3 class="callout-title">Adición de datos<a class="anchor" aria-label="anclaje" href="#adici%C3%B3n-de-datos"></a>
</h3>
<div class="callout-content">
<p>Considera el archivo <code>animals.txt</code>, utilizado en el
ejercicio anterior. Después de estos comandos, selecciona la respuesta
que describe el contenido del archivo <code>animalsUpd.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-3</span> animals.txt <span class="op">&gt;</span> animalsUpd.txt</span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="ex">$</span> tail <span class="at">-2</span> animals.txt <span class="op">&gt;&gt;</span> animalsUpd.txt</span></code></pre>
</div>
<ol style="list-style-type: decimal"><li>Las tres primeras líneas de <code>animals.txt</code>
</li>
<li>Las dos últimas líneas de <code>animals.txt</code>
</li>
<li>Las tres primeras líneas y las dos últimas líneas de
<code>animals.txt</code>
</li>
<li>La segunda y tercera líneas de <code>animals.txt</code>
</li>
</ol></div>
</div>
</div>
<div id="accordionSolution11" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution11" aria-expanded="false" aria-controls="collapseSolution11">
  <h4 class="accordion-header" id="headingSolution11">Solución</h4>
</button>
<div id="collapseSolution11" class="accordion-collapse collapse" aria-labelledby="headingSolution11" data-bs-parent="#accordionSolution11">
<div class="accordion-body">
<p>La opción 3 es la correcta. Para que la opción 1 fuera correcta
tendríamos que haber ejecutado sólo el comando <code>head</code>. Para
que la opción 2 fuera correcta tendríamos que haber ejecutado sólo el
comando <code>tail</code>. Para que la opción 4 fuera correcta
tendríamos que haber usado un <strong>pipe</strong> para enviar la
salida de <code>head</code> a <code>tail -2</code> de esta forma:
<code>head -3 animals.txt | tail -2 &gt;&gt; animalsUpd.txt</code></p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave<a class="anchor" aria-label="anclaje" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>
<code>cat</code> muestra el contenido de sus entradas.</li>
<li>
<code>head</code> muestra las primeras líneas de su entrada.</li>
<li>
<code>tail</code> muestra las últimas líneas de su entrada.</li>
<li>
<code>sort</code> ordena sus entradas.</li>
<li>
<code>wc</code> cuenta líneas, palabras y caracteres en sus
entradas.</li>
<li>
<code>*</code> coincide con cero o más caracteres en un nombre de
archivo, por lo que<code>*.txt</code> coincide con todos los archivos
que terminan en <code>.txt</code>.</li>
<li>
<code>?</code> Coincide con un solo carácter en un nombre de
archivo, así que <code>?.txt</code> coincide con <code>a.txt</code> pero
no <code>any.txt</code>.</li>
<li>
<code>command &gt; file</code> redirige la salida de un comando a un
archivo.</li>
<li>
<code>first | second</code> es un <strong>pipeline</strong>: la
salida del primer comando se utiliza como entrada para el segundo.</li>
<li>La mejor manera de usar la terminal es utilizar
<strong>pipes</strong> para combinar programas sencillos de propósito
único (filtros).</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Capítulo previo y siguiente"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="03-create.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previo</a>
        <a class="chapter-link float-end" href="05-loop.html">Siguiente<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="03-create.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previo: Trabajando con
        </a>
        <a class="chapter-link float-end" href="05-loop.html" rel="next">
          Siguiente: Bucles... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>Esta lección está sujeta al <a href="CODE_OF_CONDUCT.html">Código de Conducta</a></p>
        <p>
        
        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/04-pipefilter.md" class="external-link">Editar en GitHub</a>
        
	
        | <a href="https://github.com/swcarpentry/shell-novice-es/blob/main/CONTRIBUTING.md" class="external-link">Contribuir</a>
        | <a href="https://github.com/swcarpentry/shell-novice-es/" class="external-link">Fuente</a></p>
				<p><a href="https://github.com/swcarpentry/shell-novice-es/blob/main/CITATION" class="external-link">Cita</a> | <a href="mailto:team@carpentries.org">Contacto</a> | <a href="https://carpentries.org/about/" class="external-link">Acerca de</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materiales bajo la <a href="LICENSE.html">CC-BY 4.0</a> por the authors</p>
        
        <p>Plantilla compartida bajo <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> por <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construido con <a href="https://github.com/carpentries/sandpaper/tree/0.16.3" class="external-link">sandpaper (0.16.3)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.4" class="external-link">pegboard (0.7.4)</a> y <a href="https://github.com/carpentries/varnish/tree/1.0.1" class="external-link">varnish (1.0.1)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Volver al inicio"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Volver</span> al inicio
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://swcarpentry.github.io/shell-novice-es/04-pipefilter.html",
  "inLanguage": "es",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Pipes y filtros",
  "creativeWorkStatus": "active",
  "url": "https://swcarpentry.github.io/shell-novice-es/04-pipefilter.html",
  "identifier": "https://swcarpentry.github.io/shell-novice-es/04-pipefilter.html",
  "dateCreated": "2018-02-20",
  "dateModified": "2023-04-24",
  "datePublished": "2024-04-09"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

