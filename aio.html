<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="es" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>La Terminal de Unix: Todo en una sola página</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav software"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Ir al contenido principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="swc-logo" alt="Software Carpentry" src="assets/images/software-logo.svg">
</div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vista de estudiante <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Vista de la instructora</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav software" aria-label="Navegación principal"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Alternar navegación">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menú</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Software Carpentry" src="assets/images/software-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      La Terminal de Unix
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Buscar en la página All In One" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            La Terminal de Unix
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Puntos Clave</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glosario</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Perfiles de estudiante</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Más <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">FIXME</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Buscar en la página All In One"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Buscar en la página All In One">Buscar en la página All In One</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  La Terminal de Unix
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress software">
    <div class="progress-bar software" role="progressbar" style="width: %" aria-valuenow="" aria-label="Progreso de la lección" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="Cerrar menú" alt="Cerrar menú" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cerrar " data-episodes="Episodios ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vista de estudiante
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Vista de la instructora</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODIOS
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Resumen y configuración</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-intro.html">1. Introducción a la Terminal</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-filedir.html">2. Navegación de archivos y directorios</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-create.html">3. Trabajando con archivos y directorios</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-pipefilter.html">4. Pipes y filtros</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-loop.html">5. Bucles</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-script.html">6. Scripts de la terminal</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-find.html">7. Encontrando archivos</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RECURSOS
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Puntos Clave</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glosario</a>
                      </li>
                      <li>
                        <a href="profiles.html">Perfiles de estudiante</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li>
<li><a href="reference.html">FIXME</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">Todo en una sola página</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-intro"><p>Content from <a href="01-intro.html">Introducción a la Terminal</a></p>
<hr>
<p>Última actualización: 2023-04-24 |

        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/01-intro.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Qué es una terminal y por qué utilizarla?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Explicar cómo se relaciona la terminal con el teclado, la pantalla,
el sistema operativo y los programas de los usuarios.</li>
<li>Explicar cuándo y por qué se deben utilizar interfaces de línea de
comandos en lugar de interfaces gráficas.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="introducción">Introducción<a class="anchor" aria-label="anchor" href="#introducci%C3%B3n"></a>
</h3>
<p>En su nivel más sencillo, las computadoras hacen cuatro cosas:</p>
<ul>
<li>ejecutar programas</li>
<li>guardar datos</li>
<li>comunicarse entre ellas</li>
<li>interactuar con nosotros</li>
</ul>
<p>Pueden hacer estas cosas de muchas maneras distintas, incluyendo
conexiones directas entre cerebro-computadora o interfaces de voz.
Aunque estas interfaces son cada vez más comunes, la mayoría de las
interacciones aún se llevan a cabo a través de pantallas, ratones,
pantallas táctiles y teclados. A pesar de que la mayoría de los sistemas
operativos modernos se comunican con sus usuarios a través de ventanas,
íconos y apuntadores, estas tecnologías no eran comunes sino hasta los
años 80s. Las raíces de estas <em>interfaces gráficas de usuario</em> se
remontan al trabajo de Doug Engelbart’s en los 60s, el cual podemos ver
en lo que se ha denominado “<a href="https://www.youtube.com/watch?v=yJDv-zdhzMY" class="external-link">La Madre de todos los
Demos</a>”.</p>
</div>
<div class="section level3">
<h3 id="interfaz-de-línea-de-comandos">Interfaz de Línea de Comandos<a class="anchor" aria-label="anchor" href="#interfaz-de-l%C3%ADnea-de-comandos"></a>
</h3>
<p>Remontándonos aún más allá, la única manera de interactuar con las
computadoras tempranas era reorganizando sus cables. Después, entre los
50s y los 80s, la mayoría de la gente utilizaba impresoras de línea.
Estos aparatos solo permitían generar entradas y salidas de letras,
números y signos de puntuación que se encontraban en un teclado
estándar, por lo que los lenguajes de programación y las interfaces con
el <em>software</em> tuvieron que ser diseñados con esa limitante en
mente.</p>
<p>A este tipo de interfaz se le denomina <strong>interfaz de línea de
comandos</strong> (<strong>command-line interface</strong>, o CLI por
sus siglas en inglés) para distinguirla de la <strong>interfaz gráfica
de usuario</strong> (<strong>graphical user interface</strong>, o GUI)
que es la que utilizan la mayoría de los usuarios actuales. El corazón
del CLI es un ciclo conocido como <strong>read-evaluate-print
loop</strong>, o REPL (<strong>ciclo
lectura-ejecución-impresión</strong>): cuando el usuario teclea un
comando y después presiona la tecla Enter, la computadora lo lee,
ejecuta e imprime el resultado (también conocido como output). Después
el usuario escribe otro comando y el ciclo continúa hasta que el usuario
se desconecta del equipo.</p>
</div>
<div class="section level3">
<h3 id="la-terminal">La Terminal<a class="anchor" aria-label="anchor" href="#la-terminal"></a>
</h3>
<p>Esta descripción hace pensar que el usuario envía comandos
directamente a la computadora y que la computadora envía el resultado o
salida directamente al usuario. De hecho, por lo general hay un programa
intermediario conocido como <strong>terminal</strong> o <strong>línea de
comandos</strong>. Lo que el usuario escribe se pasa a la terminal, la
cual calcula qué comandos ejecutar y ordena al equipo su ejecución. (En
inglés, a la terminal se le llama “shell”, que quiere decir concha,
porque encierra al sistema operativo con el fin de ocultar algo de su
complejidad y hacer más fácil la interacción con él.)</p>
<p>Una terminal es un programa como cualquier otro. Lo que la hace
especial es que su trabajo es ejecutar otros programas, en lugar de
realizar los cálculos en sí. La terminal más popular de Unix se llama
<strong>Bash</strong>, que proviene de <strong>Bourne Again
Shell</strong> (así llamada porque deriva de una versión previa escrita
por Stephen Bourne). <strong>Bash</strong> es la terminal por defecto en
la mayoría de las implementaciones modernas de Unix, y en la mayoría de
los paquetes que proporcionan herramientas similares a las de Unix para
Windows.</p>
</div>
<div class="section level3">
<h3 id="por-qué-usarlo">¿Por qué usarlo?<a class="anchor" aria-label="anchor" href="#por-qu%C3%A9-usarlo"></a>
</h3>
<p>Utilizar <strong>bash</strong> o cualquier otra terminal a veces es
mas cómodo para programar que utilizar un ratón. Los comandos son cortos
(a menudo con sólo un par de caracteres de largo), sus nombres son
frecuentemente crípticos, y su salida son líneas de texto en lugar de
algo visual, como un gráfico. Por otra parte, con unas cuantas teclas la
terminal nos permite combinar las herramientas existentes en potentes
<strong>pipelines</strong> y manejar grandes volúmenes de datos
automáticamente. Esta automatización no sólo nos hace más productivos,
sino que también mejora la reproducibilidad de nuestros trabajo dado que
permite repetir procesos de forma idéntica con unos simples comandos.
Además, la línea de comandos es a menudo la forma más fácil de
interactuar con máquinas remotas y superordenadores. La familiaridad con
la terminal es casi esencial para utilizar una variedad de herramientas
y recursos especializados, incluyendo sistemas de computación de alto
rendimiento. A medida que los <strong>clusters</strong> y los sistemas
de computación en la nube se vuelven más populares para el análisis de
datos científicos, ser capaz de interactuar con ellos se convierte en
una habilidad necesaria. Podemos aprovechar las habilidades que
adquiriremos en línea de comandos para abordar una amplia gama de
preguntas científicas y desafíos computacionales.</p>
</div>
<section><h2 class="section-heading" id="pipeline-de-nelle-punto-de-partida">Pipeline de Nelle: Punto de partida<a class="anchor" aria-label="anchor" href="#pipeline-de-nelle-punto-de-partida"></a>
</h2>
<hr class="half-width">
<p>Nelle Nemo, una bióloga marina, acaba de regresar de un estudio de
seis meses del <a href="https://en.wikipedia.org/wiki/North_Pacific_Gyre" class="external-link">Giro del
Pacífico Norte</a>, en donde ha estado muestreando la vida marina
gelatinosa en la <a href="https://en.wikipedia.org/wiki/Great_Pacific_Garbage_Patch" class="external-link">Gran
Mancha de Basura del Pacífico</a>. Tiene 1,520 muestras en total, ahora
necesita:</p>
<ol style="list-style-type: decimal">
<li>Procesar cada muestra en una máquina de ensayo para medir la
abundancia relativa de 300 proteínas diferentes. La salida de la máquina
para una sola muestra es un archivo con una línea para cada proteína, y
un archivo con la secuencia de cada proteína.</li>
<li>Calcular las estadísticas de cada una de las proteínas por separado
usando un programa que su supervisor escribió llamado
<code>goostat</code>.</li>
<li>Comparar las estadísticas de cada proteína con las estadísticas
correspondientes de las otras proteínas utilizando un programa que
escribió uno de los estudiantes de doctorado llamado
<code>goodiff</code>.</li>
<li>Resumir los resultados. A su supervisor le gustaría mucho que su
análisis estuviera listo para fin de mes, para que su artículo pueda
aparecer en un próximo número especial de <em>Aquatic Goo
Letters</em>.</li>
</ol>
<p>La máquina de ensayo tarda aproximadamente media hora en procesar
cada muestra. La buena noticia es que sólo se necesitan dos minutos para
configurar cada ensayo. Dado que su laboratorio tiene ocho máquinas de
ensayo que puede utilizar en paralelo, este paso “sólo” durará unas dos
semanas.</p>
<p>La mala noticia es que si quiere ejecutar <code>goostat</code>
y<code>goodiff</code> a mano, Nelle tendrá que ingresar los nombres de
los archivos y hacer clic en “Aceptar” 46,370 veces (1520 carreras de
<code>goostat</code>, más 300 * 299/2 (la mitad de 300 veces 299)
ejecuciones de<code>goodiff</code>). Dado que cada ejecución toma 30
segundos, le llevará más de dos semanas (sin dormir ni comer). Nelle no
sólo no cumpliría su plazo de entrega de resultados, sino que las
posibilidades de que escriba todos los comandos correctamente son
prácticamente cero.</p>
<p>Las siguientes lecciones explorarán una mejor alternativa para que
Nelle realice su análisis. Más específicamente, explicaremos cómo puede
usar la línea de comandos para automatizar los pasos repetitivos en su
<strong>pipeline</strong>. Así, su computadora podrá trabajar las 24
horas del día mientras ella escribe su artículo. Además, una vez que
Nelle haya generado un <strong>pipeline</strong> podrá usarlo de nuevo
cada vez que colecte nuevos datos.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>Una terminal es un programa cuyo objetivo principal es leer comandos
y ejecutar otros programas.</li>
<li>Las principales ventajas de la terminal son su alta relación
acción-tecla, su soporte para la automatización de tareas repetitivas, y
que puede utilizarse para acceder a otras máquinas en una red.</li>
<li>Las desventajas principales de la terminal son su naturaleza
primordialmente textual y que sus comandos y operación pueden llegar a
ser muy crípticos.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-02-filedir"><p>Content from <a href="02-filedir.html">Navegación de archivos y directorios</a></p>
<hr>
<p>Última actualización: 2023-04-24 |

        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/02-filedir.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo moverme dentro de mi computadora?</li>
<li>¿Cómo puedo ver qué archivos y directorios tengo?</li>
<li>¿Cómo puedo especificar la ubicación de un archivo o directorio en
mi computadora?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Explicar las similitudes y diferencias entre un archivo y un
directorio.</li>
<li>Convertir una ruta absoluta en una ruta relativa y viceversa.</li>
<li>Construir rutas absolutas y relativas que identifican archivos y
directorios específicos.</li>
<li>Explicar los pasos del ciclo de lectura-ejecución-impresión de la
terminal.</li>
<li>Identificar el comando, opciones y nombres de archivo en una llamada
de línea de comandos.</li>
<li>Demostrar el uso del autocompletado con el tabulador y explicar sus
ventajas.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>La parte del sistema operativo responsable de administrar archivos y
directorios se le denomina <strong>sistema de archivos</strong>
(<strong>file system</strong>). Organiza nuestros datos en archivos que
contienen información, y directorios (también llamados “carpetas”), que
contienen archivos u otros directorios.</p>
<p>Varios comandos se utilizan con frecuencia para crear, inspeccionar,
cambiar el nombre y eliminar archivos y directorios. Para comenzar a
explorarlos, abramos una terminal:</p>
<div id="la-magia-de-preparación" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="la-magia-de-preparación" class="callout-inner">
<h3 class="callout-title">La magia de preparación</h3>
<div class="callout-content">
<p>Si escribes el comando: <code>PS1='$ '</code> en tu terminal, seguido
de presionar la tecla ‘Enter’, tu ventana se verá como nuestro ejemplo
en esta lección. Esto no es necesario para continuar así que lo dejamos
a tu criterio.</p>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span></span></code></pre>
</div>
<p>El signo <code>$</code> es un <strong>prompt</strong>, que nos
muestra que la terminal está esperando una entrada; tu terminal puede
usar un carácter diferente como prompt y puede agregar información antes
de él. Al teclear comandos, ya sea a partir de estas lecciones o de
otras fuentes, no escribas el prompt (<em>$</em>), sólo los comandos que
le siguen.</p>
<p>Escribe el comando <code>whoami</code>, luego presiona la tecla Enter
para enviar el comando a la terminal. La salida de este comando es el ID
del usuario actual, es decir, nos muestra como quién nos identifica la
terminal:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> whoami</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">nelle</span></span></code></pre>
</div>
<p>Más específicamente, cuando escribimos <code>whoami</code> la
terminal:</p>
<ol style="list-style-type: decimal">
<li>encuentra un programa llamado <code>whoami</code>,</li>
<li>ejecuta ese programa,</li>
<li>muestra la salida de ese programa, luego</li>
<li>muestra un nuevo <strong>prompt</strong> para decirnos que está
listo para más comandos.</li>
</ol>
<div id="variaciones-en-el-username" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="variaciones-en-el-username" class="callout-inner">
<h3 class="callout-title">Variaciones en el username</h3>
<div class="callout-content">
<p>En esta lección, hemos utilizado el nombre de usuario
<code>nelle</code> (asociado a nuestra científica hipotética Nelle) en
todos los ejemplos de entrada y salida. Sin embargo, cuando escribas los
comandos de esta lección en tu computadora, deberías ver y usar algo
diferente, específicamente, el <strong>username</strong> asociado con tu
cuenta de usuario en la computadora que estás utilizando. Este
<strong>username</strong> será la salida de <code>whoami</code>. En los
ejemplos siguientes, <code>nelle</code> siempre será reemplazado por ese
<strong>username</strong>.</p>
</div>
</div>
</div>
<div id="comandos-desconocidos" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comandos-desconocidos" class="callout-inner">
<h3 class="callout-title">Comandos desconocidos</h3>
<div class="callout-content">
<p>Recuerda, la terminal es un programa que llama a otros programas en
lugar de realizar los cálculos ella misma. Los comandos que escribes en
la terminal deben ser los nombres de programas existentes. Si tecleas el
nombre de un programa que no existe y oprimes Enter, verás un mensaje de
error similar a este:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> mycommand</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>-bash: mycommand: command not found</code></pre>
</div>
<p>La terminal te dice que no puede encontrar el programa
<code>mycommand</code> porque este programa no existe en tu computadora.
En este curso aprenderás varios comandos, pero existen muchos más de los
que mencionaremos.</p>
</div>
</div>
</div>
<p>Averiguemos dónde estamos, ejecutando el comando <code>pwd</code>
(que significa “imprime directorio de trabajo” - “print working
directory”). En cualquier momento, nuestro <strong>directorio
actual</strong> es nuestro directorio predeterminado, es decir, el
directorio que la computadora supone queremos ejecutar comandos a menos
que especifiquemos explícitamente otra cosa. En este caso la respuesta
de la computadora es <code>/Users/nelle</code>, el cual es el directorio
de inicio de Nelle, también conocido como su directorio
<strong>home</strong>:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle</code></pre>
</div>
<div id="variaciones-en-el-directorio-de-inicio" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="variaciones-en-el-directorio-de-inicio" class="callout-inner">
<h3 class="callout-title">Variaciones en el Directorio de Inicio</h3>
<div class="callout-content">
<p>El directorio <strong>home</strong> puede lucir diferente en
distintos sistemas operativos. En Linux puede verse como
<code>/home/nelle</code>, en Windows puede ser similar a
<code>C:\Documents and Settings\nelle</code> o
<code>C:\Users\nelle</code> (pueden variar según la versión de Windows
que estés utilizando). En los ejemplos que siguen utilizaremos la salida
de Mac como estándar. Linux y Windows pueden variar ligeramente, pero
lucen similares en general.</p>
</div>
</div>
</div>
<p>Para entender lo que es un “directorio <strong>home</strong>” echemos
un vistazo a cómo se organiza el sistema de archivos. Como ejemplo,
discutiremos el sistema de archivos en la computadora de nuestra
científica Nelle. Después de este ejemplo, aprenderás comandos para
explorar tu propio sistema de archivos. Se parecerá a este, pero no será
exactamente idéntico.</p>
<p>En la computadora de Nelle, el sistema de archivos se ve así:</p>
<figure><img src="fig/filesystem.svg" alt="The File System" class="figure mx-auto d-block"></figure><p>En la parte superior está el <strong>directorio raíz</strong> o
<strong>root</strong> que contiene todo lo demás. Nos referimos a este
directorio usando un caracter de barra <code>/</code> por si solo; esta
es la barra al inicio de <code>/Users/nelle</code>.</p>
<p>Dentro de ese directorio hay otros directorios: <code>bin</code> (que
es donde se almacenan algunos programas preinstalados),
<code>data</code> (para archivos de datos diversos), <code>Users</code>
(donde se encuentran los directorios personales de los usuarios),
<code>tmp</code> (para archivos temporales que no necesitan ser
almacenados a largo plazo), etcétera.</p>
<p>Sabemos que nuestro directorio actual de trabajo
<code>/Users/nelle</code> se almacena dentro de<code>/Users</code>
porque <code>/Users</code> es la primera parte de su nombre. Igualmente,
sabemos que <code>/Users</code> se almacena dentro del directorio
raíz<code>/</code> porque su nombre comienza con <code>/</code>.</p>
<div id="diagonales" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="diagonales" class="callout-inner">
<h3 class="callout-title">Diagonales</h3>
<div class="callout-content">
<p>Observa que hay dos significados para el carácter <code>/</code>.
Cuando aparezca antes del nombre de archivo o directorio, se refiere al
directorio <strong>root</strong>. Cuando aparezca <em>dentro de</em> un
nombre, es solo un separador.</p>
</div>
</div>
</div>
<p>Dentro de <code>/Users</code>, encontramos un directorio para cada
usuario con una cuenta en la máquina de Nelle, sus colegas Mummy y
Wolfman.</p>
<figure><img src="fig/home-directories.svg" alt="Home Directories" class="figure mx-auto d-block"></figure><p>Los archivos de Mummy se almacenan en <code>/Users/imhotep</code>,
los de Wolfman están en <code>/Users/larry</code>, y los de Nelle en
<code>/Users/nelle</code>. Dado que Nelle es el usuario en nuestros
ejemplos, es por eso que recibimos <code>/Users/nelle</code> como
nuestro directorio personal. Normalmente, cada vez que abres una nueva
terminal te encontrarás en tu directorio <strong>home</strong>.</p>
<p>Ahora vamos a aprender el comando que nos permitirá ver el contenido
de nuestro sistema de archivos. Podemos ver lo que hay en nuestro
directorio personal ejecutando <code>ls</code>, que significa
“listar”:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications Documents    Library      Music        Public
Desktop      Downloads    Movies       Pictures</code></pre>
</div>
<p>(Una vez más, tus resultados pueden ser ligeramente diferentes
dependiendo de tu sistema operativo y cómo has personalizado tu sistema
de archivos.)</p>
<p><code>ls</code> imprime los nombres de los archivos y directorios en
el directorio actual en orden alfabético, dispuestos ordenadamente en
columnas. Podemos hacer su salida más comprensible usando la opción o
<strong>flag</strong> <code>-F</code>, que le indica a <code>ls</code>
que agregue un <code>/</code>a los nombres de los directorios:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications/ Documents/    Library/      Music/        Public/
Desktop/      Downloads/    Movies/       Pictures/</code></pre>
</div>
<p><code>ls</code> permite muchas otras <strong>flags</strong>. Para
averiguar cuales son, podemos escribir:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">--help</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Usage: ls [OPTION]... [FILE]...
List information about the FILEs (the current directory by default).
Sort entries alphabetically if none of -cftuvSUX nor --sort is specified.

Mandatory arguments to long options are mandatory for short options too.
  -a, --all                  do not ignore entries starting with .
  -A, --almost-all           do not list implied . and ..
      --author               with -l, print the author of each file
  -b, --escape               print C-style escapes for nongraphic characters
      --block-size=SIZE      scale sizes by SIZE before printing them; e.g.,
                               '--block-size=M' prints sizes in units of
                               1,048,576 bytes; see SIZE format below
  -B, --ignore-backups       do not list implied entries ending with ~
  -c                         with -lt: sort by, and show, ctime (time of last
                               modification of file status information);
                               with -l: show ctime and sort by name;
                               otherwise: sort by ctime, newest first
  -C                         list entries by columns
      --color[=WHEN]         colorize the output; WHEN can be 'always' (default
                               if omitted), 'auto', or 'never'; more info below
  -d, --directory            list directories themselves, not their contents
  -D, --dired                generate output designed for Emacs' dired mode
  -f                         do not sort, enable -aU, disable -ls --color
  -F, --classify             append indicator (one of */=&gt;@|) to entries
      --file-type            likewise, except do not append '*'
      --format=WORD          across -x, commas -m, horizontal -x, long -l,
                               single-column -1, verbose -l, vertical -C
      --full-time            like -l --time-style=full-iso
  -g                         like -l, but do not list owner
      --group-directories-first
                             group directories before files;
                               can be augmented with a --sort option, but any
                               use of --sort=none (-U) disables grouping
  -G, --no-group             in a long listing, don't print group names
  -h, --human-readable       with -l and/or -s, print human readable sizes
                               (e.g., 1K 234M 2G)
      --si                   likewise, but use powers of 1000 not 1024
  -H, --dereference-command-line
                             follow symbolic links listed on the command line
      --dereference-command-line-symlink-to-dir
                             follow each command line symbolic link
                               that points to a directory
      --hide=PATTERN         do not list implied entries matching shell PATTERN
                               (overridden by -a or -A)
      --indicator-style=WORD  append indicator with style WORD to entry names:
                               none (default), slash (-p),
                               file-type (--file-type), classify (-F)
  -i, --inode                print the index number of each file
  -I, --ignore=PATTERN       do not list implied entries matching shell PATTERN
  -k, --kibibytes            default to 1024-byte blocks for disk usage
  -l                         use a long listing format
  -L, --dereference          when showing file information for a symbolic
                               link, show information for the file the link
                               references rather than for the link itself
  -m                         fill width with a comma separated list of entries
  -n, --numeric-uid-gid      like -l, but list numeric user and group IDs
  -N, --literal              print raw entry names (don't treat e.g. control
                               characters specially)
  -o                         like -l, but do not list group information
  -p, --indicator-style=slash
                             append / indicator to directories
  -q, --hide-control-chars   print ? instead of nongraphic characters
      --show-control-chars   show nongraphic characters as-is (the default,
                               unless program is 'ls' and output is a terminal)
  -Q, --quote-name           enclose entry names in double quotes
      --quoting-style=WORD   use quoting style WORD for entry names:
                               literal, locale, shell, shell-always,
                               shell-escape, shell-escape-always, c, escape
  -r, --reverse              reverse order while sorting
  -R, --recursive            list subdirectories recursively
  -s, --size                 print the allocated size of each file, in blocks
  -S                         sort by file size, largest first
      --sort=WORD            sort by WORD instead of name: none (-U), size (-S),
                               time (-t), version (-v), extension (-X)
      --time=WORD            with -l, show time as WORD instead of default
                               modification time: atime or access or use (-u);
                               ctime or status (-c); also use specified time
                               as sort key if --sort=time (newest first)
      --time-style=STYLE     with -l, show times using style STYLE:
                               full-iso, long-iso, iso, locale, or +FORMAT;
                               FORMAT is interpreted like in 'date'; if FORMAT
                               is FORMAT1&lt;newline&gt;FORMAT2, then FORMAT1 applies
                               to non-recent files and FORMAT2 to recent files;
                               if STYLE is prefixed with 'posix-', STYLE
                               takes effect only outside the POSIX locale
  -t                         sort by modification time, newest first
  -T, --tabsize=COLS         assume tab stops at each COLS instead of 8
  -u                         with -lt: sort by, and show, access time;
                               with -l: show access time and sort by name;
                               otherwise: sort by access time, newest first
  -U                         do not sort; list entries in directory order
  -v                         natural sort of (version) numbers within text
  -w, --width=COLS           set output width to COLS.  0 means no limit
  -x                         list entries by lines instead of by columns
  -X                         sort alphabetically by entry extension
  -Z, --context              print any security context of each file
  -1                         list one file per line.  Avoid '\n' with -q or -b
      --help     display this help and exit
      --version  output version information and exit

The SIZE argument is an integer and optional unit (example: 10K is 10*1024).
Units are K,M,G,T,P,E,Z,Y (powers of 1024) or KB,MB,... (powers of 1000).

Using color to distinguish file types is disabled both by default and
with --color=never.  With --color=auto, ls emits color codes only when
standard output is connected to a terminal.  The LS_COLORS environment
variable can change the settings.  Use the dircolors command to set it.

Exit status:
 0  if OK,
 1  if minor problems (e.g., cannot access subdirectory),
 2  if serious trouble (e.g., cannot access command-line argument).

GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;
Full documentation at: &lt;http://www.gnu.org/software/coreutils/ls&gt;
or available locally via: info '(coreutils) ls invocation'</code></pre>
</div>
<p>Muchos comandos bash y programas que la gente ha escrito que se
pueden ejecutar desde el bash, aceptan la opción <code>--help</code>
para mostrar más información sobre cómo usar los comandos o
programas.</p>
<div id="opciones-de-línea-de-comandos-inexistentes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="opciones-de-línea-de-comandos-inexistentes" class="callout-inner">
<h3 class="callout-title">Opciones de línea de comandos inexistentes</h3>
<div class="callout-content">
<p>Si intentas utilizar una <strong>flag</strong> que no existe,
<code>ls</code> y otros programas imprimirán un mensaje de error similar
a este:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-j</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>ls: invalid option -- 'j'
Try 'ls --help' for more information.</code></pre>
</div>
</div>
</div>
</div>
<p>Para más información sobre cómo usar <code>ls</code> podemos escribir
<code>man ls</code>. <code>man</code> es el comando “manual” de Unix:
imprime la descripción de un comando y sus opciones, y (si tienes
suerte) proporciona algunos ejemplos de cómo usarlo.</p>
<div id="man-y-git-para-windows" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="man-y-git-para-windows" class="callout-inner">
<h3 class="callout-title">
<code>man</code> y Git para Windows</h3>
<div class="callout-content">
<p>La terminal proporcionada por Git para Windows no incluye soporte
para el comando <code>man</code>. Una búsqueda en la web de
<code>unix man page COMMAND</code> (por ejemplo,
<code>unix man page grep</code>) proporciona enlaces a numerosas copias
en línea del manual de Unix. Por ejemplo, GNU proporciona enlaces a sus
<a href="https://www.gnu.org/manual/manual.html" class="external-link">Manuales</a>, que
incluyen <a href="https://www.gnu.org/software/grep/manual/" class="external-link">grep</a>, y
<a href="https://www.gnu.org/software/coreutils/manual/coreutils.html" class="external-link">utilidades
básicas de GNU</a>, que cubre muchos comandos incluidos en esta
lección.</p>
</div>
</div>
</div>
<p>Para navegar por las páginas de <code>man</code>, las teclas de
flecha arriba y abajo te permiten moverte línea por línea, las teclas
“b” y la barra espaciadora permiten saltar hacia arriba y hacia abajo
una página a la vez. Puedes salir de las páginas <code>man</code>
escribiendo “q”.</p>
<p>Aquí podemos ver que nuestro directorio <strong>home</strong>
contiene principalmente <strong>subdirectorios</strong>. Cualquier
nombre en la salida que no tenga barras se refiere a
<strong>archivos</strong> comunes y corrientes. Observa que hay un
espacio entre <code>ls</code> y <code>-F</code>: sin él, la terminal
cree que estamos tratando de ejecutar un comando llamado
<code>ls-F</code>, el cual no existe.</p>
<div id="parámetros-vs.-argumentos" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="parámetros-vs.-argumentos" class="callout-inner">
<h3 class="callout-title">Parámetros vs. Argumentos</h3>
<div class="callout-content">
<p>De acuerdo con <a href="https://en.wikipedia.org/wiki/Parameter_(computer_programming)#Parameters_and_arguments" class="external-link">Wikipedia</a>,
los términos <strong>argumento</strong> y <strong>parámetro</strong>
significan cosas ligeramente diferentes. En la práctica, sin embargo, la
mayoría de la gente los usa indistintamente para referirse a los
términos que acompañan a un comando. Considera el siguiente ejemplo:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-lh</span> Documents</span></code></pre>
</div>
<p><code>ls</code> es el comando, <code>-lh</code> son
<strong>flags</strong> (u opciones), y <code>Documents</code> es el
argumento.</p>
</div>
</div>
</div>
<p>También podemos usar <code>ls</code> para ver el contenido de un
directorio diferente. Veamos nuestro directorio <code>Desktop</code>
ejecutando<code>ls -F Desktop</code>, es decir, el comando
<code>ls</code> con <strong>flag</strong> <code>-F</code> y el
<strong>argumento</strong> <code>Desktop</code>. El argumento
<code>Desktop</code> le dice a <code>ls</code> que queremos una lista de
algo distinto a nuestro directorio actual.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> Desktop</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>data-shell/</code></pre>
</div>
<p>La salida debe ser una lista de todos los archivos y subdirectorios
en tu <strong>Desktop</strong>, incluido el directorio
<code>data-shell</code> que descargaste al comienzo de la lección. Echa
un vistazo a tu escritorio para confirmar que la salida es correcta.</p>
<p>Como puedes ver ahora, el uso de una terminal está basado de la idea
de que tus archivos se organizan en un sistema de archivos jerárquico.
Organizar las cosas jerárquicamente nos ayuda a realizar un seguimiento
de nuestro trabajo: es posible poner centenares de archivos en nuestro
directorio <strong>home</strong>, así como es posible acumular cientos
de papeles impresos en nuestro escritorio, pero es una estrategia muy
poco eficiente.</p>
<p>Ahora que sabemos que el directorio <code>data-shell</code> se
encuentra en <code>Desktop</code>, podemos hacer dos cosas.</p>
<p>Primero, podemos ver su contenido, usando la misma estrategia que
antes, pasando un nombre de directorio a <code>ls</code>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> Desktop/data-shell</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>creatures/          molecules/          notes.txt           solar.pdf
data/               north-pacific-gyre/ pizza.cfg           writing/</code></pre>
</div>
<p>En segundo lugar, podemos cambiar nuestra ubicación a un directorio
diferente, por lo que ya no estaremos ubicados en nuestro directorio
<strong>home</strong>.</p>
<p>El comando para cambiar de ubicación es <code>cd</code>, seguido del
nombre de un directorio para cambiar nuestro directorio de trabajo.
<code>cd</code> significa “cambio de directorio” (change directory), lo
cual es un poco engañoso: el comando no cambia el directorio, cambia la
idea de la terminal de en qué directorio estamos.</p>
<p>Digamos que queremos pasar al directorio <code>data</code> que vimos
anteriormente. Podemos utilizar la siguiente serie de comandos para
llegar allí:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> cd Desktop</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="ex">$</span> cd data-shell</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="ex">$</span> cd data</span></code></pre>
</div>
<p>Estos comandos nos moverán del directorio <strong>home</strong> al
directorio Desktop, luego al directorio <code>data-shell</code>, y
finalmente al directorio <code>data</code>. <code>cd</code> no imprime
nada, pero si ejecutamos <code>pwd</code> después de esto, podemos ver
que ahora estamos en <code>/Users/nelle/Desktop/data-shell/data</code>.
Si ejecutamos <code>ls</code> ahora sin argumentos, se listan los
contenidos de <code>/Users/nelle/Desktop/data-shell/data</code>, porque
ahí es donde estamos ahora:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/data-shell/data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>amino-acids.txt   elements/     pdb/	          salmon.txt
animals.txt       morse.txt     planets.txt     sunspot.txt</code></pre>
</div>
<p>Ahora sabemos cómo bajar por el árbol de directorios, pero ¿cómo
subimos (regresamos)? Podemos probar lo siguiente:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="bu">cd</span> data-shell</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>-bash: cd: data-shell: No such file or directory</code></pre>
</div>
<p>¡Pero tenemos un error! ¿Por qué pasa esto?</p>
<p>Con los métodos aprendidos hasta ahora, <code>cd</code> sólo puede
ver subdirectorios dentro del directorio actual. Existen distintas
maneras de ver los directorios que se encuentran encima de tu ubicación
actual; empezaremos con el más simple.</p>
<p>Existe un acceso directo en la terminal para subir un nivel de
directorio que se ve así:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> cd ..</span></code></pre>
</div>
<p><code>..</code> es un nombre de directorio especial que significa “el
directorio que contiene a este”, o más brevemente, el
<strong>padre</strong> del directorio actual. Por supuesto, si
ejecutamos <code>pwd</code> después de ejecutar<code>cd ..</code>,
volvemos a <code>/Users/nelle/Desktop/data-shell</code>:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/data-shell</code></pre>
</div>
<p>Normalmente no aparece el directorio especial <code>..</code> cuando
ejecutamos<code>ls</code>. Si queremos mostrarlo, podemos dar a
<code>ls</code> la opción <code>-a</code>:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> <span class="at">-a</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>./                  creatures/          notes.txt
../                 data/               pizza.cfg
.bash_profile       molecules/          solar.pdf
Desktop/            north-pacific-gyre/ writing/</code></pre>
</div>
<p><code>-a</code> significa “mostrar todo”; obliga a <code>ls</code> a
mostrarnos nombres de archivos y directorios que comienzan con
<code>.</code>, como <code>..</code> (que, si estamos
en<code>/Users/nelle</code>, hace referencia al directorio
<code>/Users</code>) Como puedes ver, también muestra otro directorio
especial que se llama simplemente <code>.</code>, que significa “el
directorio de trabajo actual”. Puede parecer redundante tener un nombre
para él, pero veremos algunos usos para ello en el transcurso de este
curso.</p>
<p>Nota que varias <strong>flags</strong> del mismo comando pueden
combinarse en el mismo <code>-</code>, sin espacios entre los
argumentos: <code>ls -F -a</code> es equivalente a
<code>ls -Fa</code>.</p>
<div id="otros-archivos-ocultos" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="otros-archivos-ocultos" class="callout-inner">
<h3 class="callout-title">Otros archivos ocultos</h3>
<div class="callout-content">
<p>Además de los directorios ocultos <code>..</code> y <code>.</code>,
también puedes ver un archivo llamado <code>.bash_profile</code>. Este
archivo normalmente contiene configuraciones de ajuste de la terminal.
También puedes ver otros archivos y directorios que comienzan con
<code>.</code>. Estos son generalmente archivos y directorios que se
utilizan para configurar diferentes programas en tu computadora. El
prefijo <code>.</code> se utiliza para evitar que archivos de
configuración llenen la terminal cuando un comando <code>ls</code>
estándar se utiliza.</p>
</div>
</div>
</div>
<div id="ortogonalidad" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="ortogonalidad" class="callout-inner">
<h3 class="callout-title">Ortogonalidad</h3>
<div class="callout-content">
<p>Los nombres especiales <code>.</code> y <code>..</code> no son
exclusivos de <code>cd</code>; son interpretados de la misma manera por
todos los programas. Por ejemplo, si estamos en
<code>/Users/nelle/data</code>, el comando <code>ls ..</code> nos dará
una lista de<code>/Users/nelle</code>. Cuando los significados de las
partes son los mismos, no importa cómo se combinan, los programadores
dicen que son <strong>ortogonales</strong>: los sistemas ortogonales
tienden a ser más fáciles de aprender porque hay menos casos especiales
y excepciones que recordar.</p>
</div>
</div>
</div>
<p>Estos son entonces los comandos básicos para navegar por el sistema
de archivos de tu computadora: <code>pwd</code>,<code>ls</code> y
<code>cd</code>. Exploremos algunas variaciones de estos comandos. ¿Qué
pasa si escribes <code>cd</code> por sí solo, sin dar un directorio?</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> cd</span></code></pre>
</div>
<p>¿Cómo puedes comprobar lo que sucedió? ¡<code>pwd</code> nos da la
respuesta!</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle</code></pre>
</div>
<p>Resulta que <code>cd</code> sin un argumento te devolverá a tu
directorio <strong>home</strong>, lo cual es genial si te has perdido en
tu propio sistema de archivos.</p>
<p>Vamos a intentar volver al directorio <code>data</code> que
utilizamos antes. La última vez, usamos tres comandos, pero en realidad
podemos enlazar la lista de directorios para llegar a <code>data</code>
en un solo paso:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> cd Desktop/data-shell/data</span></code></pre>
</div>
<p>Comprueba que nos hemos movido al lugar correcto ejecutando
<code>pwd</code> y <code>ls -F</code>.</p>
<p>Si queremos subir un nivel desde el directorio de datos, podríamos
usar <code>cd ..</code>. Pero hay otra manera de moverse a cualquier
directorio, independientemente de tu ubicación actual.</p>
<p>Hasta ahora, al especificar nombres de directorio, o incluso una ruta
de directorio (como anteriormente), hemos estado usando <strong>caminos
relativos</strong>. Cuando utilizas una ruta relativa con un comando
como <code>ls</code> o<code>cd</code>, la terminal intenta encontrar esa
ubicación desde donde estamos, en lugar de la raíz del sistema de
archivos.</p>
<p>Sin embargo, es posible especificar la <strong>ruta absoluta</strong>
a un directorio incluyendo su ruta completa desde el directorio raíz,
que está indicado por una diagonal principal. Esta <code>/</code>
principal le dice a la computadora que siga el camino desde la raíz del
sistema de archivos, por lo que siempre se refiere a un sólo directorio,
sin importar donde estemos cuando ejecutamos el comando.</p>
<p>Esto nos permite pasar a nuestro directorio <code>data-shell</code>
desde cualquier lugar del sistema de directorios (incluyendo desde
<code>data</code>). Para encontrar el camino absoluto que estamos
buscando, podemos usar <code>pwd</code> y luego extraer la pieza que
necesitamos para movernos a <code>data-shell</code>.</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/data-shell/data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> cd /Users/nelle/Desktop/data-shell</span></code></pre>
</div>
<p>Ejecuta <code>pwd</code> y <code>ls -F</code> para asegurarte de que
estás en el directorio que esperas.</p>
<div id="dos-atajos-más" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="dos-atajos-más" class="callout-inner">
<h3 class="callout-title">Dos atajos más</h3>
<div class="callout-content">
<p>La terminal interpreta el carácter <code>~</code> (tilde) al inicio
de una ruta como “el directorio inicial del usuario actual”. Por
ejemplo, si el <strong>home</strong> de Nelle es
<code>/Users/nelle</code>, entonces<code>~/data</code> es equivalente a
<code>/Users/nelle/data</code>. Esto sólo funciona si es el primer
carácter en la ruta: <code>aqui/alla/~/otrolado</code> <em>no</em> es
<code>aquí/alla/Users/nelle/otrolado</code>.</p>
<p>Otro atajo es el carácter <code>-</code> (guión). <code>cd</code> lo
interpreta como <em>el directorio anterior en el que estaba</em>, lo
cual es más rápido que tener que recordar, y luego escribir, la ruta
completa. Esta es una manera <em>muy</em> eficiente de ir y venir entre
directorios. La diferencia entre <code>cd ..</code> y <code>cd -</code>
es que el primero te mueva hacia <em>adelante</em>, mientras que el
último te <em>regresa</em>. Puedes pensar en ello como el botón
<em>último canal</em> en el control remoto de tu televisión.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="pipeline-de-nelle-organizando-archivos">Pipeline de Nelle: Organizando archivos<a class="anchor" aria-label="anchor" href="#pipeline-de-nelle-organizando-archivos"></a>
</h3>
<p>Sabiendo todo esto de archivos y directorios, Nelle está lista para
organizar los archivos que creará la máquina de análisis de proteínas.
Primero, Nelle crea un directorio llamado
<code>north-pacific-gyre</code> (para recordar de dónde provienen los
datos). Dentro de éste, crea un directorio llamado
<code>2012-07-03</code>, que es la fecha en que comenzó a procesar las
muestras. Solía utilizar nombres como <code>conference-paper</code> y
<code>revised-results</code>, pero se tornaban difíciles de entender
después de un par de años. (La gota que derramo el vaso fue cuando se
encontró creando un directorio denominado
<code>revised-revised-results-3</code>.)</p>
<div id="ordenando-la-salida" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="ordenando-la-salida" class="callout-inner">
<h3 class="callout-title">Ordenando la salida</h3>
<div class="callout-content">
<p>Nelle nombra sus directorios “año-mes-día”, con ceros a la cabeza
para meses y días, porque la terminal muestra los nombres de archivos y
directorios en orden alfabético. Si usara nombres de mes, diciembre
vendría antes de julio; si no utiliza ceros a la izquierda, Noviembre
(‘11’) vendría antes de julio (‘7’). Del mismo modo, poner el año
primero significa que junio de 2012 aparecerá antes de junio de
2013.</p>
</div>
</div>
</div>
<p>Cada una de sus muestras físicas está etiquetada según la convención
de su laboratorio con un identificador único de diez caracteres, tal
como “NENE01729A”. Esto es lo que utilizó en su registro de la colección
para registrar la ubicación, el tiempo, la profundidad y otras
características de la muestra, por lo que decidió utilizarlo como parte
del nombre de cada archivo de datos. Dado que la salida de la máquina de
ensayo es texto sin formato, ella llamará a sus archivos
<code>NENE01729A.txt</code>, <code>NENE01812A.txt</code>, y así
sucesivamente. Todos los 1,520 archivos estarán en el mismo
directorio.</p>
<p>Ahora en su directorio actual <code>data-shell</code>, Nelle puede
ver qué archivos tiene usando el comando:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> ls north-pacific-gyre/2012-07-03/</span></code></pre>
</div>
<p>Esto es mucho que teclear, pero puede permitir que la terminal haga
la mayor parte del trabajo a través de lo que se llama
<strong>autocompletado con el tabulador</strong>. Si escribe:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> ls nor</span></code></pre>
</div>
<p>y después presiona el tabulador (la tecla de tabulador en su
teclado), la terminal completa automáticamente el nombre del directorio
por ella:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> ls north-pacific-gyre/</span></code></pre>
</div>
<p>Si presiona el tabulador otra vez, Bash añadirá
<code>2012-07-03/</code> al comando, ya que es el único
autocompletamiento posible. Presionar el tabulador de nuevo no hace
nada, ya que hay 19 posibilidades; presionar el tabulador dos veces
muestra una lista de todos los archivos, y así sucesivamente. Esto se
denomina <strong>autocompletado con el tabulador</strong>, y lo veremos
en muchas otras herramientas a medida que avancemos.</p>
<div id="rutas-absolutas-vs-relativas" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="rutas-absolutas-vs-relativas" class="callout-inner">
<h3 class="callout-title">Rutas Absolutas vs Relativas</h3>
<div class="callout-content">
<p>A partir de <code>/Users/amanda/data/</code>, ¿Cuál de los siguientes
comandos podría Amanda usar para navegar a su directorio de inicio, que
es <code>/Users/amanda</code>?</p>
<ol style="list-style-type: decimal">
<li><code>cd .</code></li>
<li><code>cd /</code></li>
<li><code>cd /home/amanda</code></li>
<li><code>cd ../..</code></li>
<li><code>cd ~</code></li>
<li><code>cd home</code></li>
<li><code>cd ~/data/..</code></li>
<li><code>cd</code></li>
<li><code>cd ..</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Solución </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: <code>.</code> significa el directorio actual.</li>
<li>No: <code>/</code> significa el directorio raíz.</li>
<li>No: El directorio <strong>home</strong> de Amanda es
<code>/Users/amanda</code>.</li>
<li>No: sube dos niveles, es decir termina en <code>/Users</code>.</li>
<li>Sí: <code>~</code> significa el directorio <strong>home</strong> del
usuario, en este caso <code>/Users/amanda</code>.</li>
<li>No: esto navegaría a un directorio <code>home</code> en el
directorio actual, si existe.</li>
<li>Sí: innecesariamente complicado, pero correcto.</li>
<li>Sí: un atajo para volver al directorio <strong>home</strong> del
usuario.</li>
<li>Sí: sube un nivel.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="resolución-de-ruta-relativa" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="resolución-de-ruta-relativa" class="callout-inner">
<h3 class="callout-title">Resolución de ruta relativa</h3>
<div class="callout-content">
<p>Si se utiliza el diagrama de sistema de directorios de abajo, si
<code>pwd</code> muestra <code>/Users/thing</code>, ¿Qué mostrará
<code>ls -F ../backup</code>?</p>
<ol style="list-style-type: decimal">
<li><code>../backup: No such file or directory</code></li>
<li><code>2012-12-01 2013-01-08 2013-01-27</code></li>
<li><code>2012-12-01/ 2013-01-08/ 2013-01-27/</code></li>
<li><code>original/ pnas_final/ pnas_sub/</code></li>
</ol>
<figure><img src="fig/filesystem-challenge.svg" alt="Sistema de archivos para las preguntas del desafío" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Solución </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: sí existe un directorio <code>backup</code> en
<code>/Users</code>.</li>
<li>No: este es el contenido de <code>Users/thing/backup</code>, pero
con <code>..</code> pedimos un nivel más arriba.</li>
<li>No: lee la explicación anterior.</li>
<li>Sí: <code>../backup</code> se refiere a
<code>/Users/backup</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="ls-comprensión-de-lectura" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ls-comprensión-de-lectura" class="callout-inner">
<h3 class="callout-title">
<code>ls</code> comprensión de lectura</h3>
<div class="callout-content">
<p>Suponiendo una estructura de directorio como en la figura anterior,
si <code>pwd</code> muestra <code>/Users/backup</code>, y
<code>-r</code> le dice a <code>ls</code> que muestre el resultado en
orden inverso, ¿qué comando mostrará:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>pnas_sub/ pnas_final/ original/</code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>ls pwd</code></li>
<li><code>ls -r -F</code></li>
<li><code>ls -r -F /Users/backup</code></li>
<li>#2 y #3, pero no #1.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Mostrar la solución </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: <code>pwd</code> no es el nombre de un directorio.</li>
<li>Sí: <code>ls</code> sin argumento de directorio lista archivos y
directorios en el directorio actual.</li>
<li>Sí: utiliza explícitamente el camino absoluto.</li>
<li>Correcto: vea las explicaciones arriba.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="explorando-más-argumentos-de-ls" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="explorando-más-argumentos-de-ls" class="callout-inner">
<h3 class="callout-title">Explorando más argumentos de
<code>ls</code>
</h3>
<div class="callout-content">
<p>¿Qué hace el comando <code>ls</code> cuando se utiliza con los
argumentos<code>-l</code> y <code>-h</code>?</p>
<p>Algunos de sus resultados son sobre propiedades que no cubrimos en
esta lección (tales como permisos de archivo y propiedad), sin embargo,
el resto debe ser útil.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Solución </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>El argumento <code>-l</code> hace que <code>ls</code> utilice un
formato de lista <strong>l</strong>argo, mostrando no sólo los nombres
de archivo/directorio, sino también información adicional como el tamaño
del archivo y la hora de su última modificación. El argumento
<code>-h</code> hace que el tamaño del archivo sea
“<strong>h</strong>uman readable” (legible por humanos), es decir,
muestra algo como <code>5.3K</code> en lugar de<code>5369</code>.</p>
</div>
</div>
</div>
</div>
<div id="listando-recursivamente-y-por-tiempo" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="listando-recursivamente-y-por-tiempo" class="callout-inner">
<h3 class="callout-title">Listando recursivamente y por tiempo</h3>
<div class="callout-content">
<p>El comando <code>ls -R</code> enumera el contenido de los directorios
recursivamente, es decir, lista sus subdirectorios, subsubdirectorios,
etc. en orden alfabético en cada nivel. El comando <code>ls -t</code>
ordena el resultado según la fecha del último cambio, los archivos o
directorios más recientemente modificados aparecen primero. ¿En qué
orden muestra los resultados el usar <code>ls -R -t</code>? Pista:
<code>ls -l</code> usa un formato de lista larga para ver los
<strong>timestamps</strong>.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Solución </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>Los directorios se enlistan alfabéticamente en cada nivel, los
archivos/directorios en cada directorio se ordenan por la hora del
último cambio.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>El sistema de archivos es responsable de administrar la información
en el disco.</li>
<li>La información se almacena en archivos, que a su vez se almacenan en
directorios (carpetas).</li>
<li>Los directorios también pueden almacenar otros directorios, formando
un árbol de directorios.</li>
<li>
<code>cd path</code> cambia el directorio de trabajo actual.</li>
<li>
<code>ls path</code> imprime un listado de un archivo o directorio
específico; <code>ls</code> por si solo lista el contenido del
directorio de trabajo actual.</li>
<li>
<code>pwd</code> imprime el directorio de trabajo actual del
usuario.</li>
<li>
<code>whoami</code> muestra la identidad actual del usuario.</li>
<li>
<code>/</code> es el directorio raíz de todo el sistema de
archivos.</li>
<li>Una ruta relativa especifica una ubicación desde la ubicación
actual.</li>
<li>Una ruta absoluta especifica una ubicación desde la raíz del sistema
de archivos.</li>
<li>Los nombres de directorio en una ruta están separados por ‘/’ en
Unix, pero por \ en Windows.</li>
<li>‘..’ significa ‘el directorio por encima del actual’; ‘.’ significa
‘el directorio actual’.</li>
<li>La mayoría de los nombres de los archivos son
<code>algo.extension</code>. La extensión no es necesaria y no garantiza
nada, pero normalmente se utiliza para indicar el tipo de datos en el
archivo.</li>
<li>La mayoría de los comandos toman opciones (<strong>flags</strong>)
que comienzan con un ‘-’.</li>
</ul>
</div>
</div>
</div>
</div></section><section id="aio-03-create"><p>Content from <a href="03-create.html">Trabajando con archivos y directorios</a></p>
<hr>
<p>Última actualización: 2023-04-24 |

        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/03-create.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo crear, copiar y eliminar archivos y directorios?</li>
<li>¿Cómo puedo editar archivos?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Crear una jerarquía de directorios que coincida con un diagrama
dado.</li>
<li>Crear archivos en esa jerarquía usando un editor o copiando y
renombrando archivos existentes.</li>
<li>Mostrar el contenido de un directorio utilizando la línea de
comandos.</li>
<li>Eliminar archivos y/o directorios específicos.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Ahora sabemos cómo explorar archivos y directorios, pero ¿cómo los
creamos en primer lugar? Volvamos a nuestro directorio
<code>data-shell</code> en Desktop y utilicemos el comando
<code>ls -F</code> para ver lo que contiene:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/data-shell</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>creatures/  molecules/           pizza.cfg
data/       north-pacific-gyre/  solar.pdf
Desktop/    notes.txt            writing/</code></pre>
</div>
<p>Creemos un nuevo directorio llamado <code>thesis</code> usando el
comando<code>mkdir thesis</code> (que no genera una salida):</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> mkdir thesis</span></code></pre>
</div>
<p>Como su nombre sugiere, <code>mkdir</code> significa “make
directory”, que significa “crear directorio” en inglés. Dado que
<code>thesis</code> es una ruta relativa (es decir, no inicia con una
barra oblicua <code>/</code>), el nuevo directorio se crea en la carpeta
de trabajo actual:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>creatures/  north-pacific-gyre/  thesis/
data/       notes.txt            writing/
Desktop/    pizza.cfg
molecules/  solar.pdf</code></pre>
</div>
<div id="dos-maneras-de-hacer-lo-mismo" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="dos-maneras-de-hacer-lo-mismo" class="callout-inner">
<h3 class="callout-title">Dos maneras de hacer lo mismo</h3>
<div class="callout-content">
<p>Usar la terminal para crear un directorio no es diferente de usar un
navegador de archivos gráfico. Si abres el directorio actual utilizando
el explorador de archivos gráfico de tu sistema operativo, el directorio
<code>thesis</code> aparecerá allí también. Si bien son dos formas
diferentes de interactuar con los archivos, los archivos y los
directorios con los que trabajamos son los mismos.</p>
</div>
</div>
</div>
<div id="buena-nomenclatura-para-archivos-y-directorios" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="buena-nomenclatura-para-archivos-y-directorios" class="callout-inner">
<h3 class="callout-title">Buena nomenclatura para archivos y directorios</h3>
<div class="callout-content">
<p>Usar nombres complicados para archivos y directorios pueden hacer tu
vida muy complicada cuando se trabaja en la línea de comandos. Te
ofrecemos algunos consejos útiles para nombrar tus archivos de ahora en
adelante.</p>
<ol style="list-style-type: decimal">
<li>No uses espacios en blanco.</li>
</ol>
<p>Los espacios en blanco pueden hacer un nombre más significativo,
pero, dado que se utilizan para separar argumentos en la línea de
comandos, es mejor evitarlos en nombres de archivos y directorios.
Puedes utilizar <code>-</code> o<code>_</code> en lugar de espacios en
blanco.</p>
<ol start="2" style="list-style-type: decimal">
<li>No comiences el nombre con un <code>-</code> (guión).</li>
</ol>
<p>Los comandos tratan a los nombres que comienzan con <code>-</code>
como opciones.</p>
<ol start="3" style="list-style-type: decimal">
<li>Utiliza únicamente letras, números, <code>.</code>
(punto),<code>-</code> (guión) y <code>_</code> (guión bajo).</li>
</ol>
<p>Muchos otros caracteres tienen un significado especial en la línea de
comandos y los aprenderemos durante esta lección. Algunos sólo harán que
tu comando no funcione, otros pueden incluso hacer que pierdas
datos.</p>
<p>Si necesitas referirte a nombres de archivos o directorios que tengan
espacios en blanco u otro carácter no alfanumérico, se debe poner el
nombre entre comillas dobles (<code>""</code>).</p>
</div>
</div>
</div>
<p>Dado que acabamos de crear el directorio <code>thesis</code>, aún se
encuentra vacío:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> thesis</span></code></pre>
</div>
<p>Cambiemos nuestro directorio de trabajo a <code>thesis</code>
usando<code>cd</code>, y a continuación, ejecutemos un editor de texto
llamado Nano para crear un archivo denominado
<code>draft.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> cd thesis</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="ex">$</span> nano draft.txt</span></code></pre>
</div>
<div id="qué-editor-usar" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="qué-editor-usar" class="callout-inner">
<h3 class="callout-title">¿Qué editor usar?</h3>
<div class="callout-content">
<p>Cuando decimos, “<code>nano</code> es un editor de texto”, realmente
queremos decir “texto”: sólo funciona con datos de caracteres simples,
no con tablas, imágenes o cualquier otro formato amigable con el
usuario. Lo utilizamos en ejemplos porque es un editor muy sencillo que
permite funciones muy básicas. Sin embargo, por estas mismas cualidades,
podría ser insuficiente para necesidades de la vida real. En los
sistemas Unix (como Linux y Mac OS X) muchos programadores utilizan <a href="https://www.gnu.org/software/emacs/" class="external-link">Emacs</a> o <a href="https://www.vim.org/" class="external-link">Vim</a> (ambos requieren más tiempo para
familiarizarse con ellos), o un editor gráfico como <a href="https://projects.gnome.org/gedit/" class="external-link">Gedit</a>. En Windows puedes
utilizar <a href="https://notepad-plus-plus.org/" class="external-link">Notepad ++</a>.
Windows también tiene un editor interno llamado <code>notepad</code> que
se puede ejecutar desde la línea de comandos de la misma manera que
<code>nano</code> para los propósitos de esta lección.</p>
<p>Sea cual sea el editor que uses, necesitarás saber dónde busca y
guarda archivos. Si lo inicias desde la terminal, usará (probablemente)
el directorio de trabajo actual como ubicación predeterminada. Si
utilizas el menú de inicio de tu computadora puede ser que los archivos
se guarden en tu <strong>Desktop</strong> o el directorio de Documentos.
Puedes cambiar de directorio destino navegando a otro directorio la
primera vez guardes el archivo usando “Guardar como …”.</p>
</div>
</div>
</div>
<p>Escribamos algunas líneas de texto. Una vez que estemos contentos con
nuestro texto, podemos presionar <code>Ctrl-O</code> (presiona la tecla
Ctrl o Control y, mientras la mantienes presionada, oprime la tecla O)
para escribir nuestros datos en el disco (se nos preguntará en qué
archivo queremos guardar esto: presiona <code>Enter</code> para aceptar
el valor predeterminado sugerido <code>draft.txt</code>).</p>
<figure><img src="fig/nano-screenshot.png" alt="Nano in Action" class="figure mx-auto d-block"></figure><p>Una vez que nuestro archivo está guardado, podemos usar
<code>Ctrl-X</code> para salir del editor y volver a la terminal.</p>
<div id="tecla-control-ctrl-o" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tecla-control-ctrl-o" class="callout-inner">
<h3 class="callout-title">Tecla Control, Ctrl o ^</h3>
<div class="callout-content">
<p>La tecla Control también se denomina tecla “Ctrl”. Hay varias maneras
de indicar el uso de la tecla Control. Por ejemplo, una instrucción para
presionar la tecla Control y, mientras la mantienes pulsada, presionar
la tecla X, puede ser descrita de cualquiera de las siguientes
maneras:</p>
<ul>
<li><code>Control-X</code></li>
<li><code>Control+X</code></li>
<li><code>Ctrl-X</code></li>
<li><code>Ctrl+X</code></li>
<li><code>^X</code></li>
<li><code>C-x</code></li>
</ul>
<p>En nano, a lo largo de la parte inferior de la pantalla se lee
<code>^G Get Help ^O WriteOut</code>. Esto significa que puedes usar
<code>Control-G</code> para obtener ayuda y<code>Control-O</code> para
guardar tu archivo.</p>
</div>
</div>
</div>
<p><code>nano</code> no deja ninguna salida en la pantalla después de
que salir del programa, pero <code>ls</code> ahora muestra que hemos
creado un archivo llamado<code>draft.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">draft.txt</span></span></code></pre>
</div>
<p>Limpiemos un poco ejecutando <code>rm draft.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> rm draft.txt</span></code></pre>
</div>
<p>Este comando elimina archivos (<code>rm</code> es la abreviatura de
“remove”, “remover” en inglés). Si ejecutamos <code>ls</code> de nuevo,
la salida estará vacía una vez más, indicándonos que nuestro archivo ha
desaparecido:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div id="eliminar-es-para-siempre" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="eliminar-es-para-siempre" class="callout-inner">
<h3 class="callout-title">Eliminar es para siempre</h3>
<div class="callout-content">
<p>La terminal de Unix no tiene una papelera de reciclaje desde donde
podamos restaurar archivos eliminados (aunque la mayoría de las
interfaces gráficas de Unix sí lo tienen). En su lugar, cuando
eliminamos archivos, los mismos se desvinculan del sistema de archivos
para que su espacio de almacenamiento en disco pueda ser reciclado.
Existen herramientas para encontrar y recuperar archivos eliminados,
pero no hay garantía de que funcionen en todas las situaciones, ya que
la computadora puede reciclar el espacio en disco del archivo en
cuestión inmediatamente, perdiéndose de manera permanente.</p>
</div>
</div>
</div>
<p>Creemos de nuevo el archivo y después subamos un directorio a
<code>/Users/nelle/Desktop/data-shell</code> usando
<code>cd ..</code>:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/data-shell/thesis</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> nano draft.txt</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">draft.txt</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> cd ..</span></code></pre>
</div>
<p>Si tratamos de eliminar todo el directorio <code>thesis</code> usando
<code>rm thesis</code>, obtenemos un mensaje de error:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> rm thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>rm: cannot remove `thesis': Is a directory</code></pre>
</div>
<p>Esto ocurre porque <code>rm</code> normalmente trabaja sólo con
archivos, no con directorios.</p>
<p>Para realmente deshacernos de <code>thesis</code> también debemos
eliminar el archivo <code>draft.txt</code>. Podemos hacer esto con la
opción <a href="https://en.wikipedia.org/wiki/Recursion" class="external-link">recursiva</a>
para <code>rm</code>:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-r</span> thesis</span></code></pre>
</div>
<div id="un-gran-poder-conlleva-una-gran-responsabilidad" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="un-gran-poder-conlleva-una-gran-responsabilidad" class="callout-inner">
<h3 class="callout-title">Un gran poder conlleva una gran responsabilidad</h3>
<div class="callout-content">
<p>Eliminar los archivos en un directorio recursivamente puede ser una
operación muy peligrosa. Si nos preocupa lo que podríamos eliminar,
podemos añadir la opción “interactiva” <code>-i</code> a
<code>rm</code>, que nos pedirá confirmar cada paso.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-r</span> <span class="at">-i</span> thesis</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="ex">rm:</span> descend into directory ‘thesis<span class="st">'? y</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="st">rm: remove regular file ‘thesis/draft.txt'</span><span class="pp">?</span> y</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="ex">rm:</span> remove directory ‘thesis<span class="st">'? y</span></span></code></pre>
</div>
<p>Esto elimina todo el contenido en el directorio y después el
directorio mismo, preguntando en cada paso para que se confirme la
eliminación.</p>
</div>
</div>
</div>
<p>Vamos a crear el directorio y el archivo una vez más. (Ten en cuenta
que esta vez estamos ejecutando <code>nano</code> con la ruta de acceso
<code>thesis/draft.txt</code>, en lugar de ir al directorio
<code>thesis</code> y ejecutar <code>nano</code> en
<code>draft.txt</code>.)</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/data-shell</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> mkdir thesis</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="ex">$</span> nano thesis/draft.txt</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="ex">$</span> ls thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">draft.txt</span></span></code></pre>
</div>
<p><code>draft.txt</code> no es un nombre particularmente informativo,
así que cambiemos el nombre del archivo usando el comando
<code>mv</code>, que es la abreviatura de “move” (mover):</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> mv thesis/draft.txt thesis/quotes.txt</span></code></pre>
</div>
<p>El primer parámetro dice a <code>mv</code> lo que estamos
“moviendo”“, mientras que el segundo indica a dónde hay que moverlo. En
este caso estamos moviendo <code>thesis/draft.txt</code> a
<code>thesis/quotes.txt</code>, que tiene el mismo efecto que cambiar el
nombre del archivo. Como esperamos, <code>ls</code> nos muestra que
<code>thesis</code> ahora contiene un archivo llamado
<code>quotes.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> ls thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">quotes.txt</span></span></code></pre>
</div>
<p>Hay que tener cuidado al especificar el nombre del archivo destino,
ya que <code>mv</code> remplaza silenciosamente cualquier archivo
existente con el mismo nombre, provocando pérdida de datos. Un indicador
adicional, <code>mv -i</code> (o <code>mv --interactive</code>), se
puede utilizar para hacer que <code>mv</code> te pida confirmación antes
de sobrescribir.</p>
<p>Sólo por el gusto de la consistencia, <code>mv</code> también
funciona en directorios, es decir, no existe un comando separado
<code>mvdir</code>. Vamos a mover <code>quotes.txt</code> al directorio
de trabajo actual. Utilizamos <code>mv</code> una vez más, pero esta vez
sólo usaremos el nombre de un directorio como el segundo parámetro para
indicar a <code>mv</code> que queremos mantener el nombre de archivo,
pero poner el archivo en algún lugar nuevo. (es por eso que el comando
se llama “mover”.) En este caso, el nombre de directorio que usamos es
el nombre de directorio especial <code>.</code> que mencionamos
anteriormente.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> mv thesis/quotes.txt .</span></code></pre>
</div>
<p>El resultado es mover el archivo desde el directorio en el que estaba
en el directorio de trabajo actual. <code>ls</code> ahora nos muestra
que <code>thesis</code> está vacío:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> ls thesis</span></code></pre>
</div>
<p>Además, <code>ls</code> con un nombre de archivo o un nombre de
directorio como parámetro sólo lista ese archivo o directorio. Podemos
usar esto para ver que <code>quotes.txt</code> todavía está en nuestro
directorio actual:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">quotes.txt</span></span></code></pre>
</div>
<p>El comando <code>cp</code> funciona muy bien como<code>mv</code>,
excepto que copia un archivo en lugar de moverlo. Podemos comprobar que
hizo lo correcto usando <code>ls</code> con dos rutas como parámetros —
como la mayoría de los comandos Unix, <code>ls</code> puede recibir
múltiples rutas a la vez:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> cp quotes.txt thesis/quotations.txt</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt thesis/quotations.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>quotes.txt   thesis/quotations.txt</code></pre>
</div>
<p>Para probar que hicimos una copia, eliminemos el archivo
<code>quotes.txt</code> del directorio actual y después ejecutemos el
mismo <code>ls</code> de nuevo.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> rm quotes.txt</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt thesis/quotations.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>ls: cannot access quotes.txt: No such file or directory
thesis/quotations.txt</code></pre>
</div>
<p>Esta vez el error nos dice que no se puede encontrar
<code>quotes.txt</code> en el directorio actual, pero encuentra la copia
en <code>thesis</code> que no hemos borrado.</p>
<div id="qué-hay-en-un-nombre" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="qué-hay-en-un-nombre" class="callout-inner">
<h3 class="callout-title">¿Qué hay en un nombre?</h3>
<div class="callout-content">
<p>Tal vez notaste que todos los nombres de los archivos de Nelle son
“algo punto algo”, y en esta parte de la lección, usamos siempre la
extensión <code>.txt</code>. Esto es sólo una convención: podemos llamar
a un archivo <code>mythesis</code> o casi cualquier cosa que queramos.
Sin embargo, la mayoría de la gente usa nombres de dos partes para que
sea más fácil (para ellos y sus programas) diferenciar entre tipos de
archivos. La segunda parte de este nombre se llama la <strong>extensión
de nombre de archivo</strong> e indica qué tipo de datos contiene el
archivo: <code>.txt</code> señala un archivo de texto sin formato,
<code>.pdf</code> indica un documento PDF, <code>.cfg</code> es un
archivo de configuración lleno de parámetros para algún programa,
<code>.png</code> es una imagen PNG, y así sucesivamente.</p>
<p>Esto es sólo una convención, aunque una importante. Los archivos
contienen solo bytes: depende de nosotros y de nuestros programas
interpretar esos bytes de acuerdo a las reglas para archivos de texto,
documentos PDF, archivos de configuración, imágenes, etc.</p>
<p>Nombrar una imagen PNG de una ballena como <code>whale.mp3</code> no
lo convierte mágicamente en una grabación del canto de las ballenas,
aunque <em>podría</em> hacer que el sistema operativo intente abrirlo
con un reproductor de música cuando alguien hace doble clic en él.</p>
</div>
</div>
</div>
<div id="cambiando-el-nombre-de-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="cambiando-el-nombre-de-archivos" class="callout-inner">
<h3 class="callout-title">Cambiando el nombre de archivos</h3>
<div class="callout-content">
<p>Supón que has creado un archivo <code>.txt</code> en tu directorio
actual para incluír una lista de las pruebas estadísticas que necesitas
hacer para analizar tus datos, y lo llamarás:
<code>statstics.txt</code></p>
<p>Después de crear y guardar este archivo, te das cuenta de que has
escrito mal el nombre del archivo. Si deseas corregir el error, ¿cuál de
los siguientes comandos podrías utilizar para hacerlo?</p>
<ol style="list-style-type: decimal">
<li><code>cp statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt .</code></li>
<li><code>cp statstics.txt .</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No. Mientras esto crearía un archivo con el nombre correcto, el
archivo con nombre incorrecto todavía existiría en el directorio y
necesitaría ser borrado.</li>
<li>Sí, esto funcionaría para renombrar el archivo.</li>
<li>No, el punto (.) indica dónde mover el archivo, pero no proporciona
un nuevo nombre de archivo; no pueden crearse nombres de archivo
idénticos.</li>
<li>No, el punto (.) indica dónde copiar el archivo, pero no proporciona
un nuevo nombre de archivo; no pueden crearse nombres de archivo
idénticos.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="moviendo-y-copiando" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="moviendo-y-copiando" class="callout-inner">
<h3 class="callout-title">Moviendo y copiando</h3>
<div class="callout-content">
<p>¿Cuál es la salida del último comando <code>ls</code> en la secuencia
que se muestra a continuación?</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/jamie/data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">proteins.dat</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> mkdir recombine</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="ex">$</span> mv proteins.dat recombine</span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a><span class="ex">$</span> cp recombine/proteins.dat ../proteins-saved.dat</span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>proteins-saved.dat recombine</code></li>
<li><code>recombine</code></li>
<li><code>proteins.dat recombine</code></li>
<li><code>proteins-saved.dat</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Comenzamos en el directorio <code>/Users/jamie/data</code> y creamos
una nueva carpeta llamada <code>recombine</code>. La segunda línea mueve
(<code>mv</code>) el archivo <code>proteins.dat</code> a la nueva
carpeta (<code>recombine</code>). La tercera línea hace una copia del
archivo que acabamos de mover. La parte difícil aquí es en dónde se
copió el archivo. Recuerda que <code>..</code> significa “subir un
nivel”, por lo que el archivo copiado ahora está en
<code>/Users/jamie</code>. Observa que <code>..</code> se interpreta con
respecto al directorio actual de trabajo, <strong>no</strong> con
respecto a la ubicación del archivo que se está copiando. Por lo tanto,
lo único que se mostrará usando ls (en <code>/Users/jamie/data</code>)
es la carpeta recombine.</p>
<ol style="list-style-type: decimal">
<li>No, consulta la explicación anterior.
<code>proteins-saved.dat</code> se encuentra en
<code>/Users/jamie</code>
</li>
<li>Sí</li>
<li>No, consulta la explicación anterior. <code>proteins.dat</code> se
encuentra en<code>/Users/jamie/data/recombine</code>
</li>
<li>No, consulta la explicación anterior.
<code>Proteins-saved.dat</code> se encuentra
en<code>/Users/jamie</code>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="organización-de-directorios-y-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="organización-de-directorios-y-archivos" class="callout-inner">
<h3 class="callout-title">Organización de directorios y archivos</h3>
<div class="callout-content">
<p>Jamie está trabajando en un proyecto y nota que sus archivos no están
muy bien organizados:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>analyzed/  fructose.dat    raw/   sucrose.dat</code></pre>
</div>
<p>Los archivos <code>fructose.dat</code> y<code>sucrose.dat</code>
contienen la salida de sus análisis. ¿Qué comando(s) cubierto(s) en esta
lección necesita ejecutar para que los comandos a continuación produzcan
la salida mostrada?</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>analyzed/   raw/</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> ls analyzed</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>fructose.dat    sucrose.dat</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Solución
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="fu">mv</span> <span class="pp">*</span>.dat analyzed</span></code></pre>
</div>
<p>Jamie necesita mover sus archivos <code>fructose.dat</code> y
<code>sucrose.dat</code> al directorio <code>analyzed</code>. La
terminal expandirá *.dat para abarcar todos los archivos .dat en el
directorio. Después, el comando <code>mv</code> moverá la lista de
archivos .dat al directorio “analyzed”.</p>
</div>
</div>
</div>
</div>
<div id="copiar-con-varios-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="copiar-con-varios-archivos" class="callout-inner">
<h3 class="callout-title">Copiar con varios archivos</h3>
<div class="callout-content">
<p>Para este ejercicio puedes probar los comandos del directorio
<code>data-shell/data</code> En el ejemplo que sigue, ¿qué hace
<code>cp</code> cuando se le dan varios nombres de archivo y un nombre
de directorio?:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">$</span> mkdir backup</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a><span class="ex">$</span> cp amino-acids.txt animals.txt backup/</span></code></pre>
</div>
<p>En el siguiente ejemplo, ¿qué hace <code>cp</code> cuando se le dan
tres o más nombres de archivo?</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>amino-acids.txt  animals.txt  backup/  elements/  morse.txt  pdb/  planets.txt  salmon.txt  sunspot.txt</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a><span class="ex">$</span> cp amino-acids.txt animals.txt morse.txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Si se pasa como argumento más de un archivo seguido del nombre de un
directorio (siempre que el nombre del directorio sea el último
argumento), <code>cp</code> copia los archivos en el directorio
especificado.</p>
<p>Si se proveen tres nombres de archivo, <code>cp</code> arroja un
error porque espera un nombre de directorio como último argumento.</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cp: target ‘morse.txt' is not a directory</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="listado-recursivo-y-por-tiempo" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="listado-recursivo-y-por-tiempo" class="callout-inner">
<h3 class="callout-title">Listado recursivo y por tiempo</h3>
<div class="callout-content">
<p>El comando <code>ls -R</code> enumera el contenido de los directorios
recursivamente, es decir, enumera sus subdirectorios, subdirectorios
secundarios, etc. en orden alfabético en cada nivel. El comando
<code>ls -t</code> enumera los contenidos de acuerdo a la fecha y hora
del último cambio, empezando por los archivos o directorios modificados
más recientemente. ¿En qué orden muestra los archivos el comando
<code>ls -R -t</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Solución
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>El comando <code>ls -R</code> enumera los directorios recursivamente
en orden cronológico de cada nivel, y los archivos en cada directorio
también son desplegados en orden cronológico.</p>
</div>
</div>
</div>
</div>
<div id="creación-de-archivos-de-una-manera-diferente" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="creación-de-archivos-de-una-manera-diferente" class="callout-inner">
<h3 class="callout-title">Creación de archivos de una manera diferente</h3>
<div class="callout-content">
<p>Hemos visto cómo crear archivos de texto usando el editor
<code>nano</code>. Ahora, intenta el siguiente comando en tu directorio
personal:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="ex">$</span> cd                  <span class="co"># ir al directorio **home**</span></span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="ex">$</span> touch my_file.txt</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><p>¿Qué hizo el comando touch? Cuando abre su directorio de inicio
con el explorador de archivos GUI, ¿aparece el archivo?</p></li>
<li><p>Utilice <code>ls -l</code> para inspeccionar los archivos. ¿Qué
tan grande es <code>my_file.txt</code>?</p></li>
<li><p>¿En que circunstancias desearía crear un archivo de esta
manera?</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Solución
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>El comando touch genera un nuevo archivo llamado “my_file.txt” en tu
directorio <strong>home</strong>. Si te encuentras en tu directorio
<strong>home</strong>, puedes observar el archivo recién creado
utilizando <code>ls</code> en la terminal. También puedes visualizar
“my_file.txt” en tu explorados de archivos GUI.</li>
<li>Cuando inspeccionas el archivo con “ls -l”, nota que el tamaño de
“my_file.txt” es 0 kb. En otras palabras, no contiene dato alguno. Si
abres “my_file.txt” en un editor de texto, aparecerá en blanco.</li>
<li>Algunos programas no generan nuevos archivos de salida, pero
requieren archivos en blanco que ya se hayan generado. Cuando uno de
estos programas es ejecutado, automáticamente busca un archivo existente
para llenarlo con su salida. El comando touch te permite generar
eficientemente archivos en blanco para que este tipo de programas puedan
usarlos.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="pasar-a-la-carpeta-actual" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="pasar-a-la-carpeta-actual" class="callout-inner">
<h3 class="callout-title">Pasar a la carpeta actual</h3>
<div class="callout-content">
<p>Después de ejecutar los siguientes comandos, Jamie se da cuenta de
que puso los archivos <code>sucrose.dat</code> y<code>maltose.dat</code>
en la carpeta incorrecta:</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="ex">raw/</span> analyzed/</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> analyzed</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a><span class="ex">fructose.dat</span> glucose.dat maltose.dat sucrose.dat</span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a><span class="ex">$</span> cd raw/</span></code></pre>
</div>
<p>Rellena los espacios en blanco para mover estos archivos a la carpeta
de trabajo (es decir, en la que ella está actualmente):</p>
<div class="codewrapper sourceCode" id="cb57">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="ex">$</span> mv ___/sucrose.dat  ___/maltose.dat ___</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Solución
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="ex">$</span> mv ../analyzed/sucrose.dat ../analyzed/maltose.dat .</span></code></pre>
</div>
<p>Recuerda que <code>..</code> se refiere al directorio padre (es
decir, el directorio en el nivel superior al actual) y <code>.</code> se
refiere al directorio actual.</p>
</div>
</div>
</div>
</div>
<div id="utilizando-rm-con-seguridad" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="utilizando-rm-con-seguridad" class="callout-inner">
<h3 class="callout-title">Utilizando <code>rm</code> con seguridad</h3>
<div class="callout-content">
<p>¿Qué ocurre cuando escribimos
<code>rm -i thesis/quotations.txt</code>? ¿Por qué querríamos esta
protección cuando usamos <code>rm</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Solución
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb59">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="ex">$</span> rm: remove regular file <span class="st">'thesis/quotations.txt'</span><span class="pp">?</span></span></code></pre>
</div>
<p>La opción -i provocará que se pregunte antes de eliminar un elemento.
La terminal de Unix no cuenta con una papelera de reciclaje, así que
todos los archivos que sean eliminados desaparecerán para siempre. Por
medio de la opción -i tienes la oportunidad de revisar que sólo estés
eliminando los archivos que realmente deseas borrar.</p>
</div>
</div>
</div>
</div>
<div id="copiar-una-estructura-de-carpetas-sin-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="copiar-una-estructura-de-carpetas-sin-archivos" class="callout-inner">
<h3 class="callout-title">Copiar una estructura de carpetas sin archivos</h3>
<div class="callout-content">
<p>Estás iniciando un nuevo experimento y te gustaría duplicar la
estructura de archivos que utilizaste para tu experimento anterior, sin
los archivos de datos para que puedas añadir los nuevos datos.</p>
<p>Suponte que la estructura de archivos está en una carpeta llamada
‘2016-05-18-data’, que contiene un directorio <code>data</code>.
<code>data</code> a su vez contiene dos carpetas denominadas
<code>raw</code> y <code>processed</code>, que contienen archivos de
datos. El objetivo es copiar la estructura de archivos de la carpeta
<code>2016-05-18-data</code> en una carpeta llamada
<code>2016-05-20-data</code> y eliminar los archivos de datos de el
directorio que acabas de crear.</p>
<p>¿Cuál de los siguientes conjuntos de comandos lograrían este
objetivo? ¿Qué harían los otros comandos?</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="at">-r</span> 2016-05-18-data/ 2016-05-20-data/</span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a><span class="ex">$</span> rm 2016-05-20-data/data/raw/<span class="pp">*</span></span>
<span id="cb60-3"><a href="#cb60-3" tabindex="-1"></a><span class="ex">$</span> rm 2016-05-20-data/data/processed/<span class="pp">*</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="ex">$</span> rm 2016-05-20-data/raw/<span class="pp">*</span></span>
<span id="cb61-2"><a href="#cb61-2" tabindex="-1"></a><span class="ex">$</span> rm 2016-05-20-data/processed/<span class="pp">*</span></span>
<span id="cb61-3"><a href="#cb61-3" tabindex="-1"></a><span class="ex">$</span> cp <span class="at">-r</span> 2016-05-18-data/ 2016-5-20-data/</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="at">-r</span> 2016-05-18-data/ 2016-05-20-data/</span>
<span id="cb62-2"><a href="#cb62-2" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-r</span> <span class="at">-i</span> 2016-05-20-data/</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9">
  Solución
  </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" aria-labelledby="headingSolution9" data-bs-parent="#accordionSolution9">
<div class="accordion-body">
<p>El primer grupo de comandos logra este objetivo. Primero se crea una
copia recursiva de la carpeta <code>data</code>. Después, dos comandos
<code>rm</code> eliminan todos los archivos en los directorios
especificados. La terminal interpreta el caracter especial
<code>*</code> para incluír todos los archivos y subdirectorios.</p>
<p>El segundo grupo de comandos está en el orden incorrecto: intenta
borrar archivos que aún no han sido copiados, seguido del comando
recursivo que los copiaría.</p>
<p>El tercer grupo de comandos podría lograr el objetivo deseado, pero
de una forma muy poco eficiente: el primer comando copia el directorio
de forma recursiva, pero el segundo comando borra de forma interactiva,
requiriendo confirmación antes de borrar cada archivo y directorio.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>
<code>cp old new</code> copia un archivo.</li>
<li>
<code>mkdir path</code> crea un nuevo directorio.</li>
<li>
<code>mv old new</code> mueve (renombra) un archivo o
directorio.</li>
<li>
<code>rm path</code> elimina un archivo.</li>
<li>El uso de la tecla Control puede ser descrito de muchas maneras,
incluyendo<code>Ctrl-X</code>, <code>Control-X</code>
y<code>^ X</code>.</li>
<li>El shell no tiene una papelera de reciclaje o bote de basura: una
vez que algo se elimina, se borra completamente.</li>
<li>Dependiendo del tipo de trabajo que se requiera, puede ser necesario
utilizar un editor de textos más poderoso que Nano.</li>
</ul>
</div>
</div>
</div></section><section id="aio-04-pipefilter"><p>Content from <a href="04-pipefilter.html">Pipes y filtros</a></p>
<hr>
<p>Última actualización: 2023-04-24 |

        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/04-pipefilter.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo combinar comandos existentes para hacer cosas
nuevas?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Redireccionar la salida de un comando a un archivo.</li>
<li>Procesar un archivo en lugar de la entrada de teclado mediante la
redirección.</li>
<li>Construir <strong>pipelines</strong> de comandos con dos o más
etapas.</li>
<li>Explicar lo que normalmente sucede si un programa o un
<strong>pipeline</strong> no recibe ninguna entrada para procesar.</li>
<li>Explicar las filosofía de Unix de ‘pequeñas piezas, libremente
unidas’.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Ahora que ya sabemos algunos comandos básicos, podemos ver finalmente
la característica más poderosa de la terminal: la facilidad con la que
nos permite combinar los programas existentes de nuevas maneras.
Comenzaremos con un directorio llamado <code>molecules</code> que
contiene seis archivos que describen algunas moléculas orgánicas
simples. La extensión <code>.pdb</code> indica que estos archivos están
en formato Protein Data Bank, un formato de texto simple que especifica
el tipo y la posición de cada átomo en la molécula.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> ls molecules</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb    ethane.pdb    methane.pdb
octane.pdb    pentane.pdb   propane.pdb</code></pre>
</div>
<p>Entra a ese directorio usando el comando <code>cd</code> y ejecuta el
comando <code>wc *.pdb</code>. <code>wc</code> es el comando “word
count”: cuenta el número de líneas, palabras y caracteres de un archivo.
El <code>*</code> en <code>*.pdb</code> coincide con cero o más
caracteres, por lo que la terminal convierte <code>*.pdb</code> en una
lista de todos los archivos <code>.pdb</code> en el directorio
actual:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> cd molecules</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="pp">*</span>.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  156 1158 cubane.pdb
  12   84  622 ethane.pdb
   9   57  422 methane.pdb
  30  246 1828 octane.pdb
  21  165 1226 pentane.pdb
  15  111  825 propane.pdb
 107  819 6081 total</code></pre>
</div>
<div id="caracteres-especiales" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="caracteres-especiales" class="callout-inner">
<h3 class="callout-title">Caracteres especiales</h3>
<div class="callout-content">
<p><code>*</code> Es un caracter especial o <strong>wild card</strong>.
Corresponde a cero o más caracteres, así que <code>*.pdb</code> coincide
con<code>ethane.pdb</code>, <code>propane.pdb</code>, y cada archivo que
termina con ‘.pdb’. Por otro lado, <code>p*.pdb</code> sólo coincide con
<code>pentane.pdb</code> y<code>propane.pdb</code>, porque la ‘p’ al
inicio hace coincidir los nombres de archivos que comienzan con la letra
‘p’.</p>
<p><code>?</code> también es un caracter especial, pero sólo coincide
con un solo carácter. Esto significa que <code>p?.pdb</code> podría
coincidir con <code>pi.pdb</code> o<code>p5.pdb</code> (si existieran en
el directorio <code>molecules</code>), pero no<code>propane.pdb</code>.
Podemos usar cualquier número de caracteres especiales a la vez: por
ejemplo, <code>p*.p?*</code> coincide con cualquier cosa que comience
con una ‘p’ y termine con ‘.’, ‘p’, y al menos un carácter más (ya que
<code>?</code> tiene que coincidir con un carácter, y el final
<code>*</code> puede coincidir con cualquier número de caracteres). Por
lo tanto, <code>p*.p?*</code> coincidirá con
<code>preferred.practice</code>, e incluso <code>p.pi</code> (dado que
el primer <code>*</code> no coincide con ningún carácter), pero no
<code>quality.practice</code> (ya que no inicia con ‘p’) o
<code>preferred.p</code> (porque no hay al menos un carácter después de
‘.p’).</p>
<p>Cuando la terminal reconoce un caracter especial lo expande para
crear una lista de nombres de archivo coincidentes <em>antes</em> de
ejecutar el comando seleccionado. Como excepción, si una expresión con
caracteres especiales no coincide con algún archivo, la terminal pasará
la expresión como un parámetro al comando tal y como está escrita. Por
ejemplo, ejecutar <code>ls *.pdf</code> en el
directorio<code>molecules</code> (que contiene sólo los archivos con
nombres que terminan con <code>.pdb</code>) da como resultado un mensaje
de error indicando que no hay ningún archivo llamado
<code>* .pdf</code>. Sin embargo, generalmente comandos como
<code>wc</code> y<code>ls</code> ven las listas de nombres de archivo
que coinciden con estas expresiones, pero no los comodines por si solos.
Es la terminal, no los otros programas, la que se ocupa de expandir los
caracteres especiales, este es otro ejemplo de diseño ortogonal.</p>
</div>
</div>
</div>
<div id="usando-caracteres-especiales" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="usando-caracteres-especiales" class="callout-inner">
<h3 class="callout-title">Usando caracteres especiales</h3>
<div class="callout-content">
<p>En el directorio <code>molecules</code>, ¿qué variación del
comando<code>ls</code> producirá esta salida?</p>
<p><code>ethane.pdb   methane.pdb</code></p>
<ol style="list-style-type: decimal">
<li><code>ls *t*ane.pdb</code></li>
<li><code>ls *t?ne.*</code></li>
<li><code>ls *t??ne.pdb</code></li>
<li><code>ls ethane.*</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>La solución es 3.</p>
<ol style="list-style-type: decimal">
<li><p>muestra todos los archivos que contienen cualquier número o
combinación de caracteres seguidos de la letra <code>t</code>, otro
caracter único, y terminan con <code>ane.pdb</code>. Esto incluye
<code>octane.pdb</code> y <code>pentane.pdb</code>.</p></li>
<li><p>muestra todos los archivos que contienen cualquier número o
combinación de caracteres, <code>t</code>, otro caracter,
<code>ne.</code>, seguido de otro número o combinación de caracteres.
Esto regresaría <code>octane.pdb</code> y <code>pentane.pdb</code> pero
nad que termine con <code>thane.pdb</code>.</p></li>
<li><p>soluciona el problema de la opción 3 agregando dos caracteres
entre <code>t</code> y <code>me</code>. Esta es la opción
correcta.</p></li>
<li><p>sólo muestra archivos que comienzan con
<code>ethane.</code>.</p></li>
</ol>
</div>
</div>
</div>
</div>
<p>Si ejecutamos <code>wc -l</code> en lugar de<code>wc</code>, la
salida sólo muestra el número de líneas por archivo:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  cubane.pdb
  12  ethane.pdb
   9  methane.pdb
  30  octane.pdb
  21  pentane.pdb
  15  propane.pdb
 107  total</code></pre>
</div>
<p>También podemos usar <code>-w</code> para obtener sólo el número de
palabras, o <code>-c</code> para obtener sólo el número de
caracteres.</p>
<p>¿Cuál de estos archivos es el más corto? Es una pregunta fácil de
responder cuando sólo hay seis archivos, pero ¿y si hubiera 6,000?
Nuestro primer paso hacia una solución es ejecutar el comando:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="op">&gt;</span> lengths.txt</span></code></pre>
</div>
<p>El símbolo “mayor que”, <code>&gt;</code>, le dice a la terminal que
<strong>redireccione</strong> la salida del comando a un archivo en
lugar de imprimirlo en la pantalla. (Es por eso que no hay salida de
pantalla: en vez de mostrarlo, todo lo que <code>wc</code> imprime se ha
enviado al archivo <code>lengths.txt</code>.) Si no existe el archivo,
la terminal lo creará. Si el archivo existe, será sobrescrito
silenciosamente, lo que puede provocar pérdida de datos y, por lo tanto,
requiere cierta precaución. <code>ls lengths.txt</code> confirma que el
archivo existe:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> ls lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">lengths.txt</span></span></code></pre>
</div>
<p>Ahora podemos enviar el contenido de <code>lengths.txt</code> a la
pantalla usando <code>cat lengths.txt</code>. <code>cat</code> significa
“concatenate” (concatenar): imprime el contenido de los archivos uno
tras otro. En este caso sólo hay un archivo, así que <code>cat</code>
sólo nos muestra lo que éste contiene:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> cat lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  cubane.pdb
  12  ethane.pdb
   9  methane.pdb
  30  octane.pdb
  21  pentane.pdb
  15  propane.pdb
 107  total</code></pre>
</div>
<div id="salida-página-por-página" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="salida-página-por-página" class="callout-inner">
<h3 class="callout-title">Salida Página por página</h3>
<div class="callout-content">
<p>Continuaremos usando <code>cat</code> en esta lección, por
conveniencia y consistencia, pero tiene la desventaja de que siempre
vuelca todo el archivo en la pantalla. En la práctica es más útil el
comando <code>less</code>, que se utiliza como
<code>$ less lengths.txt</code>. Este comando muestra sólo el contenido
del archivo que cabe en una pantalla y luego se detiene. Puedes avanzar
a la siguiente pantalla presionando la barra espaciadora, o retroceder
presionando <code>b</code>. Para salir, pulsa <code>q</code>.</p>
</div>
</div>
</div>
<p>Ahora utilizemos el comando <code>sort</code> para ordenar el
contenido. También usaremos el indicador <code>-n</code> para
especificar que el tipo de orden que requerimos es numérico en lugar de
alfabético. Esto <em>no</em> cambia el archivo; sólo despliega el
resultado ordenado en la pantalla:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb
 12  ethane.pdb
 15  propane.pdb
 20  cubane.pdb
 21  pentane.pdb
 30  octane.pdb
107  total</code></pre>
</div>
<p>Podemos poner la lista de líneas ordenada en otro archivo temporal
llamado <code>sorted-lengths.txt</code> poniendo
<code>&gt; sorted-lengths.txt</code> después del comando, así como
usamos <code>&gt; lengths.txt</code> para poner la salida de
<code>wc</code> en <code>lengths.txt</code>. Una vez que hayamos hecho
eso, podemos ejecutar otro comando llamado <code>head</code> para
obtener las primeras líneas de <code>sorted-lengths.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> sorted-lengths.txt</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 1 sorted-lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb</code></pre>
</div>
<p>El parámetro <code>-n 1</code> con <code>head</code> indica que sólo
queremos la primera línea del archivo; <code>-n 20</code> conseguirá las
primeras 20, y así sucesivamente. Dado que
<code>sorted-lengths.txt</code> contiene las longitudes de nuestros
archivos ordenados de menor a mayor, la salida de <code>head</code> debe
ser el archivo con menos líneas.</p>
<div id="redirigiendo-al-mismo-archivo" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="redirigiendo-al-mismo-archivo" class="callout-inner">
<h3 class="callout-title">Redirigiendo al mismo archivo</h3>
<div class="callout-content">
<p>Es una mala idea intentar redireccionar la salida de un comando que
opera en un archivo, al mismo archivo. Por ejemplo:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> lengths.txt</span></code></pre>
</div>
<p>Hacer algo como esto puede regresar resultados incorrectos y/o
eliminar el contenido de <code>lengths.txt</code>.</p>
</div>
</div>
</div>
<p>Si crees que es confuso, no estás solo: incluso una vez que entiendas
lo que <code>wc</code>,<code>sort</code> y <code>head</code> hacen,
todos esos archivos intermedios hacen difícil seguir el hilo de lo que
está pasando. Podemos hacerlo más fácil de entender ejecutando
<code>sort</code> y <code>head</code> juntos:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb</code></pre>
</div>
<p>La barra vertical, <code>|</code>, entre los dos comandos se denomina
<strong>pipe</strong> (pronunciado paip). El <strong>pipe</strong> le
dice a la terminal que queremos usar la salida del comando a la
izquierda como entrada al comando de la derecha. La computadora puede
crear un archivo temporal si es necesario, copiar datos de un programa a
otro en la memoria, o cualquier otra cosa que sea necesaria; no es
necesario que lo entendamos para hacerlo funcionar.</p>
<p>Nada nos impide encadenar <strong>pipes</strong> consecutivamente.
Por ejemplo, puedes enviar la salida de <code>wc</code> directamente a
<code>sort</code>, y luego la salida resultante a <code>head</code>.
Así, primero usamos un <strong>pipe</strong> para enviar la salida de
<code>wc</code> a <code>sort</code>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   9 methane.pdb
  12 ethane.pdb
  15 propane.pdb
  20 cubane.pdb
  21 pentane.pdb
  30 octane.pdb
 107 total</code></pre>
</div>
<p>Y ahora enviamos la salida de este <strong>pipe</strong>, a través de
otro <strong>pipe</strong>, a <code>head</code>, para que el
<strong>pipeline</strong> completo se convierta en:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   9  methane.pdb</code></pre>
</div>
<p>Esto es exactamente como un matemático anidando funciones como
<em>log(3x)</em> Y diciendo “el logaritmo de tres veces <em>x</em>”. En
nuestro caso, el cálculo es “cabeza de la lista ordenada del número de
líneas de <code>*.pdb</code>”.</p>
<p>Esto es lo que realmente sucede detrás de la terminal cuando creamos
un <strong>pipe</strong>. Cuando una computadora ejecuta un programa
(cualquier programa) crea un <strong>proceso</strong> en memoria para
almacenar el software del programa y su estado actual. Cada proceso
tiene un canal de entrada llamado <strong>entrada estándar</strong>.
(Para este punto, puede sorprenderte que el nombre es tan memorable,
pero no te preocupes, la mayoría de los programadores de Unix lo llaman
“stdin”). Cada proceso también tiene un canal de salida predeterminado
llamado <strong>salida estándar</strong> (o “stdout”). Un tercer canal
de salida llamado <strong>error estándar</strong> (stderr) también
existe. Este canal suele utilizarse para mensajes de error o de
diagnóstico y permite al usuario canalizar la salida de un programa a
otro mientras sigue recibiendo mensajes de error en el terminal.</p>
<p>La terminal es realmente otro programa. Bajo circunstancias normales,
lo que ingresemos en el teclado se envía a la entrada estándar de la
terminal, y lo que produce en la salida estándar se muestra en nuestra
pantalla. Cuando le decimos a la terminal que ejecute un programa, ésta
crea un nuevo proceso y envía temporalmente lo que tecleamos en nuestro
teclado a la entrada estándar de ese proceso, y lo que el proceso envía
a la salida estándar, la terminal lo envía a la pantalla.</p>
<p>Esto es lo que ocurre cuando ejecutamos
<code>wc -l *.pdb &gt; lengths.txt</code>. La terminal comienza
diciéndole a la computadora que cree un nuevo proceso para ejecutar el
programa <code>wc</code>. Como hemos proporcionado algunos nombres de
archivo como parámetros, <code>wc</code> lee estos en vez de la entrada
estándar. Y puesto que hemos utilizado <code>&gt;</code> para redirigir
la salida a un archivo, la terminal conecta la salida estándar del
proceso a ese archivo.</p>
<p>Si ejecutamos <code>wc -l *.pdb | sort -n</code> en su lugar, la
terminal crea dos procesos (uno para cada proceso en el
<strong>pipe</strong>) de modo que <code>wc</code> y<code>sort</code>
funcionan simultáneamente. La salida estándar de <code>wc</code> es
alimentada directamente a la entrada estándar de <code>sort</code>; ya
que no hay redirección con <code>&gt;</code>, la salida de
<code>sort</code> va a la pantalla. Y si ejecutamos
<code>wc -l * .pdb | sort -n | head -n 1</code>, obtenemos tres procesos
con datos que fluyen de los archivos, a través de <code>wc</code> a
<code>sort</code>, de <code>sort</code> a<code>head</code> y finalmente
a la pantalla.</p>
<figure><img src="fig/redirects-and-pipes.png" alt="Redirects and Pipes" class="figure mx-auto d-block"></figure><p>Esta sencilla idea es la razón por la cual Unix ha tenido tanto
éxito. En lugar de crear enormes programas que tratan de hacer muchas
cosas diferentes, los programadores de Unix se centran en crear muchas
herramientas simples que hacen bien su trabajo y son capaces de cooperar
entre sí. Este modelo de programación se llama “<strong>pipes</strong> y
<strong>filtros</strong>”. Ya hemos visto <strong>pipes</strong>; un
<strong>filtro</strong> es un programa como <code>wc</code>
o<code>sort</code> que transforma una entrada en una salida. Casi todas
las herramientas estándar de Unix pueden funcionar de esta manera: a
menos que se les indique lo contrario, leen de entrada estándar, hacen
algo con lo que han leído, y escriben en la salida estándar.</p>
<p>La clave es que cualquier programa que lea líneas de texto de entrada
estándar y escriba líneas de texto en la salida estándar puede
combinarse con cualquier otro programa que se comporte de esta manera
también. Puedes <em>y debes</em> escribir tus programas de esta manera
para que tú y otras personas puedan poner esos programas en
<strong>pipes</strong> y así multiplicar su poder.</p>
<div id="redireccionamiento-de-entrada" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="redireccionamiento-de-entrada" class="callout-inner">
<h3 class="callout-title">Redireccionamiento de entrada</h3>
<div class="callout-content">
<p>Además de usar <code>&gt;</code> para redirigir la salida de un
programa, podemos usar <code>&lt;</code> para redirigir su entrada, por
ejemplo, para leer un archivo en lugar de la entrada estándar. En lugar
de escribir <code>wc ammonia.pdb</code>, podríamos escribir
<code>wc &lt; ammonia.pdb</code>. En el primer caso, <code>wc</code>
obtiene un parámetro de línea de comandos diciéndole qué archivo abrir.
En el segundo, <code>wc</code> no tiene ningun parámetro de la línea de
comandos, por lo que se lee desde la entrada estándar, pero hemos
indicado al shell que envíe el contenido de <code>ammonia.pdb</code> a
la entrada estándar de <code>wc</code>, por lo que el resultado de ambos
comandos es el mismo.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="pipeline-de-nelle-comprobación-de-archivos">Pipeline de Nelle: Comprobación de archivos<a class="anchor" aria-label="anchor" href="#pipeline-de-nelle-comprobaci%C3%B3n-de-archivos"></a>
</h2>
<hr class="half-width">
<p>Nelle ha procesado sus muestras en su máquina de ensayo, generando 17
archivos en el directorio <code>north-pacific-gyre/2012-07-03</code>
descrito anteriormente. Como un chequeo rápido, a partir de su
directorio de inicio, Nelle teclea:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> cd north-pacific-gyre/2012-07-03</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<p>La salida son 18 líneas que como estas:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>300 NENE01729A.txt
300 NENE01729B.txt
300 NENE01736A.txt
300 NENE01751A.txt
300 NENE01751B.txt
300 NENE01812A.txt
... ...</code></pre>
</div>
<p>Ahora escribe esto:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 240 NENE02018B.txt
 300 NENE01729A.txt
 300 NENE01729B.txt
 300 NENE01736A.txt
 300 NENE01751A.txt</code></pre>
</div>
<p>Ups: uno de los archivos tiene 60 líneas menos que los otros. Cuando
Nelle vuelve y lo revisa ve que hizo ese ensayo a las 8:00 un lunes por
la mañana. Alguien probablemente usó la misma máquina ese fin de semana,
y olvidó reiniciarla. Antes de volver a analizar esa muestra, decide
comprobar si algunos archivos tienen demasiados datos:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 300 NENE02040B.txt
 300 NENE02040Z.txt
 300 NENE02043A.txt
 300 NENE02043B.txt
5040 total</code></pre>
</div>
<p>Esas cifras parecen buenas pero, ¿qué es esa ‘Z’ en la antepenúltima
línea? todas sus muestras deben estar marcadas con “A” o “B”; por
convención, su laboratorio utiliza ‘Z’ para indicar muestras con
información que falta. Para encontrar a otros archivos como este, Nelle
hace lo siguiente:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>Z.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>NENE01971Z.txt    NENE02040Z.txt</code></pre>
</div>
<p>Como esperaba, cuando comprueba el registro en su computadora
portátil, no hay profundidad registrada para ninguna de esas muestras.
Ya que es demasiado tarde para obtener la información de otra manera,
ella debe excluir esos dos archivos de su análisis. Podría simplemente
borrarlos usando <code>rm</code>, pero en realidad hay algunos análisis
que podría hacer más tarde, donde la profundidad no importa, por lo que,
en vez de borrarlos, sólo tendrá cuidado al seleccionar archivos
utilizando la expresión con caracteres especiales
<code>*[AB].txt</code>. Como siempre, el <code>*</code> coincide con
cualquier número de caracteres; la expresión <code>[AB]</code> coincide
con una ‘A’ o una ‘B’, por lo que coincide con los nombres de todos los
archivos de datos válidos que tiene.</p>
<div id="qué-hace-sort--n" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-hace-sort--n" class="callout-inner">
<h3 class="callout-title">¿Qué hace <code>sort -n</code>?</h3>
<div class="callout-content">
<p>Si ejecutamos <code>sort</code> en este archivo:</p>
<pre class="source"><code><span><span class="fl">10</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">22</span></span>
<span><span class="fl">6</span></span></code></pre>
<p>la salida es:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">10</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">22</span></span>
<span><span class="fl">6</span></span></code></pre>
</div>
<p>Si ejecutamos <code>sort -n</code> en la misma entrada, obtendremos
esto en su lugar:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2</span></span>
<span><span class="fl">6</span></span>
<span><span class="fl">10</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">22</span></span></code></pre>
</div>
<p>Explique por qué <code>-n</code> tiene este efecto.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>La opción <code>-n</code> indica un ordenamiento numérico, en lugar
de alfabético.</p>
</div>
</div>
</div>
</div>
<div id="qué-significa" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-significa" class="callout-inner">
<h3 class="callout-title">¿Qué significa <code>&lt;</code>?</h3>
<div class="callout-content">
<p>Muévete al directorio <code>data-shell</code> (el directorio en el
nivel más alto del ejemplo).</p>
<p>¿Cuál es la diferencia entre:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> notes.txt</span></code></pre>
</div>
<p>y:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="op">&lt;</span> notes.txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Solución
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p><code>&lt;</code> se usa para redirigir la entrada a un comando.</p>
<p>En los dos ejemplos, la terminal regresa el número de líneas en la
entrada al comando <code>wc</code>. En el primer ejemplo, la entrada es
el archivo <code>notes.txt</code> y el nombre del archivo se menciona en
la salida del comando <code>wc</code>. En el segundo ejemplo, el
contenido del archivo <code>notes.txt</code> es redireccionado a la
entrada estándar. Es como si hubiéramos introducido el contenido del
archivo a mano. Por esto, el nombre del archivo no es especificado en la
salida, sólo el número de líneas. Inténtalo por tu cuenta.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="ex">this</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a><span class="ex">is</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="ex">a</span> test</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a><span class="ex">Ctrl-D</span> <span class="co"># Esto le indica a la terminal que has terminado de teclear la entrada.</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<blockquote>
<h2 id="qué-significa-1">¿Qué significa <code>&gt;&gt;</code>?</h2>
<p>Hemos visto el uso de <code>&gt;</code> pero hay un operador similar
<code>&gt;&gt;</code> que funciona un poco distinto. Aprenderemos sobre
la diferencia de estos comandos impriendo algunas cadenas de caracteres.
Podemos usar el comando <code>echo</code> para imprimir cadenas de
caracteres, e.g.:</p>
</blockquote>
<blockquote>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> echo El comando echo imprime el texto</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>El comando echo imprime el texto</code></pre>
</div>
</blockquote>
<blockquote>
<p>Ahora prueba los comandos siguientes para revelar la diferencia entre
los dos operadores.</p>
</blockquote>
<p>¿Cuál es la diferencia entre:</p>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Desafío</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> echo hello <span class="op">&gt;</span> testfile01.txt</span></code></pre>
</div>
<p>y:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> echo hello <span class="op">&gt;&gt;</span> testfile02.txt</span></code></pre>
</div>
<p>Pista: Intenta ejecutar cada comando dos veces seguidas y después
examinar los archivos de salida.</p>
</div>
</div>
</div>
<div id="más-información-sobre-caracteres-especiales" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="más-información-sobre-caracteres-especiales" class="callout-inner">
<h3 class="callout-title">Más información sobre caracteres especiales</h3>
<div class="callout-content">
<p>Sam tiene un directorio que contiene datos de calibración, otros
datos y descripciones de estos datos:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">2015-10-23-calibration.txt</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="ex">2015-10-23-dataset1.txt</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a><span class="ex">2015-10-23-dataset2.txt</span></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a><span class="ex">2015-10-23-dataset_overview.txt</span></span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a><span class="ex">2015-10-26-calibration.txt</span></span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a><span class="ex">2015-10-26-dataset1.txt</span></span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a><span class="ex">2015-10-26-dataset2.txt</span></span>
<span id="cb42-8"><a href="#cb42-8" tabindex="-1"></a><span class="ex">2015-10-26-dataset_overview.txt</span></span>
<span id="cb42-9"><a href="#cb42-9" tabindex="-1"></a><span class="ex">2015-11-23-calibration.txt</span></span>
<span id="cb42-10"><a href="#cb42-10" tabindex="-1"></a><span class="ex">2015-11-23-dataset1.txt</span></span>
<span id="cb42-11"><a href="#cb42-11" tabindex="-1"></a><span class="ex">2015-11-23-dataset2.txt</span></span>
<span id="cb42-12"><a href="#cb42-12" tabindex="-1"></a><span class="ex">2015-11-23-dataset_overview.txt</span></span></code></pre>
</div>
<p>Antes de ir a otro viaje de campo, Sam quiere respaldar sus datos y
enviar algunos <strong>datasets</strong> a su colega Bob. Sam utiliza
los siguientes comandos para lograrlo:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>dataset<span class="pp">*</span> /backup/datasets</span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="ex">$</span> cp ____calibration____ /backup/calibration</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a><span class="ex">$</span> cp 2015-____-____ ~/send_to_bob/all_november_files/</span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a><span class="ex">$</span> cp ____ ~/send_to_bob/all_datasets_created_on_a_23rd/</span></code></pre>
</div>
<p>Ayuda a Sam rellenando los espacios en blanco.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>calibration.txt /backup/calibration</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="ex">$</span> cp 2015-11-<span class="pp">*</span> ~/send_to_bob/all_november_files/</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>-23-dataset<span class="pp">*</span> ~send_to_bob/all_datasets_created_on_a_23rd/</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="uniendo-comandos-con-pipes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="uniendo-comandos-con-pipes" class="callout-inner">
<h3 class="callout-title">Uniendo comandos con pipes</h3>
<div class="callout-content">
<p>En nuestro directorio actual, queremos encontrar los 3 archivos que
tienen el menor número de líneas. ¿Cuál de los siguientes comandos
funcionaría?</p>
<ol style="list-style-type: decimal">
<li><code>wc -l * &gt; sort -n &gt; head -n 3</code></li>
<li><code>wc -l * | sort -n | head -n 1-3</code></li>
<li><code>wc -l * | head -n 3 | sort -n</code></li>
<li><code>wc -l * | sort -n | head -n 3</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Solución
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>La solución es la opción 4. El caracter de <strong>pipe</strong>
<code>|</code> es usado para alimentar la entrada estándar de un proceso
con la salida estándar del anterior. <code>&gt;</code> es utilizado para
redirigir la salida estándar a un archivo. ¡Inténtalo en el directorio
<code>data-shell/molecules</code>!</p>
</div>
</div>
</div>
</div>
<div id="por-qué-uniq-sólo-elimina-duplicados-adyacentes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="por-qué-uniq-sólo-elimina-duplicados-adyacentes" class="callout-inner">
<h3 class="callout-title">¿Por qué <code>uniq</code> sólo elimina
duplicados adyacentes?</h3>
<div class="callout-content">
<p>El comando <code>uniq</code> elimina las líneas duplicadas adyacentes
de su entrada. Por ejemplo, el archivo
<code>data-shell/salmon.txt</code> contiene:</p>
<pre class="source"><code><span><span class="va">coho</span></span>
<span><span class="va">coho</span></span>
<span><span class="va">steelhead</span></span>
<span><span class="va">coho</span></span>
<span><span class="va">steelhead</span></span>
<span><span class="va">steelhead</span></span></code></pre>
<p>El comando <code>uniq salmon.txt</code> del directorio
<code>data-shell/data</code> produce:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">coho</span></span>
<span><span class="va">steelhead</span></span>
<span><span class="va">coho</span></span>
<span><span class="va">steelhead</span></span></code></pre>
</div>
<p>¿Por qué crees que <code>uniq</code> sólo elimina <em>líneas
adyacentes</em> duplicadas? (Pista: piensa en datasets muy largos.) ¿Qué
otro comando podría combinarse con él en un <strong>pipe</strong> para
eliminar todas las líneas duplicadas?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Solución
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> sort salmon.txt <span class="kw">|</span> <span class="fu">uniq</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="comprensión-de-la-lectura-de-pipes" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="comprensión-de-la-lectura-de-pipes" class="callout-inner">
<h3 class="callout-title">Comprensión de la lectura de pipes</h3>
<div class="callout-content">
<p>Un archivo llamado <code>animals.txt</code> (en el directorio
<code>data-shell/data</code>) contiene los siguientes datos:</p>
<pre class="source"><code>2012-11-05,deer
2012-11-05,rabbit
2012-11-05,raccoon
2012-11-06,rabbit
2012-11-06,deer
2012-11-06,fox
2012-11-07,rabbit
2012-11-07,bear</code></pre>
<p>¿Qué texto pasa a través de cada uno de los <strong>pipes</strong> y
qué incluye el redireccionamiento final en el siguiente
<strong>pipeline</strong>?</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">$</span> cat animals.txt <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5 <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 3 <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-r</span> <span class="op">&gt;</span> final.txt</span></code></pre>
</div>
<p>Pista: construye el <strong>pipeline</strong> agregando un comando a
la vez para comprobar tu respuesta.</p>
</div>
</div>
</div>
<div id="construcción-de-pipes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="construcción-de-pipes" class="callout-inner">
<h3 class="callout-title">Construcción de Pipes</h3>
<div class="callout-content">
<p>Para el archivo <code>animals.txt</code> del ejercicio anterior, el
comando:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.txt</span></code></pre>
</div>
<p>produce la siguiente salida:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">deer</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">raccoon</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">deer</span></span>
<span><span class="va">fox</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">bear</span></span></code></pre>
</div>
<p>¿Qué otro(s) comando(s) podría(n) agregarse a estos en un
<strong>pipeline</strong> para encontrar qué animales contiene el
archivo (sin nombres duplicados)?</p>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Solución
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="eliminación-de-archivos-innecesarios" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="eliminación-de-archivos-innecesarios" class="callout-inner">
<h3 class="callout-title">Eliminación de archivos innecesarios</h3>
<div class="callout-content">
<p>Suponte que deseas borrar tus archivos de datos procesados y sólo
conservar los archivos sin procesar y el <strong>script</strong> de
procesamiento para ahorrar espacio en disco. Los archivos sin procesar
terminan en <code>.dat</code> y los archivos procesados terminan en
<code>.txt</code>. ¿Cuál de las siguientes opciones eliminaría todos los
archivos de datos procesados, y <em>nada más que</em> los archivos de
datos procesados?</p>
<ol style="list-style-type: decimal">
<li><code>rm ?.txt</code></li>
<li><code>rm *.txt</code></li>
<li><code>rm * .txt</code></li>
<li><code>rm *.*</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Solución
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Esto eliminaría archivos con terminación <code>.txt</code> y nombres
de un caracter.</li>
<li>Esta es la respuesta correcta.</li>
<li>La terminal expandiría el <code>*</code> para coincidir con todo el
directorio actual, así que el comando intentaría eliminar todos los
archivos, más un archivo adicional llamado <code>.txt</code>.</li>
<li>La terminal expandiría <code>*.*</code> para coincidir con todos los
archivos, independientemente de su terminación. Este comando eliminaría
todos los archivos.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="expresiones-con-caracteres-especiales" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="expresiones-con-caracteres-especiales" class="callout-inner">
<h3 class="callout-title">Expresiones con Caracteres Especiales</h3>
<div class="callout-content">
<p>Las expresiones con caracteres especiales pueden llegar a ser muy
complejas, sin embargo a veces es posible escribirlas de forma que
utilicen una sintaxis muy sencilla y sean un poco más elocuentes.
Considera el directorio
<code>data-shell/north-pacific-gyre/2012-07-03</code> : la expresión
<code>*[AB].txt</code> coincide con todos los archivos que terminan en
<code>A.txt</code> o <code>B.txt</code>. Imagina que ignoras esto.</p>
<ol style="list-style-type: decimal">
<li><p>¿Podrías hacer coincidir el mismo set de archivos con una
expresión que incluya caracteres especiales, pero no <code>[]</code>?
<em>Pista:</em> Podrías necesitar más de una expresión.</p></li>
<li><p>La expresión que encontraste y la expresión usada en la lección
coinciden con el mismo grupo de archivos en el ejemplo. ¿Puedes
identificar la ligera diferencia en la salida de ambos
comandos?</p></li>
<li><p>¿Bajo qué circunstancias tu nueva expresión produciría un mensaje
de error y la expresión original no?</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9">
  Solución
  </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" data-bs-parent="#accordionSolution9" aria-labelledby="headingSolution9">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>
</li></ol>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a><span class="ex">...</span></span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>A.txt</span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>B.txt</span>
<span id="cb53-4"><a href="#cb53-4" tabindex="-1"></a><span class="ex">...</span></span></code></pre>
</div>
<ol start="2" style="list-style-type: decimal">
<li><p>La salida de la nueva expresión aparece separada porque son dos
comandos independientes.</p></li>
<li><p>Cuando no haya archivos que terminen en <code>A.txt</code>, o en
<code>B.txt</code>.</p></li>
</ol>
</div>
</div>
</div>
</div>
<div id="qué-tubería" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-tubería" class="callout-inner">
<h3 class="callout-title">¿Qué tubería?</h3>
<div class="callout-content">
<p>El archivo <code>data-shell/data/animals.txt</code> contiene 586
líneas de datos en el siguiente formato:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2012-11-05,deer
2012-11-05,rabbit
2012-11-05,raccoon
2012-11-06,rabbit
...</code></pre>
</div>
<p>Asumiendo que tu directorio actual sea <code>data-shell/data/</code>,
¿qué comando usarías para producir una tabla que muestre el recuento
total de cada tipo de animal en el archivo?</p>
<ol style="list-style-type: decimal">
<li><code>grep {deer, rabbit, raccoon, deer, fox, bear} animals.txt | wc -l</code></li>
<li><code>sort animals.txt | uniq -c</code></li>
<li><code>sort -t, -k2,2 animals.txt | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.txt | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.txt | sort | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.txt | sort | uniq -c | wc -l</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution10" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution10" aria-expanded="false" aria-controls="collapseSolution10">
  <h4 class="accordion-header" id="headingSolution10">
  Solución
  </h4>
</button>
<div id="collapseSolution10" class="accordion-collapse collapse" data-bs-parent="#accordionSolution10" aria-labelledby="headingSolution10">
<div class="accordion-body">
<p>La opción 5 es la respuesta correcta. Si se te dificulta entender por
qué, intenta probar los comandos, o las subsecciones de los
<strong>pipelines</strong> (sólo asegúrate de estar en el directorio
<code>data-shell/data</code>).</p>
</div>
</div>
</div>
</div>
<div id="adición-de-datos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="adición-de-datos" class="callout-inner">
<h3 class="callout-title">Adición de datos</h3>
<div class="callout-content">
<p>Considera el archivo <code>animals.txt</code>, utilizado en el
ejercicio anterior. Después de estos comandos, selecciona la respuesta
que describe el contenido del archivo <code>animalsUpd.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-3</span> animals.txt <span class="op">&gt;</span> animalsUpd.txt</span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="ex">$</span> tail <span class="at">-2</span> animals.txt <span class="op">&gt;&gt;</span> animalsUpd.txt</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Las tres primeras líneas de <code>animals.txt</code>
</li>
<li>Las dos últimas líneas de <code>animals.txt</code>
</li>
<li>Las tres primeras líneas y las dos últimas líneas de
<code>animals.txt</code>
</li>
<li>La segunda y tercera líneas de <code>animals.txt</code>
</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution11" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution11" aria-expanded="false" aria-controls="collapseSolution11">
  <h4 class="accordion-header" id="headingSolution11">
  Solución
  </h4>
</button>
<div id="collapseSolution11" class="accordion-collapse collapse" data-bs-parent="#accordionSolution11" aria-labelledby="headingSolution11">
<div class="accordion-body">
<p>La opción 3 es la correcta. Para que la opción 1 fuera correcta
tendríamos que haber ejecutado sólo el comando <code>head</code>. Para
que la opción 2 fuera correcta tendríamos que haber ejecutado sólo el
comando <code>tail</code>. Para que la opción 4 fuera correcta
tendríamos que haber usado un <strong>pipe</strong> para enviar la
salida de <code>head</code> a <code>tail -2</code> de esta forma:
<code>head -3 animals.txt | tail -2 &gt;&gt; animalsUpd.txt</code></p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>
<code>cat</code> muestra el contenido de sus entradas.</li>
<li>
<code>head</code> muestra las primeras líneas de su entrada.</li>
<li>
<code>tail</code> muestra las últimas líneas de su entrada.</li>
<li>
<code>sort</code> ordena sus entradas.</li>
<li>
<code>wc</code> cuenta líneas, palabras y caracteres en sus
entradas.</li>
<li>
<code>*</code> coincide con cero o más caracteres en un nombre de
archivo, por lo que<code>*.txt</code> coincide con todos los archivos
que terminan en <code>.txt</code>.</li>
<li>
<code>?</code> Coincide con un solo carácter en un nombre de
archivo, así que <code>?.txt</code> coincide con <code>a.txt</code> pero
no <code>any.txt</code>.</li>
<li>
<code>command &gt; file</code> redirige la salida de un comando a un
archivo.</li>
<li>
<code>first | second</code> es un <strong>pipeline</strong>: la
salida del primer comando se utiliza como entrada para el segundo.</li>
<li>La mejor manera de usar la terminal es utilizar
<strong>pipes</strong> para combinar programas sencillos de propósito
único (filtros).</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-05-loop"><p>Content from <a href="05-loop.html">Bucles</a></p>
<hr>
<p>Última actualización: 2023-04-24 |

        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/05-loop.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo realizar las mismas acciones en varios archivos
diferentes?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Escribir un bucle que aplique uno o más comandos por separado a cada
archivo de un conjunto de archivos.</li>
<li>Rastrear los valores tomados por una variable de bucle durante la
ejecución del bucle.</li>
<li>Explicar la diferencia entre el nombre de una variable y su
valor.</li>
<li>Explicar por qué los espacios y algunos caracteres de puntuación no
deben usarse en nombres de archivo.</li>
<li>Demostrar cómo ver qué comandos han sido ejecutados
recientemente.</li>
<li>Volver a ejecutar comandos ejecutados recientemente sin volver a
escribirlos.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Los <strong>bucles</strong> (loops en inglés) son fundamentales para
mejorar la productividad a través de la automatización, ya que nos
permiten ejecutar comandos de forma repetitiva. Al igual que los
caracteres especiales y el autocompletado, el uso de bucles también
reduce la cantidad de tecleo (y los errores de escritura/dedo). Suponte
que tenemos varios cientos de archivos con datos genómicos denominados
<code>basilisk.dat</code>,<code>unicorn.dat</code> y así sucesivamente.
En este ejemplo, usaremos el directorio <code>creatures</code> que sólo
tiene dos archivos de ejemplo, pero los principios se pueden aplicar a
muchos más archivos a la vez. Nos gustaría modificar estos archivos,
pero también guardar una versión de los archivos originales, nombrando
las copias <code>original-basilisk.dat</code>
y<code>original-unicorn.dat</code>. No podemos usar:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>.dat original-<span class="pp">*</span>.dat</span></code></pre>
</div>
<p>Porque se expandiría a:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> cp basilisk.dat unicorn.dat original-<span class="pp">*</span>.dat</span></code></pre>
</div>
<p>Esto no respalda nuestros archivos, en su lugar obtenemos un
error:</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>cp: target `original-*.dat' is not a directory</code></pre>
</div>
<p>Este problema surge cuando <code>cp</code> recibe más de dos
argumentos de entrada. Cuando esto sucede, espera que la última entrada
sea un directorio donde pueda copiar todos los archivos que se le
pasaron. Dado que no existe ningún directorio denominado
<code>original-*.fasta</code> en el directorio <code>creatures</code>,
se genera un error.</p>
<p>En cambio, podemos usar un <strong>bucle</strong> para ejecutar una
operación a la vez sobre cada cosa en una lista. Aquí un ejemplo
sencillo que muestra las tres primeras líneas de cada archivo de una
sola vez:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> for filename in basilisk.dat unicorn.dat</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="op">&gt;</span>    head <span class="ex">-n</span> 3 <span class="va">$filename</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>COMMON NAME: basilisk
CLASSIFICATION: basiliscus vulgaris
UPDATED: 1745-05-02
COMMON NAME: unicorn
CLASSIFICATION: equus monoceros
UPDATED: 1738-11-24</code></pre>
</div>
<p>Cuando la terminal reconoce la palabra clave <code>for</code>, sabe
que debe repetir un comando (o grupo de comandos) una vez para cada
elemento de una lista. Cada vez que el bucle se ejecuta (llamada
iteración), un elemento de la lista es asignado secuencialmente a una
<strong>variable</strong>, los comandos dentro del bucle se ejecutan
antes de pasar al siguiente elemento de la lista. Dentro del bucle,
pedimos el valor de la variable poniendo <code>$</code> delante de ella.
El <code>$</code> le dice al intérprete de la terminal que trate la
<strong>variable</strong> como un nombre de variable y substituya su
valor, en lugar de tratarlo como texto o como un comando externo.</p>
<p>En este ejemplo, la lista tiene dos nombres de archivo:
<code>basilisk.dat</code> y<code>unicorn.dat</code>. Cada vez que el
bucle se itera, asignará un nombre de archivo a la variable
<code>filename</code> y ejecutará el comando <code>head</code>. La
primera vez en el bucle, <code>$filename</code>
es<code>basilisk.dat</code>. El intérprete ejecuta el comando
<code>head</code> en <code>basilisk.dat</code>, e imprime las primeras
tres líneas de <code>basilisk.dat</code>. Para la segunda iteración,
<code>$filename</code> se convierte en <code>unicorn.dat</code>. Esta
vez, la terminal ejecuta <code>head</code> en<code>unicorn.dat</code> e
imprime las tres primeras líneas de <code>unicorn.dat</code>. Dado que
la lista era sólo de dos elementos, la terminal sale del bucle
<code>for</code>.</p>
<p>Cuando se utilizan variables, también es posible poner sus nombres en
llaves para delimitar claramente el nombre de la variable:
<code>$filename</code> es equivalente a<code>${filename}</code>, pero es
diferente de <code>${file}name</code>. Puede ser que encuentres esta
notación en programas escritos por otras personas.</p>
<div id="siga-las-instrucciones" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="siga-las-instrucciones" class="callout-inner">
<h3 class="callout-title">Siga las instrucciones</h3>
<div class="callout-content">
<p>El <strong>prompt</strong> de la terminal cambia de <code>$</code> a
<code>&gt;</code> y de nuevo a <code>$</code> conforme escribimos
nuestro bucle. El segundo <strong>prompt</strong>, <code>&gt;</code>, es
diferente para recordarnos que todavía no hemos terminado de escribir un
comando completo. Un punto y coma, <code>;</code>, se puede utilizar
para separar dos comandos escritos en una sola línea.</p>
</div>
</div>
</div>
<div id="los-mismos-símbolos-diferentes-significados" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="los-mismos-símbolos-diferentes-significados" class="callout-inner">
<h3 class="callout-title">Los mismos símbolos, diferentes significados</h3>
<div class="callout-content">
<p>Aquí vemos <code>&gt;</code> siendo utilizado como un prompt de la
terminal, mientras que <code>&gt;</code> también se utiliza para
redirigir la salida de un comando. De forma similar, <code>$</code> se
utiliza como prompt de la terminal, pero como vimos antes, también se
utiliza para pedir que la terminal obtenga el valor de una variable.</p>
<p>Si la <em>terminal</em> imprime <code>&gt;</code> o <code>$</code>
entonces espera que escribas algo, y el símbolo es un prompt.</p>
<p>Si <em>tú</em> escribes <code>&gt;</code> o <code>$</code>, es una
instrucción de ti para la terminal indicándole redirigir la salida o
obtener el valor de una variable.</p>
</div>
</div>
</div>
<p>Hemos llamado a la variable en este bucle <code>filename</code> con
el fin de hacer su propósito más claro para los lectores humanos. A la
terminal no le importa el nombre de la variable; si escribimos este
bucle como:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> basilisk.dat unicorn.dat</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>    <span class="fu">head</span> <span class="at">-n</span> 3 <span class="va">$x</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>or:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="cf">for</span> temperature <span class="kw">in</span> basilisk.dat unicorn.dat</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>    <span class="fu">head</span> <span class="at">-n</span> 3 <span class="va">$temperature</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Funcionaría exactamente de la misma manera. <em>No lo hagas así.</em>
Los programas sólo son útiles si la gente puede entenderlos, nombres
crípticos (como <code>x</code>) o nombres engañosos
(como<code>temperature</code>) aumentan las probabilidades de que el
programa no haga lo que sus lectores piensan que hace.</p>
<p>He aquí un bucle un poco más complicado:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="pp">*</span>.dat</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$filename</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>    <span class="fu">head</span> <span class="at">-n</span> 100 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>La terminal comienza expandiendo <code>*.dat</code> para crear la
lista de archivos que procesará. Después de esto, el <strong>cuerpo del
bucle</strong> ejecuta dos comandos para cada uno de esos archivos. El
primero, <code>echo</code>, simplemente imprime sus parámetros de línea
de comandos a la salida estándar. Por ejemplo:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> echo hello there</span></code></pre>
</div>
<p>regresa:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>hello there</code></pre>
</div>
<p>En este caso, ya que la terminal expande <code>$filename</code> para
que sea el nombre de un archivo, <code>echo $filename</code> sólo
imprime el nombre del archivo. Ten en cuenta que no podemos escribir
esto como:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="pp">*</span>.dat</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>    <span class="va">$filename</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>    <span class="fu">head</span> <span class="at">-n</span> 100 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>porque entonces la primera vez a través del bucle, cuando
<code>$filename</code> se expande a <code>basilisk.dat</code>, la
terminal intentará ejecutar <code>basilisk.dat</code> como un programa.
Finalmente, la combinación <code>head</code> y <code>tail</code>
selecciona las líneas 81-100 de cualquier archivo que se esté procesando
(suponiendo que el archivo tiene al menos 100 líneas).</p>
<div id="espacios-en-los-nombres" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="espacios-en-los-nombres" class="callout-inner">
<h3 class="callout-title">Espacios en los nombres</h3>
<div class="callout-content">
<p>El espacio en blanco se utiliza para separar los elementos de la
lista que vamos a usar en el bucle. Si en la lista tenemos elementos con
espacios en blanco necesitamos entrecomillar esos elementos y nuestra
variable al usarlo. Supongamos que nuestros archivos de datos se
llaman:</p>
<pre class="source"><code>red dragon.dat
purple unicorn.dat</code></pre>
<p>Necesitamos usar</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="st">"red dragon.dat"</span> <span class="st">"purple unicorn.dat"</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>    <span class="fu">head</span> <span class="at">-n</span> 100 <span class="st">"</span><span class="va">$filename</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Es más sencillo simplemente evitar el uso de espacios en blanco (u
otros caracteres especiales) en los nombres de archivo.</p>
<p>Los archivos mencionados no existen, si corremos el código del último
ejemplo, el comando <code>head</code> será incapaz de encontrarlos, sin
embargo el mensaje de error regresará el nombre de los archivos que
espera:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>head: cannot open ‘red dragon.dat' for reading: No such file or directory
head: cannot open ‘purple unicorn.dat' for reading: No such file or directory</code></pre>
</div>
<p>Intenta remover las comillas en <code>$filename</code> en el bucle
anterior para observar el efecto de las comillas en los espacios en
blanco:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>head: cannot open ‘red' for reading: No such file or directory
head: cannot open ‘dragon.dat' for reading: No such file or directory
head: cannot open ‘purple' for reading: No such file or directory
head: cannot open ‘unicorn.dat' for reading: No such file or directory</code></pre>
</div>
</div>
</div>
</div>
<p>Volviendo a nuestro problema original de copia de archivos, Podemos
resolverlo usando este bucle:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="pp">*</span>.dat</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>    <span class="fu">cp</span> <span class="va">$filename</span> original-<span class="va">$filename</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Este bucle ejecuta el comando <code>cp</code> una vez para cada
nombre de archivo. La primera vez, cuando <code>$filename</code> se
convierte en <code>basilisk.dat</code>, la terminal ejecuta:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">cp</span> basilisk.dat original-basilisk.dat</span></code></pre>
</div>
<p>La segunda vez, el comando es:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">cp</span> unicorn.dat original-unicorn.dat</span></code></pre>
</div>
<p>Como el comando <code>cp</code> no produce una salida normalmente, es
difícil verificar que el bucle está funcionando de forma correcta. Al
antecederle <code>echo</code> es posibe ver cada comando como
<em>sería</em> ejecutado. El siguiente diagrama muestra lo que sucede
cuando el código modificado es ejecutado, y demuestra cómo el uso de
<code>echo</code> es una práctica útil.</p>
<figure><img src="fig/shell_script_for_loop_flow_chart.svg" alt="Bucle For en acción" class="figure mx-auto d-block"></figure><section><h2 class="section-heading" id="pipeline-de-nelle-procesando-archivos">Pipeline de Nelle: Procesando Archivos<a class="anchor" aria-label="anchor" href="#pipeline-de-nelle-procesando-archivos"></a>
</h2>
<hr class="half-width">
<p>Nelle ahora está lista para procesar sus archivos de datos. Dado que
todavía está aprendiendo cómo utilizar la terminal, decide construir los
comandos requeridos en etapas. Su primer paso es asegurarse de que puede
seleccionar los archivos correctos (recuerda, aquellos cuyos nombres
terminan en ‘A’ o ‘B’, en lugar de ‘Z’). Posicionada en su directorio
<strong>home</strong>, Nelle teclea:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> cd north-pacific-gyre/2012-07-03</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$datafile</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">NENE01729A.txt</span></span>
<span><span class="va">NENE01729B.txt</span></span>
<span><span class="va">NENE01736A.txt</span></span>
<span><span class="va">...</span></span>
<span><span class="va">NENE02043A.txt</span></span>
<span><span class="va">NENE02043B.txt</span></span></code></pre>
</div>
<p>Su siguiente paso es decidir cómo llamar a los archivos que creará el
programa de análisis <code>goostats</code>. Prefijar el nombre de cada
archivo de entrada con “stats” parece simple, así que modifica su bucle
para hacer eso:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>NENE01729A.txt stats-NENE01729A.txt
NENE01729B.txt stats-NENE01729B.txt
NENE01736A.txt stats-NENE01736A.txt
...
NENE02043A.txt stats-NENE02043A.txt
NENE02043B.txt stats-NENE02043B.txt</code></pre>
</div>
<p>Ella todavía no ha ejecutado <code>goostats</code>, pero ahora está
segura de que puede seleccionar los archivos correctos y generar los
nombres de archivo de salida correctos.</p>
<p>Escribir comandos una y otra vez es cada vez más tedioso, y a Nelle
le preocupa cometer errores, así que en lugar de volver a crear su
bucle, presiona la flecha hacia arriba. En respuesta, la terminal vuelve
a mostrar el bucle completo en una línea (usando puntos y comas para
separar las piezas):</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt<span class="kw">;</span> <span class="cf">do</span> <span class="bu">echo</span> <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<p>Utilizando la tecla de flecha izquierda, Nelle realiza una copia de
seguridad y cambia el comando <code>echo</code> a
<code>bash goostats</code>:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt<span class="kw">;</span> <span class="cf">do</span> <span class="fu">bash</span> goostats <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<p>Cuando presiona Enter, la terminal ejecuta el comando modificado. Sin
embargo, nada parece suceder porque no hay salida. Después de un
momento, Nelle se da cuenta de que, ya que su <strong>script</strong> no
imprime nada a la pantalla, no tiene ni idea de si está funcionando, y
mucho menos con qué rapidez. Mata el comando de ejecución escribiendo
<code>Ctrl-C</code>, e utiliza la flecha hacia arriba para repetir el
comando, y lo edita para que se vea así:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt<span class="kw">;</span> <span class="cf">do</span> <span class="bu">echo</span> <span class="va">$datafile</span><span class="kw">;</span> <span class="fu">bash</span> goostats <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<div id="principio-y-fin" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="principio-y-fin" class="callout-inner">
<h3 class="callout-title">Principio y Fin</h3>
<div class="callout-content">
<p>Podemos pasar al principio de una línea en la terminal escribiendo
<code>Ctrl-A</code> y al final usando <code>Ctrl-E</code>.</p>
</div>
</div>
</div>
<p>Ahora, cuando ejecuta su programa, produce una línea de salida cada
cinco segundos aproximadamente:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">NENE01729A.txt</span></span>
<span><span class="va">NENE01729B.txt</span></span>
<span><span class="va">NENE01736A.txt</span></span>
<span><span class="va">...</span></span></code></pre>
</div>
<p>1518 veces 5 segundos, dividido entre 60, le dice que su
<strong>script</strong> tomará alrededor de dos horas en terminar de
analizar todos los archivos. Como un chequeo final, abre otra ventana de
terminal, entra en <code>north-pacific-gyre/2012-07-03</code>, e utiliza
<code>cat stats-NENE01729B.txt</code> para examinar uno de los archivos
de salida. Se ve bien, así que decide tomarse un café y ponerse al día
con su lectura.</p>
<div id="aquellos-que-conocen-la-historia-pueden-elegir-repetirla" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="aquellos-que-conocen-la-historia-pueden-elegir-repetirla" class="callout-inner">
<h3 class="callout-title">Aquellos que conocen la historia pueden elegir repetirla</h3>
<div class="callout-content">
<p>Otra forma de repetir el trabajo anterior es usar el comando
<code>history</code> para obtener una lista de los últimos cientos de
comandos que se han ejecutado, y usar <code>!123</code> (donde” 123 “es
reemplazado por el número de comando) para repetir uno de esos comandos.
Por ejemplo, si Nelle escribe esto:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  456  ls -l NENE0*.txt
  457  rm stats-NENE01729B.txt.txt
  458  bash goostats NENE01729B.txt stats-NENE01729B.txt
  459  ls -l NENE0*.txt
  460  history</code></pre>
</div>
<p>Entonces puede volver a ejecutar <code>goostats</code>
en<code>NENE01729B.txt</code> simplemente escribiendo
<code>!458</code>.</p>
</div>
</div>
</div>
<div id="otros-comandos-del-historial" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="otros-comandos-del-historial" class="callout-inner">
<h3 class="callout-title">Otros comandos del historial</h3>
<div class="callout-content">
<p>Existen otros comandos de acceso directo para acceder al
historial:</p>
<ul>
<li>
<code>Ctrl-R</code> permite buscar en el historial en un modo
denominado “búsqueda reversa” (“reverse-i-search” en inglés), que
permite buscar el comando más reciente en tu historial que coincide con
el texto que introduzcas a continuación. Presionar <code>Ctrl-R</code>
una o más veces adicionales permite buscar coincidencias más
antiguas.</li>
<li>
<code>!!</code> recupera el comando anterior inmediato (puedes ser
que esto te parezca más conveniente que usar la flecha hacia
arriba).</li>
<li>
<code>!$</code> recupera la última palabra del último comando. Esto
es más útil de lo que pensarías: después de
<code>bash goostats NENE01729B.txt stats-NENE01729B.txt</code>, puedes
teclear <code>less !$</code> para ver el archivo
<code>NENE01729B.txt</code>, que es más rápido que utilizar la flecha
hacia arriba y editar el comando.</li>
</ul>
</div>
</div>
</div>
<div id="variables-en-bucles" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="variables-en-bucles" class="callout-inner">
<h3 class="callout-title">Variables en bucles</h3>
<div class="callout-content">
<p>En el directorio <code>data-shell/molecules</code>, <code>ls</code>
regresa la siguiente salida:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</code></pre>
</div>
<p>¿Cuál es la salida del siguiente código?:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>    <span class="fu">ls</span> <span class="pp">*</span>.pdb</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Ahora, ¿cuál es la salida de este código?:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>    <span class="fu">ls</span> <span class="va">$datafile</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>¿Por qué estos dos bucles dan resultados diferentes?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>El primer bloque de código regresa la misma salida en cada iteración
del bucle. La terminal expande el caracter especial <code>*.pdb</code>
en el cuerpo del bucle (y al principio del mismo) para coincidir con
todos los archivos que terminan en <code>.pdb</code>, y los enumera
utilizando <code>ls</code>. El bucel expandido se vería así:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="fu">ls</span> cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</code></pre>
</div>
<p>El segundo bloque de código enumera a un archivo distinto en cada
iteración. El valor de la variable <code>datafile</code> es evaluado
usando <code>$datafile</code> y después enumerado usando
<code>ls</code>.</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">cubane.pdb</span></span>
<span><span class="va">ethane.pdb</span></span>
<span><span class="va">methane.pdb</span></span>
<span><span class="va">octane.pdb</span></span>
<span><span class="va">pentane.pdb</span></span>
<span><span class="va">propane.pdb</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="guardar-en-un-archivo-dentro-de-un-bucle---primera-parte" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="guardar-en-un-archivo-dentro-de-un-bucle---primera-parte" class="callout-inner">
<h3 class="callout-title">Guardar en un archivo dentro de un bucle - Primera parte</h3>
<div class="callout-content">
<p>En el mismo directorio, ¿cuál es el efecto de este bucle?</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="cf">for</span> alkanes <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$alkanes</span></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>    <span class="fu">cat</span> <span class="va">$alkanes</span> <span class="op">&gt;</span> alkanes.pdb</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Imprime <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> y <code>propane.pdb</code>, y el texto de
<code>propane.pdb</code> se guarda en un archivo llamado
<code>alkanes.pdb</code>.</li>
<li>Imprime <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, y concatena el texto de los tres archivos en
un archivo llamado <code>alkanes.pdb</code>.</li>
<li>Imprime <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code> y
<code>pentane.pdb</code>, y guarda el texto de <code>propane.pdb</code>
en un archivo llamado <code>alkanes.pdb</code>.</li>
<li>Ninguna de las anteriores.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>El texto de cada archivo se escribe (uno a la vez) en
<code>alkanes.pdb</code>. Sin embargo, el archivo se sobrescribe en cada
iteración del bucle, por lo que el contenido final de
<code>alkanes.pdb</code> es sólo el texto proveniente de
<code>propane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="guardar-en-un-archivo-en-un-bucle---segunda-parte" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="guardar-en-un-archivo-en-un-bucle---segunda-parte" class="callout-inner">
<h3 class="callout-title">Guardar en un archivo en un bucle - Segunda parte</h3>
<div class="callout-content">
<p>En el mismo directorio, ¿cuál sería la salida del siguiente
bucle?</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>   <span class="fu">cat</span> <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Todo el texto de <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code> y
<code>pentane.pdb</code> sería concatenado y guardado en un archivo
llamado <code>all.pdb</code>.</li>
<li>El texto de <code>ethane.pdb</code> se guardará en un archivo
llamado <code>all.pdb</code>.</li>
<li>Todo el texto de <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> y <code>propane.pdb</code> sería concatenado y
guardado en un archivo llamado <code>all.pdb</code>.</li>
<li>Todo el texto de <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> y <code>propane.pdb</code> se imprimirá en
pantalla y será salvado en un archivo llamado <code>all.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Solución
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>La opción correcta es 3. <code>&gt;&gt;</code> concatena en un
archivo, en lugar de sobrescribirlo con la salida del comando. Dado que
la salida del comando <code>cat</code> ha sido redirigida, nada se
imprime en pantalla.</p>
</div>
</div>
</div>
</div>
<div id="limitación-de-conjuntos-de-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="limitación-de-conjuntos-de-archivos" class="callout-inner">
<h3 class="callout-title">Limitación de conjuntos de archivos</h3>
<div class="callout-content">
<p>En el mismo directorio, ¿cuál sería la salida del siguiente
bucle?:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> c<span class="pp">*</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a>    <span class="fu">ls</span> <span class="va">$filename</span> </span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>No se muestra ningún archivo.</li>
<li>Todos los archivos son enumerados.</li>
<li>Sólo se enumeran <code>cubane.pdb</code>, <code>octane.pdb</code> y
<code>pentane.pdb</code>.</li>
<li>Sólamente se enumera <code>cubane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>La respuesta correcta es 4. <code>*</code> coincide con cero o más
caracteres, así que cualquier nombre que comience con la letra c,
seguida de cero o más caracteres, coincidirá con el comando</p>
</div>
</div>
</div>
</div>
<div id="limitación-de-conjuntos-de-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="limitación-de-conjuntos-de-archivos" class="callout-inner">
<h3 class="callout-title">Limitación de conjuntos de archivos<em>
(continued)</em>
</h3>
<div class="callout-content">
<p>¿Cómo diferiría el resultado si usáramos el siguiente comando en
lugar del anterior?</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="pp">*</span>c<span class="pp">*</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a>    <span class="fu">ls</span> <span class="va">$filename</span> </span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Se listarían los mismos archivos.</li>
<li>Esta vez se enumerarían todos los archivos.</li>
<li>Esta vez no enumeraría ningún archivo.</li>
<li>Sólo se enumeraría el archivo <code>octane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Solución
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>La respuesta correcta es 4. <code>*</code> coincide con cero o más
caracteres, por lo que la expresión <code>*c*</code> coincidirá con un
nombre de archivo con cero o más caracteres antes de la letra c, y cero
o más caracteres después de la letra c.</p>
</div>
</div>
</div>
</div>
<div id="haciendo-una-ejecución-en-seco-dry-run" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="haciendo-una-ejecución-en-seco-dry-run" class="callout-inner">
<h3 class="callout-title">Haciendo una ejecución “en seco” (dry-run)</h3>
<div class="callout-content">
<p>Un bucle es una forma de hacer muchas cosas a la vez, o de cometer
muchos errores a la vez si se diseña de forma incorrecta. Una manera de
comprobar lo que un bucle <em>hará</em> es usar el comando
<code>echo</code>. En lugar de ejecutar los comandos, los mostrará en
pantalla.</p>
<p>Supongamos que queremos obtener una vista previa de los comandos que
ejecutará el siguiente bucle, sin ejecutarlos realmente:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="cf">for</span> file <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a>  <span class="ex">analyze</span> <span class="va">$file</span> <span class="op">&gt;</span> analyzed-<span class="va">$file</span></span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>¿Cuál es la diferencia entre los dos bucles abajo, y cuál deberíamos
usar?</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="co"># Version 1</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="cf">for</span> file <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a>  <span class="bu">echo</span> analyze <span class="va">$file</span> <span class="op">&gt;</span> analyzed-<span class="va">$file</span></span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="co"># Version 2</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="cf">for</span> file <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">"analyze </span><span class="va">$file</span><span class="st"> &gt; analyzed-</span><span class="va">$file</span><span class="st">"</span></span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Solución
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>La versión que querríamos utilizar es la 2. Esta versión imprime en
pantalla todo lo entrecomillado, expandiendo la variable del bucle
porque incluye el signo <code>$</code> como prefijo.</p>
<p>La versión 1 redirige la salida del comando
<code>echo analyze $file</code> a un archivo,
<code>analyzed-$file</code>. Es decir, se genera una serie de archivos:
<code>analyzed-cubane.pdb</code>, <code>analyzed-ethane.pdb</code>,
etc.</p>
<p>Prueba ambas versiones en tu terminal para ver la salida. Asegúrate
de abrir los archivos <code>analyzed-*.pdb</code> para ver su
contenido.</p>
</div>
</div>
</div>
</div>
<div id="bucles-anidado" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="bucles-anidado" class="callout-inner">
<h3 class="callout-title">Bucles anidado</h3>
<div class="callout-content">
<p>Suponte que queremos configurar una estructura de directorios para
organizar algunos experimentos que miden constantes de velocidad de
reacción que involucran distintos compuestos <em>y</em> distintas
temperaturas. ¿Cuál sería el resultado del siguiente código?:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="cf">for</span> species <span class="kw">in</span> cubane ethane methane</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a>    <span class="cf">for</span> temperature <span class="kw">in</span> 25 30 37 40</span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a>    <span class="cf">do</span></span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a>        <span class="fu">mkdir</span> <span class="va">$species</span>-<span class="va">$temperature</span></span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a>    <span class="cf">done</span></span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Solución
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>Tenemos un bucle anidado, es decir, un bucle dentro de otro bucle:
para cada <code>specie</code> del bucle exterior, el bucle interior (el
bucle anidado) itera sobre la lista de temperaturas y crea un nuevo
directorio para cada combinación.</p>
<p>¡Intenta ejecutar el código para descubrir qué directorio se
crean!</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>Un bucle <code>for</code> repite comandos una vez para cada elemento
de una lista.</li>
<li>Cada bucle <code>for</code> necesita una variable para referirse al
elemento en el que está trabajando actualmente.</li>
<li>Uso de <code>$name</code> para expandir una variable (es decir,
obtener su valor). También se puede usar <code>${name}</code>.</li>
<li>No utilizar espacios, comillas o caracteres especiales como ‘*’ o
‘?’ en nombres de directorios, ya que complica la expansión de
variables.</li>
<li>Proporcionar a los archivos nombres coherentes que sean fáciles de
combinar con los caracteres especiales para facilitar la selección de
los bucles.</li>
<li>Utilizar la tecla de flecha hacia arriba para desplazarse por los
comandos anteriores para editarlos y repetirlos.</li>
<li>Usar<code>Ctrl-R</code> para buscar a través de los comandos
previamente introducidos.</li>
<li>Usar <code>history</code> para mostrar comandos recientes, y
<code>!number</code> para repetir un comando por número.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-06-script"><p>Content from <a href="06-script.html">Scripts de la terminal</a></p>
<hr>
<p>Última actualización: 2023-04-24 |

        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/06-script.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo guardar y reutilizar comandos?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Escriba un <strong>script</strong> de la terminal que ejecute un
comando o una serie de comandos para un conjunto fijo de archivos.</li>
<li>Ejecutar un <strong>script</strong> de la terminal desde la línea de
comandos.</li>
<li>Escribir un <strong>script</strong> de la terminal que opere sobre
un conjunto de archivos definidos por el usuario en línea de
comandos.</li>
<li>Crear <strong>pipelines</strong> que incluyan
<strong>script</strong> de la terminal que tú y otros hayan
escrito.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Finalmente estamos listos para ver lo que hace que la terminal sea un
entorno de programación tan potente. Vamos a tomar los comandos que
repetimos con frecuencia y los vamos a guardar en archivos de modo que
podemos volver a ejecutar todas esas operaciones más tarde escribiendo
un sólo comando. Por razones históricas, a un conjunto de comandos
guardados en un archivo se le llama un <strong>script de la
terminal</strong>, pero no se equivoquen: estos son en realidad pequeños
programas.</p>
<p>Comencemos por volver a <code>molecules/</code> creando un nuevo
archivo, <code>middle.sh</code>, que se convertirá en nuestro
<strong>script</strong> de la terminal:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd molecules</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<p>El comando <code>nano middle.sh</code> abre el archivo
<code>middle.sh</code> dentro del editor de texto “nano” (que se ejecuta
dentro de la terminal). Si el archivo no existe, se creará. Podemos usar
el editor de texto para editar directamente el archivo - simplemente
insertaremos la siguiente línea:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">head</span> <span class="at">-n</span> 15 octane.pdb <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<p>Esta es una variación del <strong>pipe</strong> que construimos
anteriormente: selecciona las líneas 11-15 del archivo
<code>octane.pdb</code>. Recuerda, <em>no</em> lo estamos ejecutando
como un comando todavía: sólo estamos poniendo los comandos en un
archivo.</p>
<p>A continuación, guardamos el archivo (<code>Ctrl-O</code> en nano), y
salimos del editor de texto (<code>Ctrl-X</code> en nano). Comprueba que
el directorio <code>molecules</code> ahora contiene un archivo llamado
<code>middle.sh</code>.</p>
<p>Una vez que hayamos guardado el archivo, podemos pedirle a la
terminal que ejecute los comandos que contiene. Nuestra terminal se
llama <code>bash</code>, por lo que ejecutamos el siguiente comando:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1      -4.502   0.681   0.785  1.00  0.00
ATOM     10  H           1      -5.254  -0.243  -0.537  1.00  0.00
ATOM     11  H           1      -4.357   1.252  -0.895  1.00  0.00
ATOM     12  H           1      -3.009  -0.741  -1.467  1.00  0.00
ATOM     13  H           1      -3.172  -1.337   0.206  1.00  0.00</code></pre>
</div>
<p>Efectivamente, la salida de nuestro <strong>script</strong> es
exactamente lo que obtendríamos si ejecutamos ese
<strong>pipeline</strong> directamente en la terminal.</p>
<div id="texto-vs.-lo-que-sea" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="texto-vs.-lo-que-sea" class="callout-inner">
<h3 class="callout-title">Texto vs. Lo que sea</h3>
<div class="callout-content">
<p>Por lo general llamamos a programas como Microsoft Word o LibreOffice
Writer “editores de texto”, pero tenemos que ser un poco más cuidadosos
cuando se trata de programación. De forma predeterminada, Microsoft Word
utiliza archivos .docx para almacenar no sólo texto, sino también
información de formato sobre fuentes, encabezados, etcétera. Esta
información adicional no se almacena como caracteres y no es comprendida
por herramientas como <code>head</code>: los comandos esperan que los
archivos de entrada contengan únicamente letras, dígitos y puntuación en
un teclado de computadora estándar. Por lo tanto, al editar programas,
debemos utilizar un editor de texto sin formatos o tener cuidado de
guardar nuestros archivos como texto sin formato.</p>
</div>
</div>
</div>
<p>¿Qué pasa si queremos seleccionar líneas de un archivo arbitrario?
Podríamos editar <code>middle.sh</code> cada vez para cambiar el nombre
de archivo, pero eso probablemente llevaría más tiempo que simplemente
volver a escribir el comando. En cambio, editemos <code>middle.sh</code>
y hagamos que sea más versátil:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<p>Ahora, dentro de “nano”, reemplaza el texto <code>octane.pdb</code>
con la variable especial denominada <code>$1</code>:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">head</span> <span class="at">-n</span> 15 <span class="st">"</span><span class="va">$1</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<p>Dentro de un <strong>script</strong> de la terminal,<code>$1</code>
significa “el primer nombre de archivo (u otro parámetro) en la línea de
comandos”. Ahora podemos ejecutar nuestro <strong>script</strong> de
esta manera:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh octane.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1      -4.502   0.681   0.785  1.00  0.00
ATOM     10  H           1      -5.254  -0.243  -0.537  1.00  0.00
ATOM     11  H           1      -4.357   1.252  -0.895  1.00  0.00
ATOM     12  H           1      -3.009  -0.741  -1.467  1.00  0.00
ATOM     13  H           1      -3.172  -1.337   0.206  1.00  0.00</code></pre>
</div>
<p>o con un archivo diferente:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1       1.324   0.350  -1.332  1.00  0.00
ATOM     10  H           1       1.271   1.378   0.122  1.00  0.00
ATOM     11  H           1      -0.074  -0.384   1.288  1.00  0.00
ATOM     12  H           1      -0.048  -1.362  -0.205  1.00  0.00
ATOM     13  H           1      -1.183   0.500  -1.412  1.00  0.00</code></pre>
</div>
<div id="comillas-dobles-alrededor-de-parámetros" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comillas-dobles-alrededor-de-parámetros" class="callout-inner">
<h3 class="callout-title">Comillas dobles alrededor de parámetros</h3>
<div class="callout-content">
<p>Por la misma razón que ponemos la variable del bucle dentro de
comillas dobles, cuando el nombre de archivo contenga espacios, rodeamos
<code>$1</code> con comillas dobles.</p>
</div>
</div>
</div>
<p>Aún así necesitamos editar <code>middle.sh</code> cada vez que
queramos ajustar el rango de líneas. Vamos a arreglar esto usando las
variables especiales <code>$2</code> y<code>$3</code> para el número de
líneas que se pasarán respectivamente a <code>head</code> y
<code>tail</code>:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>head -n "$2" "$1" | tail -n "$3"</code></pre>
</div>
<p>Ahora podemos ejecutar:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb 15 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1       1.324   0.350  -1.332  1.00  0.00
ATOM     10  H           1       1.271   1.378   0.122  1.00  0.00
ATOM     11  H           1      -0.074  -0.384   1.288  1.00  0.00
ATOM     12  H           1      -0.048  -1.362  -0.205  1.00  0.00
ATOM     13  H           1      -1.183   0.500  -1.412  1.00  0.00</code></pre>
</div>
<p>Cambiando los parámetros de nuestra línea de comando, podemos cambiar
el comportamiento del <strong>script</strong>:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb 20 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM     14  H           1      -1.259   1.420   0.112  1.00  0.00
ATOM     15  H           1      -2.608  -0.407   1.130  1.00  0.00
ATOM     16  H           1      -2.540  -1.303  -0.404  1.00  0.00
ATOM     17  H           1      -3.393   0.254  -0.321  1.00  0.00
TER      18              1</code></pre>
</div>
<p>Esto funciona, pero a la siguiente persona que use
<code>middle.sh</code> se le puede dificultar ver lo que hace. Podemos
mejorar nuestro <strong>script</strong> agregando algunos
<strong>comentarios</strong> en la parte superior:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Select lines from the middle of a file.
# Usage: bash middle.sh filename end_line num_lines
head -n "$2" "$1" | tail -n "$3"</code></pre>
</div>
<p>Un comentario comienza con un caracter <code>#</code> y se ejecuta
hasta el final de la línea. La computadora ignora los comentarios, pero
son invaluables para ayudar a la gente (incluyéndote a ti en un futuro)
a entender y usar <strong>scripts</strong>. La única advertencia es que
cada vez que modifiques un <strong>script</strong>, debes comprobar que
el comentario siga siendo preciso: Una explicación que envía al lector
en la dirección equivocada es peor que ninguna.</p>
<p>¿Qué sucede si queremos procesar muchos archivos en un solo
<strong>pipeline</strong>? Por ejemplo, si queremos ordenar nuestros
archivos <code>.pdb</code> por longitud, deberíamos escribir:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
<p>dado que <code>wc -l</code> lista el número de líneas en los archivos
(recuerda que <code>wc</code> significa ‘word count’, y si agregas el
<code>-l</code> significa ‘contar líneas’) y <code>sort -n</code> ordena
numéricamente. Podríamos poner esto en un archivo, pero entonces sólo
podría ordenar una lista de archivos <code>.pdb</code> en el directorio
actual. Si queremos ser capaces de obtener una lista ordenada de otros
tipos de archivos, necesitamos una manera de conseguir estos nombres en
el <strong>script</strong>. No podemos usar <code>$1</code>,
<code>$2</code>, y así sucesivamente porque no sabemos cuántos archivos
hay. En su lugar, utilizamos la variable especial <code>$@</code>, lo
que significa, “Todos los parámetros de la línea de comandos para el
<strong>script</strong>”. También debemos poner <code>$@</code> dentro
de comillas dobles para el caso de parámetros que contienen espacios
(<code>"$@"</code> es equivalente a <code>"$1"</code> <code>"$2"</code>
…). He aquí un ejemplo:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> nano sorted.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Sort filenames by their length.
# Usage: bash sorted.sh one_or_more_filenames
wc -l "$@" | sort -n</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> bash sorted.sh <span class="pp">*</span>.pdb ../creatures/<span class="pp">*</span>.dat</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>9 methane.pdb
12 ethane.pdb
15 propane.pdb
20 cubane.pdb
21 pentane.pdb
30 octane.pdb
163 ../creatures/basilisk.dat
163 ../creatures/unicorn.dat</code></pre>
</div>
<div id="por-qué-no-está-haciendo-nada" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="por-qué-no-está-haciendo-nada" class="callout-inner">
<h3 class="callout-title">¿Por qué no está haciendo nada?</h3>
<div class="callout-content">
<p>¿Qué pasa si se supone que un <strong>script</strong> procesa un
grupo de archivos, pero nosotros no le damos ningún nombre de archivo?
Por ejemplo, ¿qué pasa si escribimos?:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> bash sorted.sh</span></code></pre>
</div>
<p>pero sin agregar <code>*.dat</code> (o cualquier otra cosa)? En este
caso, <code>$@</code> se expande a nada en absoluto, por lo que el
<strong>pipeline</strong> dentro del <strong>script</strong> es
efectivamente:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
<p>Dado que no tiene ningún nombre de archivo, <code>wc</code> supone
que debe procesar entrada estándar, por lo que sólo se sienta allí y
espera a que le demos algunos datos de forma interactiva. Desde el
exterior, sin embargo, todo lo que vemos es que el programa está
estático: el guión no parece hacer nada.</p>
</div>
</div>
</div>
<p>Supongamos que acabamos de ejecutar una serie de comandos que
hicieron algo útil - por ejemplo, crearon un gráfico que nos gustaría
utilizar en un documento. Nos gustaría poder volver a hacer el gráfico
más tarde si es necesario, por lo que queremos guardar los comandos en
un archivo. En lugar de escribirlos de nuevo (y potencialmente
equivocarse) podemos hacer esto:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> redo-figure-3.sh</span></code></pre>
</div>
<p>El archivo <code>redo-figure-3.sh</code> ahora contiene:</p>
<pre class="source"><code>297 bash goostats -r NENE01729B.txt stats-NENE01729B.txt
298 bash goodiff stats-NENE01729B.txt /data/validated/01729.txt &gt; 01729-differences.txt
299 cut -d ',' -f 2-3 01729-differences.txt &gt; 01729-time-series.txt
300 ygraph --format scatter --color bw --borders none 01729-time-series.txt figure-3.png
301 history | tail -n 5 &gt; redo-figure-3.sh</code></pre>
<p>Después de un poco de trabajo en un editor para eliminar los números
de serie en los comandos, y eliminar la línea final donde llamamos el
comando <code>history</code>, tenemos un registro completamente preciso
de cómo creamos dicha figura.</p>
<p>En la práctica, la mayoría de las personas desarrollan
<strong>scripts</strong> de la terminal ejecutando comandos en el prompt
de dicha terminal varias veces para asegurarse de que están haciendo las
cosas bien, y a continuación los guardan en un archivo para su
reutilización. Este estilo de trabajo permite a la gente replicar lo que
descubre sobre sus datos y su flujo de trabajo con una llamada a
<code>history</code> y editando para limpiar la salida pueden guardarlo
como un <strong>script</strong> de la terminal.</p>
<section><h2 class="section-heading" id="el-pipeline-de-nelle-creando-un-script">El pipeline de Nelle: Creando un <strong>script</strong>
<a class="anchor" aria-label="anchor" href="#el-pipeline-de-nelle-creando-un-script"></a>
</h2>
<hr class="half-width">
<p>El supervisor de Nelle insistió en que todos sus análisis deben ser
reproducibles. Nelle se da cuenta que debería haber proporcionado un par
de parámetros adicionales a <code>goostats</code> cuando procesó sus
archivos. Esto podría haber sido un desastre si hubiera hecho todo el
análisis a mano, pero gracias a los bucles <code>for</code>, sólo le
tomará un par de horas para volver a realizar el análisis. La forma más
fácil de capturar todos los pasos es en un <strong>script</strong>. Ella
ejecuta el editor y escribe lo siguiente:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="co"># Calculate reduced stats for data files.</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Guarda esto en un archivo llamado <code>do-stats.sh</code> para que
ahora pueda volver a hacer la primera etapa de su análisis
escribiendo:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> bash do-stats.sh NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt</span></code></pre>
</div>
<p>Ella también puede hacer esto:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> bash do-stats.sh NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span></code></pre>
</div>
<p>de modo que el <strong>output</strong> es sólo el número de archivos
procesados en lugar de los nombres de los archivos que se
procesaron.</p>
<p>Una cosa a tener en cuenta sobre el <strong>script</strong> de Nelle
es que permite que la persona que lo ejecuta decida que archivos
procesar. Podría haberlo escrito así:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Calculate stats for Site A and Site B data files.</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>La ventaja es que esto siempre selecciona los archivos correctos:
Ella no tiene que recordar excluir los archivos ‘Z’. La desventaja es
que <em>siempre</em> selecciona esos archivos - ella no puede ejecutarlo
en todos los archivos (incluidos los archivos ‘Z’), o en los archivos
‘G’ o ‘H’ que sus colegas de la Antártida están produciendo, sin editar
el <strong>script</strong> manualmente. Si quisiera ser más aventurera,
Nelle podría modificar su <strong>script</strong> para verificar los
parámetros en línea de comandos, y utilizar <code>NENE*[AB].txt</code>
si no se ha proporcionado ninguno. Por supuesto, esto introduce otro
equilibrio entre flexibilidad y complejidad.</p>
<div id="variables-en-los-scripts-de-la-terminal" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="variables-en-los-scripts-de-la-terminal" class="callout-inner">
<h3 class="callout-title">Variables en los <strong>scripts</strong> de
la terminal</h3>
<div class="callout-content">
<p>En el directorio <code>molecules</code>, imagina que tienes un
<strong>script</strong> de la terminal llamado <code>script.sh</code>
que contiene los siguientes comandos:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">head</span> <span class="at">-n</span> <span class="va">$2</span> <span class="va">$1</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-n</span> <span class="va">$3</span> <span class="va">$1</span></span></code></pre>
</div>
<p>Mientras estés en el directorio <code>molecules</code>, escribe el
siguiente comando:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="fu">bash</span> script.sh <span class="st">'*.pdb'</span> 1 1</span></code></pre>
</div>
<p>¿Cuál de los siguientes resultados esperarías ver?</p>
<ol style="list-style-type: decimal">
<li>Todas las líneas entre la primera y la última línea de cada archivo
que terminan en <code>.pdb</code> en el directorio
<code>molecules</code>.</li>
<li>La primera y la última línea de cada archivo que termina en
<code>.pdb</code> en el directorio <code>molecules</code>.</li>
<li>La primera y la última línea de cada archivo en el directorio
<code>molecules</code>.</li>
<li>Un error debido a las comillas alrededor de <code>*.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>La respuesta correcta es la 2. Las variables <code>$1</code>,
<code>$2</code> y <code>$3</code> representan los argumentos para el
<strong>script</strong>, tal que los comandos ejecutados son:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 1 cubane.pdb ethan ee.pdb octane.pdb pentane.pdb propane.pdb</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="ex">$</span> tail <span class="at">-n</span> 1 cubane.pdb ethane.pdb octane.pdb pentane.pdb propane.pdb</span></code></pre>
</div>
<p>La terminal no expande ‘* .pdb’ porque está rodeado por comillas. El
primer parámetro del <strong>script</strong> es ‘*.pdb’, que se expande
dentro del <strong>script</strong> desde el principio al final.</p>
</div>
</div>
</div>
</div>
<div id="listando-especies-únicas" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="listando-especies-únicas" class="callout-inner">
<h3 class="callout-title">Listando especies únicas</h3>
<div class="callout-content">
<p>Leah tiene varios cientos de archivos de datos, cada uno de los
cuales tiene el siguiente formato :</p>
<pre class="source"><code>2013-11-05,deer,5
2013-11-05,rabbit,22
2013-11-05,raccoon,7
2013-11-06,rabbit,19
2013-11-06,deer,2
2013-11-06,fox,1
2013-11-07,rabbit,18
2013-11-07,bear,1</code></pre>
<p>Un ejemplo de este tipo de archivo se puede ver en
data-shell/data/animal-counts/animals.txt.</p>
<p>Escribe un <strong>script</strong> de la terminal llamado
<code>species.sh</code> que tome cualquier número de nombres de archivos
como parámetros de línea de comandos, y utilice <code>cut</code>,
<code>sort</code> y <code>uniq</code> para mostrar una lista de las
especies únicas que aparecen en cada uno de esos archivos por
separado.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<pre><code># El script para encontrar especies unicas en archivos .csv en donde "species" es la segunda data field
# Este script acepta cualquier número de nombres de archivos como argumentos de la línea de comando.

# Bucle loop
for file in $@
do
	echo "Unique species in $file:"
	# Extraer nombres de especies
	cut -d , -f 2 $file | sort | uniq
done</code></pre>
</div>
</div>
</div>
</div>
<div id="encuentre-el-archivo-más-largo-con-una-extensión-determinada" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="encuentre-el-archivo-más-largo-con-una-extensión-determinada" class="callout-inner">
<h3 class="callout-title">Encuentre el archivo más largo con una extensión determinada</h3>
<div class="callout-content">
<p>Escribe un <strong>script</strong> de la terminal llamado
<code>longest.sh</code> que tome el nombre de un directorio y una
extensión de nombre de archivo como sus parámetros, e imprima el nombre
del archivo con más líneas en ese directorio con esa extensión. Por
ejemplo:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> bash longest.sh /tmp/data pdb</span></code></pre>
</div>
<p>Mostraría el nombre del archivo <code>.pdb</code>
en<code>/tmp/data</code> que tenga más líneas.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Solución
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a> <span class="co"># Script que toma 2 parámetros: </span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a> <span class="co">#    1. un nombre de directorio</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a> <span class="co">#    2. una extensión de archivo</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a> <span class="co"># y muestra el nombre del archivo de ese directorio </span></span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a> <span class="co"># con las líneas que coincide con la extensión del archivo.</span></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a> </span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$1</span>/<span class="pp">*</span>.<span class="va">$2</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 2 <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="por-qué-grabar-los-comandos-en-el-historial-antes-de-ejecutarlos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="por-qué-grabar-los-comandos-en-el-historial-antes-de-ejecutarlos" class="callout-inner">
<h3 class="callout-title">¿Por qué grabar los comandos en el historial antes de ejecutarlos?</h3>
<div class="callout-content">
<p>Si ejecutas el comando:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> recent.sh</span></code></pre>
</div>
<p>El último comando del archivo es el mismo comando
<code>history</code>, es decir, la terminal ha añadido
<code>history</code> al registro de comandos antes de ejecutarlo. De
hecho, la terminal <em>siempre</em> agrega comandos al registro antes de
ejecutarlos. ¿Por qué crees que hace esto?</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Si un comando hace que algo se cuelgue, podría ser útil saber cuál
era ese comando para saber cuál fue el problema. Si el comando sólo se
registra después de ejecutarlo, no tendríamos un registro del último
comando ejecutado en caso de un bloqueo.</p>
</div>
</div>
</div>
</div>
<div id="script-de-lectura-y-comprensión" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="script-de-lectura-y-comprensión" class="callout-inner">
<h3 class="callout-title">Script de lectura y comprensión</h3>
<div class="callout-content">
<p>Considera el directorio data-shell/molecules una vez más. Este
contiene una cantidad de archivos .pdb además de otro archivo que hayas
creado. Explica, para los siguientes tres ejemplos, que hace el
<strong>script</strong> llamado example.sh cuando lo ejecutas como
<code>bash example.sh *.pdb</code>:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="co"># Script 1</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="bu">echo</span> <span class="pp">*</span>.<span class="pp">*</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="co"># Script 2</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="va">$1</span> <span class="va">$2</span> <span class="va">$3</span></span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a>    <span class="fu">cat</span> <span class="va">$filename</span></span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="co"># Script 3</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$@</span>.dat</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Solución
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>El <strong>script</strong> 1 mostrará una lista de todos los archivos
que contienen un punto en su nombre.</p>
<p>El <strong>script</strong> 2 mostrará el contenido de los primeros 3
archivos que coinciden con la extensión del archivo. La terminal expande
el caracter especial antes de pasar los argumentos al script
example.sh.</p>
<p>El <strong>script</strong> 3 mostrará todos los parámetros del script
(es decir, todos los archivos .pdb), seguido de .pdb. cubane.pdb
etano.pdb metano.pdb octano.pdb pentano.pdb propano.pdb.pdb</p>
</div>
</div>
</div>
</div>
<div id="depuración-debugging-de-scripts" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="depuración-debugging-de-scripts" class="callout-inner">
<h3 class="callout-title">Depuración (debugging) de scripts</h3>
<div class="callout-content">
<p>Supongamos que se ha guardado el siguiente <strong>script</strong> en
un archivo denominado <code>do-errors.sh</code> en el directorio
<code>north-pacific-gyre/2012-07-03</code> de Nelle:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="co"># Calcular las estadísticas de los archivos de datos.</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datfile</span></span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Cuando lo ejecutas:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> bash do-errors.sh NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt</span></code></pre>
</div>
<p>El <strong>output</strong> está en blanco. Para averiguar por qué,
vuelve a ejecutar el <strong>script</strong> utilizando la opción
<code>-x</code>:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="fu">bash</span> <span class="at">-x</span> do-errors.sh NENE<span class="pp">*[</span><span class="ss">AB</span><span class="pp">]</span>.txt</span></code></pre>
</div>
<p>¿Cuál es el resultado que muestra? ¿Qué línea es responsable del
error?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Solución
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>El indicador <code>-x</code> hace que <code>bash</code> se ejecute en
modo de depuración. Esto muestra cada comando mientras se ejecuta, lo
que te ayudará a localizar errores. En este ejemplo, podemos ver que
<code>echo</code> no está mostrando nada. Hemos creado un error
tipográfico en el nombre de la variable del bucle, la variable
<code>datfile</code> no existe, por lo que devuelve una cadena
vacía.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>Guardar comandos en archivos (normalmente llamados
<strong>scripts</strong> de la terminal) para su reutilización.</li>
<li>
<code>bash filename</code> ejecuta los comandos guardados en un
archivo.</li>
<li>
<code>$@</code>se refiere a todos los parámetros de la línea de
comandos de un <strong>script</strong> de la terminal.</li>
<li>
<code>$1</code>, <code>$2</code>, etc., se refieren al primer
parámetro de la línea de comandos, al segundo parámetro de la línea de
comandos, etc.</li>
<li>Coloque las variables entre comillas si los valores tienen espacios
en ellas.</li>
<li>Dejar que los usuarios decidan qué archivos procesar es más flexible
y más consistente con los comandos de Unix.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-07-find"><p>Content from <a href="07-find.html">Encontrando archivos</a></p>
<hr>
<p>Última actualización: 2023-04-24 |

        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/episodes/07-find.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo encontrar archivos?</li>
<li>¿Cómo puedo encontrar algunas cosas dentro de mis archivos?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Usar <code>grep</code> para seleccionar las líneas de archivos de
texto que coincidan con patrones simples.</li>
<li>Usar <code>find</code> para encontrar archivos cuyos nombres
coincidan con patrones simples.</li>
<li>Usar la respuesta de un comando como parámetro de entrada para otro
comando.</li>
<li>Explicar lo que se entiende por archivos de ‘texto’ y ‘binarios’, y
por qué muchas herramientas comunes no manejan bien estos últimos.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>De la misma manera que muchos de nosotros ahora usamos “googlear”
como un verbo que significa “encontrar”, los programadores de Unix usan
cotidianamente la palabra “grep”. “grep” es una contracción de
“global/regular expression/print” (global/expresión regular/imprimir),
una secuencia común de operaciones en los primeros editores de texto de
Unix. También es el nombre de un programa de línea de comandos muy
útil.</p>
<p>El comando <code>grep</code> encuentra e imprime líneas en archivos
que coinciden con un patrón. Para nuestros ejemplos, usaremos un archivo
que contenga tres haikus publicados en 1998 en la revista
<em>Salon</em>. Para este conjunto de ejemplos, Vamos a estar trabajando
en el subdirectorio “writing”:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> cd writing</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">$</span> cat haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen
Is not the true Tao, until
You bring fresh toner.

With searching comes loss
and the presence of absence:
"My Thesis" not found.

Yesterday it worked
Today it is not working
Software is like that.</code></pre>
</div>
<div id="del-dicho-para-siempre-o-cinco-años" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="del-dicho-para-siempre-o-cinco-años" class="callout-inner">
<h3 class="callout-title">Del dicho “Para siempre, o cinco años”</h3>
<div class="callout-content">
<p>Nota: no hemos vinculado a los haikus originales porque parecen ya no
estar disponibles en el sitio de <em>Salon</em>. Como <a href="https://www.clir.org/pubs/archives/ensuring.pdf" class="external-link">Jeff Rothenberg
dijo</a>, “La información digital dura para siempre — o cinco años, lo
que ocurra primero.”</p>
</div>
</div>
</div>
<p>Busquemos líneas que contengan la palabra “not”:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> grep not haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Is not the true Tao, until
"My Thesis" not found
Today it is not working</code></pre>
</div>
<p>En este ejemplo, <code>not</code> es el patrón que estamos buscando.
Es bastante simple: cada carácter alfanumérico coincide con sí mismo.
Después del patrón viene el nombre o los nombres de los archivos que
estamos buscando. La salida son las tres líneas del archivo que
contienen las letras “not”.</p>
<p>Vamos a probar un patrón distinto: “The”.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> grep The haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen
"My Thesis" not found.</code></pre>
</div>
<p>Esta vez, las dos líneas que incluyen las letras “The” forman parte
del producto de la búsqueda. Sin embargo, una instancia de esas letras
está contenida en una palabra más grande, “Thesis”.</p>
<p>Para restringir los aciertos a las líneas que contienen la palabra
“The” por sí sola, podemos usar <code>grep</code> con el
indicador<code>-w</code>. Esto limitará los coincidencias a
palabras.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-w</span> The haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen</code></pre>
</div>
<p>Nota que la palabra o patrón de búsqueda incluye el comienzo y el
final de una línea, no solamente aquellas letras rodeadas de espacios. A
veces, queremos buscar una frase, en vez de una sola palabra. Esto puede
hacerse fácilmente con <code>grep</code> usando la frase entre
comillas.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-w</span> <span class="st">"is not"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Today it is not working</code></pre>
</div>
<p>Hemos visto que no requerimos comillas alrededor de palabras simples,
pero es útil utilizar comillas cuando se buscan varias palabras
consecutivas. También ayuda a facilitar la distinción entre el término o
frase de búsqueda y el archivo en el que se está buscando. Utilizaremos
comillas en los próximos ejemplos.</p>
<p>Otra opción útil es <code>-n</code>, que numera las líneas que
coinciden:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="st">"it"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>5:With searching comes loss
9:Yesterday it worked
10:Today it is not working</code></pre>
</div>
<p>Aquí, podemos ver que las líneas 5, 9 y 10 contienen las letras
“it”.</p>
<p>Podemos combinar opciones (es decir, <strong>flags</strong>) como lo
hacemos con otros comandos de Unix. Por ejemplo, vamos a encontrar las
líneas que contienen la palabra “the”. Podemos combinar la opción
<code>-w</code> para encontrar las líneas que contienen la palabra “the”
con <code>-n</code> para numerar las líneas que coinciden:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2:Is not the true Tao, until
6:and the presence of absence:</code></pre>
</div>
<p>Ahora queremos usar la opción <code>-i</code> para hacer que nuestra
búsqueda sea insensible a mayúsculas y minúsculas:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="at">-i</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1:The Tao that is seen
2:Is not the true Tao, until
6:and the presence of absence:</code></pre>
</div>
<p>Ahora, queremos usar la opción <code>-v</code> para invertir nuestra
búsqueda, es decir, queremos que obtener las líneas que NO contienen la
palabra “the”.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="at">-v</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1:The Tao that is seen
3:You bring fresh toner.
4:
5:With searching comes loss
7:"My Thesis" not found.
8:
9:Yesterday it worked
10:Today it is not working
11:Software is like that.</code></pre>
</div>
<p><code>grep</code> tiene muchas otras opciones. Para averiguar cuáles
son, podemos escribir:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">--help</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Usage: grep [OPTION]... PATTERN [FILE]...
Search for PATTERN in each FILE or standard input.
PATTERN is, by default, a basic regular expression (BRE).
Example: grep -i 'hello world' menu.h main.c

Regexp selection and interpretation:
  -E, --extended-regexp     PATTERN is an extended regular expression (ERE)
  -F, --fixed-strings       PATTERN is a set of newline-separated fixed strings
  -G, --basic-regexp        PATTERN is a basic regular expression (BRE)
  -P, --perl-regexp         PATTERN is a Perl regular expression
  -e, --regexp=PATTERN      use PATTERN for matching
  -f, --file=FILE           obtain PATTERN from FILE
  -i, --ignore-case         ignore case distinctions
  -w, --word-regexp         force PATTERN to match only whole words
  -x, --line-regexp         force PATTERN to match only whole lines
  -z, --null-data           a data line ends in 0 byte, not newline

Miscellaneous:
...        ...        ...</code></pre>
</div>
<div id="utilizando-grep" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="utilizando-grep" class="callout-inner">
<h3 class="callout-title">Utilizando <code>grep</code>
</h3>
<div class="callout-content">
<p>Haciendo referencia a <code>haiku.txt</code> presentado al inicio de
este tema, qué comando resultaría en la salida siguiente:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>and the presence of absence:</code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>grep "of" haiku.txt</code></li>
<li><code>grep -E "of" haiku.txt</code></li>
<li><code>grep -w "of" haiku.txt</code></li>
<li><code>grep -i "of" haiku.txt</code></li>
</ol>
</div>
</div>
</div>
<div id="caracteres-especiales-o-comodines" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="caracteres-especiales-o-comodines" class="callout-inner">
<h3 class="callout-title">Caracteres especiales o comodines</h3>
<div class="callout-content">
<p>La verdadera ventaja de <code>grep</code> no proviene de sus
opciones; viene del hecho de que los patrones pueden incluir comodines.
(El nombre técnico para estos son <strong>expresiones
regulares</strong>, que es lo que significa el “re” en “grep”.) Las
expresiones regulares son complejas y poderosas. Nota: Si quieres
realizar búsquedas complejas, y quieres saber más detalles mira la
lección de <a href="https://v4.software-carpentry.org/regexp/index.html" class="external-link">expresiones
regulares</a>. Como prueba, podemos encontrar líneas que tienen una ‘o’
en la segunda posición, por ejemplo:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-E</span> <span class="st">'^.o'</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>You bring fresh toner.
Today it is not working
Software is like that.</code></pre>
</div>
<p>Utilizamos el indicador <code>-E</code> y ponemos el patrón entre
comillas para evitar que el shell intente interpretarlo. (Si el patrón
contiene un <code>*</code>, por ejemplo, el shell intentaría expandirlo
antes de ejecutar grep.) El <code>^</code> en el patrón de búsqueda
indica que la coincidencia debe ser al inicio de la línea. El
<code>.</code> coincide con un solo carácter (como <code>?</code> en el
shell), mientras que el <code>o</code> coincide con una ‘o’ real que en
este caso viene a ser el segundo caracter.</p>
</div>
</div>
</div>
<div id="seguimiento-de-una-especie" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="seguimiento-de-una-especie" class="callout-inner">
<h3 class="callout-title">Seguimiento de una especie</h3>
<div class="callout-content">
<p>Leah tiene varios cientos de archivos de datos guardados en un
directorio, cada uno de los cuales tiene el formato siguiente:</p>
<pre class="source"><code>2013-11-05,deer,5
2013-11-05,rabbit,22
2013-11-05,raccoon,7
2013-11-06,rabbit,19
2013-11-06,deer,2</code></pre>
<p>Quiere escribir un <strong>script</strong> de shell que tome un
directorio y una especie como parámetros de línea de comandos y que le
devuelva un archivo llamado <code>species.txt</code> que contenga una
lista de fechas y el número de individuos de esa especie observados en
esa fecha, como este archivo de números de conejos:</p>
<pre class="source"><code>2013-11-05,22
2013-11-06,19
2013-11-07,18</code></pre>
<p>Escribe estos comandos y <strong>pipes</strong> en el orden correcto
para lograrlo:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">cut</span> <span class="at">-d</span> : <span class="at">-f</span> 2  </span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="op">&gt;</span>  </span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="kw">|</span>  </span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-w</span> <span class="va">$1</span> <span class="at">-r</span> <span class="va">$2</span>  </span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="kw">|</span>  </span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a><span class="va">$1</span><span class="ex">.txt</span>  </span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a><span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 1,3  </span></code></pre>
</div>
<p>Sugerencia: usa <code>man grep</code> para buscar cómo seleccionar
texto recursivamente en un directorio usando grep y <code>man cut</code>
para seleccionar más de un campo en una línea. Encuentra un ejemplo en
el siguiente archivo
<code>data-shell/data/animal-counts/animals.txt</code></p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<pre class="source"><code>grep -w $1 -r $2 | cut -d : -f 2 | cut -d , -f 1,3  &gt; $1.txt</code></pre>
<p>Puedes llamar al <strong>script</strong> de la siguiente forma:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> bash count-species.sh bear .</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="mujercitas" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="mujercitas" class="callout-inner">
<h3 class="callout-title">Mujercitas</h3>
<div class="callout-content">
<p>Tú y tu amigo tienen una desacuerdo, después de terminar de leer
<em>Little Women</em> de Louisa May Alcott. De las cuatro hermanas en el
libro, Jo, Meg, Beth, y Amy, tu amigo piensa que Jo era la más
mencionada. Tú, sin embargo, estás segura de que era Amy.
Afortunadamente tu tienes un archivo llamado
<code>LittleWomen.txt</code> en data/, que contiene el texto completo de
la novela. Utilizando un bucle <code>for</code>, ¿cómo tabularías el
número de veces que cada una de las cuatro hermanas es mencionada?</p>
<p>Sugerencia: una solución sería emplear los comandos <code>grep</code>
y <code>wc</code> y un <code>|</code>, mientras que otra solución podría
utilizar opciones de <code>grep</code>. Normalmente hay más de una forma
para solucionar una tarea de programación. Cada solución es seleccionada
de acuerdo a la combinación entre cuál es la que produce el resultado
correcto, con mayor elegancia, de la manera más clara y con mayor
velocidad.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<pre class="source"><code>for sis in Jo Meg Beth Amy
do
	echo $sis:
  grep -ow $sis LittleWomen.txt | wc -l
done</code></pre>
<p>Alternativa, menos eficiente:</p>
<pre class="source"><code>for sis in Jo Meg Beth Amy
do
	echo $sis:
grep -ocw $sis LittleWomen.txt
done</code></pre>
<p>Esta solución es menos eficiente porque <code>grep -c</code>
solamente reporta el número de las líneas. El número total de
coincidencias que es reportado por este método va a ser más bajo si hay
más de una coincidencia por línea.</p>
</div>
</div>
</div>
</div>
<p>Mientras <code>grep</code> encuentra líneas en los archivos, El
comando <code>find</code> busca los archivos. Una vez más, tienes muchas
opciones. Para mostrar cómo funcionan las más simples, utilizaremos el
árbol de directorios que se muestra a continuación.</p>
<figure><img src="fig/find-file-tree.svg" alt="Árbol de archivos para el ejemplo de búsqueda" class="figure mx-auto d-block"></figure><p>El directorio <code>writing</code> de Nelle contiene un archivo
llamado <code>haiku.txt</code> y tres subdirectorios:
<code>thesis</code> (que contiene un archivo tristemente vacío,
<code>empty-draft.md</code>), <code>data</code> (que contiene dos
archivos <code>LittleWomen.txt</code> , <code>one.txt</code> y
<code>two.txt</code>), un directorio <code>tools</code> que contiene los
programas<code>format</code> y <code>stats</code>, y un subdirectorio
llamado <code>old</code>, con un archivo <code>oldtool</code>.</p>
<p>Para nuestro primer comando, ejecutemos <code>find .</code>.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> find .</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">one.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">two.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span><span class="op">/</span><span class="va">format</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span><span class="op">/</span><span class="va">old</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span><span class="op">/</span><span class="va">old</span><span class="op">/</span><span class="va">oldtool</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span><span class="op">/</span><span class="va">stats</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">haiku.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">thesis</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">thesis</span><span class="op">/</span><span class="va">empty</span><span class="op">-</span><span class="va">draft.md</span></span></code></pre>
</div>
<p>Como siempre, el <code>.</code> por sí mismo significa el directorio
de trabajo actual, que es donde queremos que empiece nuestra búsqueda.
La salida de <code>find</code> es el nombre de cada archivo
<strong>y</strong> directorio dentro del directorio de trabajo actual.
Esto puede parecer inútil al principio, pero <code>find</code> tiene
muchas opciones para filtrar la salida y en esta lección vamos a
descubrir algunas de ellas.</p>
<p>La primera opción en nuestra lista es <code>-type d</code> que
significa “encontrar directorios”. Por supuesto que la salida de
<code>find</code> serán los nombres de los cinco directorios en nuestro
pequeño árbol (incluyendo <code>.</code>):</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-type</span> d</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">thesis</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span><span class="op">/</span><span class="va">old</span></span></code></pre>
</div>
<p>Si cambiamos <code>-type d</code> por <code>-type f</code>, recibimos
una lista de todos los archivos:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-type</span> f</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">haiku.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span><span class="op">/</span><span class="va">stats</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span><span class="op">/</span><span class="va">old</span><span class="op">/</span><span class="va">oldtool</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">tools</span><span class="op">/</span><span class="va">format</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">thesis</span><span class="op">/</span><span class="va">empty</span><span class="op">-</span><span class="va">draft.md</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">one.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">two.txt</span></span></code></pre>
</div>
<p>Ahora tratemos de buscar por nombre:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">haiku.txt</span></span></code></pre>
</div>
<p>Esperábamos que encontrara todos los archivos de texto, Pero sólo
imprime <code>./haiku.txt</code>. El problema es que el shell amplía los
caracteres comodín como <code>*</code> <em>antes</em> de ejecutar los
comandos. Dado que <code>*.txt</code> en el directorio actual se expande
a <code>haiku.txt</code>, El comando que ejecutamos era:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> haiku.txt</span></code></pre>
</div>
<p><code>find</code> hizo lo que pedimos, pero pedimos la cosa
equivocada.</p>
<p>Para conseguir lo que queremos, vamos a hacer lo que hicimos con
<code>grep</code>: escribe <code>* txt</code> entre comillas simples
para evitar que el shell expanda el comodín <code>*</code>. De esta
manera, <code>find</code> obtiene realmente el patrón
<code>*.txt</code>, no el nombre de archivo expandido
<code>haiku.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> <span class="st">'*.txt'</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">one.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">data</span><span class="op">/</span><span class="va">two.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">haiku.txt</span></span></code></pre>
</div>
<div id="listar-vs.-buscar" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="listar-vs.-buscar" class="callout-inner">
<h3 class="callout-title">Listar vs. Buscar</h3>
<div class="callout-content">
<p><code>ls</code> y<code>find</code> se pueden usar para hacer cosas
similares dadas las opciones correctas, pero en circunstancias normales,
<code>ls</code> enumera todo lo que puede, mientras que
<code>find</code> busca cosas con ciertas propiedades y las muestra.</p>
</div>
</div>
</div>
<p>Como mencionamos anteriormente, el poder de la línea de comandos
reside en la combinación de herramientas. Hemos visto cómo hacerlo con
<strong>pipes</strong>, veamos otra técnica. Como acabamos de ver,
<code>find . -name '*.txt'</code> nos da una lista de todos los archivos
de texto dentro o más abajo del directorio actual. ¿Cómo podemos
combinar eso con <code>wc -l</code> para contar las líneas en todos esos
archivos?</p>
<p>La forma más sencilla es poner el comando <code>find</code> dentro de
<code>$()</code>:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">'*.txt'</span><span class="va">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>11 ./haiku.txt
300 ./data/two.txt
21022 ./data/LittleWomen.txt
70 ./data/one.txt
21403 total</code></pre>
</div>
<p>Cuando el shell ejecuta este comando, lo primero que hace es ejecutar
lo que esté dentro del <code>$()</code>. Luego reemplaza la expresión
<code>$()</code> con la salida de ese comando. Dado que la salida de
<code>find</code> son los cuatro nombres de directorio
<code>./data/one.txt</code>, <code>./data/LittleWomen.txt</code>,
<code>./data/two.txt</code>, y <code>./haiku.txt</code>, el shell
construye el comando:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> ./data/one.txt ./data/LittleWomen.txt ./data/two.txt ./haiku.txt</span></code></pre>
</div>
<p>que es lo que queríamos. Esta expansión es exactamente lo que hace el
shell cuando se expanden comodines como <code>*</code> y <code>?</code>,
pero nos permite usar cualquier comando que deseemos como nuestro propio
“comodín”.</p>
<p>Es muy común usar <code>find</code> y <code>grep</code> juntos. El
primero encuentra archivos que coinciden con un patrón; el segundo busca
líneas dentro de los archivos que coinciden con otro patrón. Aquí, por
ejemplo, podemos encontrar archivos PDB que contienen átomos de hierro
buscando la cadena “FE” en todos los archivos <code>.pdb</code> por
encima del directorio actual:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="st">"FE"</span> <span class="va">$(</span><span class="fu">find</span> .. <span class="at">-name</span> <span class="st">'*.pdb'</span><span class="va">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>../data/pdb/heme.pdb:ATOM     25 FE           1      -0.924   0.535  -0.518</code></pre>
</div>
<div id="buscando-coincidencias-y-restando" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="buscando-coincidencias-y-restando" class="callout-inner">
<h3 class="callout-title">Buscando coincidencias y restando</h3>
<div class="callout-content">
<p><code>-v</code> es una opción de <code>grep</code> que invierte la
coincidencia de patrones, de modo que sólo las líneas que <em>no</em>
coinciden con el patrón se imprimen. Dado esto ¿cuál de los siguientes
comandos encontrarán todos los archivos en <code>/data</code> cuyos
nombres terminan en <code>s.txt</code> (por ejemplo,
<code>animals.txt</code> or <code>planets.txt</code>), pero <em>no</em>
contienen la palabra <code>net</code>? Después de pensar en tu
respuesta, puedes probar los comandos en el directorio
<code>data-shell</code>.</p>
<ol style="list-style-type: decimal">
<li><code>find data -name '*s.txt' | grep -v net</code></li>
<li><code>find data -name *s.txt | grep -v net</code></li>
<li><code>grep -v "temp" $(find data -name '*s.txt')</code></li>
<li>Ninguna de las anteriores.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Solución
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>La respuesta correcta es 1. Poniendo la expresión entre comillas,
evita que el shell la expanda, y luego lo pasa al comando
<code>find</code>.</p>
<p>La opción 2 es incorrecta porque el shell expande <code>*s.txt</code>
en lugar de mandar el nombre correcto al <code>find</code>.</p>
<p>La opción 3 es incorrecta porque busca en los contenidos de los
archivos las líneas que no coinciden con “temp”, en lugar de buscar los
nombres de los archivos.</p>
</div>
</div>
</div>
</div>
<div id="archivos-binarios" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="archivos-binarios" class="callout-inner">
<h3 class="callout-title">Archivos binarios</h3>
<div class="callout-content">
<p>Nos hemos centrado exclusivamente en encontrar cosas en archivos de
texto. ¿Y si sus datos se almacenan como imágenes, en bases de datos, o
en algún otro formato? Una opción sería extender herramientas como
<code>grep</code> para manejar esos formatos. Esto no ha sucedido, y
probablemente no se hará, porque hay demasiados formatos
disponibles.</p>
<p>La segunda opción es convertir los datos en texto, o extraer los bits
de texto de los datos. Este es probablemente el enfoque más común, ya
que sólo requiere generar una herramienta por formato de datos (para
extraer información). Por un lado, facilita realizar las cosas simples.
Por el contrario, las cosas complejas son generalmente imposibles. Por
ejemplo, es bastante fácil escribir un programa que extraiga las
dimensiones X, Y de los archivos de imagen para que podamos después usar
<code>grep</code>, pero ¿cómo escribir algo para encontrar valores en
una hoja de cálculo cuyas celdas contienen fórmulas?</p>
<p>La tercera opción es reconocer que laterminal y el procesamiento de
texto tiene sus límites, y en caso necesario debes utilizar otro
lenguaje de programación. Sin embargo, el shell te seguirá siendo útil
para realizar tareas de procesamiento diarias.</p>
</div>
</div>
</div>
<p>La terminal de Unix es más antiguo que la mayoría de las personas que
lo usan. Ha sobrevivido tanto tiempo porque es uno de los ambientes de
programación más productivos jamás creados — quizás incluso <em>el</em>
más productivo. Su sintaxis puede ser críptica, pero las personas que lo
dominan pueden experimentar con diferentes comandos interactivamente, y
luego utilizar lo que han aprendido para automatizar su trabajo. Las
interfaces gráficas de usuario pueden ser más sencillas al principio,
pero el shell sigue invicto en segunda instancia. Y como Alfred North
Whitehead escribió en 1911, “La civilización avanza extendiendo el
número de operaciones importantes que podemos realizar sin pensar en
ellas.”</p>
<div id="find-comprensión-de-lectura-de-pipeline" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="find-comprensión-de-lectura-de-pipeline" class="callout-inner">
<h3 class="callout-title">
<code>find</code> Comprensión de lectura de
pipeline</h3>
<div class="callout-content">
<p>Escribe un breve comentario explicativo para el siguiente
<strong>script</strong> de shell:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">'*.dat'</span><span class="va">)</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Encuentra todos los archivos con una extensión <code>.dat</code> en
el directorio actual</li>
<li>Cuenta el número de líneas que contiene cada uno de estos
archivos</li>
<li>Ordena la salida del paso 2. numéricamente</li>
</ol>
</div>
</div>
</div>
</div>
<div id="búsqueda-de-archivos-con-propiedades-diferentes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="búsqueda-de-archivos-con-propiedades-diferentes" class="callout-inner">
<h3 class="callout-title">Búsqueda de archivos con propiedades diferentes</h3>
<div class="callout-content">
<p>El comando <code>find</code> puede recibir varios otros criterios
conocidos como “tests” para localizar archivos con atributos
específicos, como tiempo de creación, tamaño, permisos o dueño. Explora
el manual con <code>man find</code> y luego escribe un solo comando para
encontrar todos los archivos en o debajo del directorio actual que han
sido modificados por el usuario <code>ahmed</code> en las últimas 24
horas.</p>
<p>Sugerencia 1: necesitarás utilizar tres tests:
<code>-type</code>,<code>-mtime</code> y <code>-user</code>.</p>
<p>Sugerencia 2: El valor de <code>-mtime</code> tendrá que ser negativo
— ¿por qué?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Solución:
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>Asumiendo que el directorio de inicio de Nelle es nuestro directorio
en el que trabajamos, podemos usar:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> find ./ <span class="at">-type</span> f <span class="at">-mtime</span> <span class="at">-1</span> <span class="at">-user</span> ahmed</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>
<code>find</code> encuentra archivos con propiedades específicas que
coinciden con los patrones especificados.</li>
<li>
<code>grep</code> selecciona líneas en archivos que coinciden con
los patrones especificados.</li>
<li>
<code>--help</code> es un indicador usado por muchos comandos bash y
programas que se pueden ejecutar desde dentro de Bash, se usa para
mostrar más información sobre cómo usar estos comandos o programas.</li>
<li>
<code>man command</code> muestra la página del manual de un
comando.</li>
<li>
<code>$(comando)</code> contiene la salida de un comando.</li>
</ul>
</div>
</div>
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>Esta lección está sujeta al <a href="CODE_OF_CONDUCT.html">Código de Conducta</a></p>
        <p>

        <a href="https://github.com/swcarpentry/shell-novice-es/edit/main/README.md" class="external-link">Editar en GitHub</a>

	
        | <a href="https://github.com/swcarpentry/shell-novice-es/blob/main/CONTRIBUTING.md" class="external-link">Contribuir</a>
        | <a href="https://github.com/swcarpentry/shell-novice-es/" class="external-link">Fuente</a></p>
				<p><a href="https://github.com/swcarpentry/shell-novice-es/blob/main/CITATION" class="external-link">Cita</a> | <a href="mailto:team@carpentries.org">Contacto</a> | <a href="https://carpentries.org/about/" class="external-link">Acerca de</a></p>
			</div>
			<div class="col-md-6">

        <p>Materiales bajo la <a href="LICENSE.html">CC-BY 4.0</a> por las autoras</p>

        <p>Plantilla compartida bajo <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> por <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construido con <a href="https://github.com/carpentries/sandpaper/tree/0.16.9" class="external-link">sandpaper (0.16.9)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.6" class="external-link">pegboard (0.7.6)</a> y <a href="https://github.com/carpentries/varnish/tree/1.0.4" class="external-link">varnish (1.0.4)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Volver al inicio"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Volver</span> al inicio
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://swcarpentry.github.io/shell-novice-es/aio.html",
  "inLanguage": "es",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Todo en una sola página",
  "creativeWorkStatus": "active",
  "url": "https://swcarpentry.github.io/shell-novice-es/aio.html",
  "identifier": "https://swcarpentry.github.io/shell-novice-es/aio.html",
  "dateCreated": "2018-02-20",
  "dateModified": "2024-10-29",
  "datePublished": "2024-10-29"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

